"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/lib/auth/session.ts":
/*!*********************************!*\
  !*** ./src/lib/auth/session.ts ***!
  \*********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildLogoutUrl: function() { return /* binding */ buildLogoutUrl; },\n/* harmony export */   clearSession: function() { return /* binding */ clearSession; },\n/* harmony export */   getAccessToken: function() { return /* binding */ getAccessToken; },\n/* harmony export */   getAuthUser: function() { return /* binding */ getAuthUser; },\n/* harmony export */   getInitials: function() { return /* binding */ getInitials; },\n/* harmony export */   isAuthenticated: function() { return /* binding */ isAuthenticated; },\n/* harmony export */   isTokenExpired: function() { return /* binding */ isTokenExpired; },\n/* harmony export */   logout: function() { return /* binding */ logout; },\n/* harmony export */   refreshToken: function() { return /* binding */ refreshToken; }\n/* harmony export */ });\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/react */ \"(app-pages-browser)/./node_modules/next-auth/react/index.js\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth_react__WEBPACK_IMPORTED_MODULE_0__);\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n// SECURITY: Tokens are now stored server-side in Redis via NextAuth\n// This file provides compatibility functions that use NextAuth session instead of localStorage\n// All token access is handled server-side by the API proxy\n\n/**\n * Check if user is authenticated using NextAuth session\n * Note: This is a synchronous check that may not be accurate during initial load\n * For accurate checks, use useSession() hook in React components\n */ function isAuthenticated() {\n    if (false) {}\n    // Check if session cookie exists (basic check)\n    // For accurate authentication status, use useSession() hook\n    const cookies = document.cookie.split(\";\");\n    const hasSessionCookie = cookies.some((cookie)=>cookie.trim().startsWith(\"next-auth.session-token=\") || cookie.trim().startsWith(\"__Secure-next-auth.session-token=\"));\n    return hasSessionCookie;\n}\n/**\n * SECURITY: Tokens are stored server-side in Redis\n * This function returns null - tokens should never be accessed from the frontend\n * The API proxy automatically injects tokens from Redis based on the session cookie\n */ async function getAccessToken() {\n    // SECURITY: Do not return tokens from frontend\n    // Tokens are stored server-side in Redis and injected by the proxy\n    console.warn(\"[SECURITY] getAccessToken() called - tokens are server-side only. Use API proxy instead.\");\n    return null;\n}\n/**\n * SECURITY: Token refresh is handled server-side by NextAuth\n * This function is deprecated - NextAuth handles token refresh automatically\n */ async function refreshToken() {\n    // Token refresh is handled server-side by NextAuth\n    // No action needed from frontend\n    console.warn(\"[SECURITY] refreshToken() called - token refresh is handled server-side by NextAuth\");\n    return false;\n}\n/**\n * Get authenticated user from NextAuth session\n * This function attempts to get user info from the session cookie\n * For accurate user data, use useSession() hook in React components\n */ function getAuthUser() {\n    if (false) {}\n    // Try to get user from NextAuth session via API\n    // This is a synchronous fallback - for accurate data use useSession() hook\n    try {\n        // Check if we can get session synchronously (not recommended, but for compatibility)\n        // In practice, components should use useSession() hook\n        const sessionData = sessionStorage.getItem(\"nextauth.session.user\");\n        if (sessionData) {\n            try {\n                const user = JSON.parse(sessionData);\n                return {\n                    sub: user.id,\n                    name: user.name || user.email || \"User\",\n                    email: user.email\n                };\n            } catch (e) {\n            // Invalid session data\n            }\n        }\n    } catch (e) {\n    // Session storage not available or error\n    }\n    // Fallback: return default user\n    // Components should use useSession() hook for accurate data\n    return {\n        name: \"User\"\n    };\n}\n/**\n * Clear session and sign out using NextAuth\n */ function clearSession() {\n    if (false) {}\n    // Clear any legacy localStorage tokens (shouldn't exist, but clean up just in case)\n    localStorage.removeItem(\"access_token\");\n    localStorage.removeItem(\"refresh_token\");\n    localStorage.removeItem(\"id_token\");\n    localStorage.removeItem(\"token_expires_at\");\n    // Clear session storage\n    sessionStorage.removeItem(\"nextauth.session.user\");\n    // Sign out using NextAuth (this will clear the session cookie)\n    (0,next_auth_react__WEBPACK_IMPORTED_MODULE_0__.signOut)({\n        callbackUrl: \"/auth/login\"\n    });\n}\n/**\n * Redirect to login page\n */ function redirectToLogin() {\n    if (false) {}\n    // Don't redirect if already on auth pages\n    if (window.location.pathname.startsWith(\"/auth/\")) return;\n    // Use replace to avoid adding to history\n    try {\n        window.location.replace(\"/auth/login\");\n    } catch (e) {\n        window.location.href = \"/auth/login\";\n    }\n}\n/**\n * Build logout URL for Keycloak\n * Note: NextAuth handles logout, but this is kept for compatibility\n */ function buildLogoutUrl(postLogoutRedirectUri) {\n    // NextAuth handles logout, but if needed for Keycloak direct logout:\n    const keycloakIssuer = process.env.NEXT_PUBLIC_KEYCLOAK_ISSUER || \"https://keycloak-staging.app-stg.mukuru.io/realms/mukuru\";\n    const base = \"\".concat(keycloakIssuer, \"/protocol/openid-connect/logout\");\n    const url = new URL(base);\n    url.searchParams.set(\"post_logout_redirect_uri\", postLogoutRedirectUri);\n    return url.toString();\n}\n/**\n * Logout user using NextAuth\n */ function logout() {\n    let postLogoutRedirectUri = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"/auth/login\";\n    // Use NextAuth signOut which handles session cleanup\n    (0,next_auth_react__WEBPACK_IMPORTED_MODULE_0__.signOut)({\n        callbackUrl: postLogoutRedirectUri\n    });\n}\n/**\n * Get user initials from name\n */ function getInitials(name) {\n    const parts = name.trim().split(/\\s+/).filter(Boolean);\n    if (parts.length === 0) return \"\";\n    if (parts.length === 1) return parts[0].slice(0, 2).toUpperCase();\n    return (parts[0][0] + parts[1][0]).toUpperCase();\n}\n/**\n * DEPRECATED: Token expiration check is handled server-side\n * This function is kept for compatibility but always returns false\n */ function isTokenExpired() {\n    let bufferSeconds = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 120;\n    // Token expiration is handled server-side by NextAuth\n    // This function is deprecated\n    console.warn(\"[DEPRECATED] isTokenExpired() - token expiration is handled server-side\");\n    return false;\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvYXV0aC9zZXNzaW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG9FQUFvRTtBQUNwRSwrRkFBK0Y7QUFDL0YsMkRBQTJEO0FBRWpCO0FBVTFDOzs7O0NBSUMsR0FDTSxTQUFTQztJQUNkLElBQUksS0FBa0IsRUFBYSxFQUFhO0lBRWhELCtDQUErQztJQUMvQyw0REFBNEQ7SUFDNUQsTUFBTUMsVUFBVUMsU0FBU0MsTUFBTSxDQUFDQyxLQUFLLENBQUM7SUFDdEMsTUFBTUMsbUJBQW1CSixRQUFRSyxJQUFJLENBQUNILENBQUFBLFNBQ3BDQSxPQUFPSSxJQUFJLEdBQUdDLFVBQVUsQ0FBQywrQkFDekJMLE9BQU9JLElBQUksR0FBR0MsVUFBVSxDQUFDO0lBRzNCLE9BQU9IO0FBQ1Q7QUFFQTs7OztDQUlDLEdBQ00sZUFBZUk7SUFDcEIsK0NBQStDO0lBQy9DLG1FQUFtRTtJQUNuRUMsUUFBUUMsSUFBSSxDQUFDO0lBQ2IsT0FBTztBQUNUO0FBRUE7OztDQUdDLEdBQ00sZUFBZUM7SUFDcEIsbURBQW1EO0lBQ25ELGlDQUFpQztJQUNqQ0YsUUFBUUMsSUFBSSxDQUFDO0lBQ2IsT0FBTztBQUNUO0FBRUE7Ozs7Q0FJQyxHQUNNLFNBQVNFO0lBQ2QsSUFBSSxLQUFrQixFQUFhLEVBRWxDO0lBRUQsZ0RBQWdEO0lBQ2hELDJFQUEyRTtJQUMzRSxJQUFJO1FBQ0YscUZBQXFGO1FBQ3JGLHVEQUF1RDtRQUN2RCxNQUFNRSxjQUFjQyxlQUFlQyxPQUFPLENBQUM7UUFDM0MsSUFBSUYsYUFBYTtZQUNmLElBQUk7Z0JBQ0YsTUFBTUcsT0FBT0MsS0FBS0MsS0FBSyxDQUFDTDtnQkFDeEIsT0FBTztvQkFDTE0sS0FBS0gsS0FBS0ksRUFBRTtvQkFDWlIsTUFBTUksS0FBS0osSUFBSSxJQUFJSSxLQUFLSyxLQUFLLElBQUk7b0JBQ2pDQSxPQUFPTCxLQUFLSyxLQUFLO2dCQUNuQjtZQUNGLEVBQUUsVUFBTTtZQUNOLHVCQUF1QjtZQUN6QjtRQUNGO0lBQ0YsRUFBRSxVQUFNO0lBQ04seUNBQXlDO0lBQzNDO0lBRUEsZ0NBQWdDO0lBQ2hDLDREQUE0RDtJQUM1RCxPQUFPO1FBQ0xULE1BQU07SUFDUjtBQUNGO0FBRUE7O0NBRUMsR0FDTSxTQUFTVTtJQUNkLElBQUksS0FBa0IsRUFBYSxFQUFPO0lBRTFDLG9GQUFvRjtJQUNwRkMsYUFBYUMsVUFBVSxDQUFDO0lBQ3hCRCxhQUFhQyxVQUFVLENBQUM7SUFDeEJELGFBQWFDLFVBQVUsQ0FBQztJQUN4QkQsYUFBYUMsVUFBVSxDQUFDO0lBRXhCLHdCQUF3QjtJQUN4QlYsZUFBZVUsVUFBVSxDQUFDO0lBRTFCLCtEQUErRDtJQUMvRDNCLHdEQUFPQSxDQUFDO1FBQUU0QixhQUFhO0lBQWM7QUFDdkM7QUFFQTs7Q0FFQyxHQUNELFNBQVNDO0lBQ1AsSUFBSSxLQUFrQixFQUFhLEVBQU87SUFFMUMsMENBQTBDO0lBQzFDLElBQUlDLE9BQU9DLFFBQVEsQ0FBQ0MsUUFBUSxDQUFDdkIsVUFBVSxDQUFDLFdBQVc7SUFFbkQseUNBQXlDO0lBQ3pDLElBQUk7UUFDRnFCLE9BQU9DLFFBQVEsQ0FBQ0UsT0FBTyxDQUFDO0lBQzFCLEVBQUUsVUFBTTtRQUNOSCxPQUFPQyxRQUFRLENBQUNHLElBQUksR0FBRztJQUN6QjtBQUNGO0FBRUE7OztDQUdDLEdBQ00sU0FBU0MsZUFBZUMscUJBQTZCO0lBQzFELHFFQUFxRTtJQUNyRSxNQUFNQyxpQkFBaUJDLE9BQU9BLENBQUNDLEdBQUcsQ0FBQ0MsMkJBQTJCLElBQUk7SUFDbEUsTUFBTUMsT0FBTyxHQUFrQixPQUFmSixnQkFBZTtJQUMvQixNQUFNSyxNQUFNLElBQUlDLElBQUlGO0lBQ3BCQyxJQUFJRSxZQUFZLENBQUNDLEdBQUcsQ0FBQyw0QkFBNEJUO0lBQ2pELE9BQU9NLElBQUlJLFFBQVE7QUFDckI7QUFFQTs7Q0FFQyxHQUNNLFNBQVNDO1FBQU9YLHdCQUFBQSxpRUFBZ0M7SUFDckQscURBQXFEO0lBQ3JEcEMsd0RBQU9BLENBQUM7UUFBRTRCLGFBQWFRO0lBQXNCO0FBQy9DO0FBRUE7O0NBRUMsR0FDTSxTQUFTWSxZQUFZakMsSUFBWTtJQUN0QyxNQUFNa0MsUUFBUWxDLEtBQUtQLElBQUksR0FBR0gsS0FBSyxDQUFDLE9BQU82QyxNQUFNLENBQUNDO0lBQzlDLElBQUlGLE1BQU1HLE1BQU0sS0FBSyxHQUFHLE9BQU87SUFDL0IsSUFBSUgsTUFBTUcsTUFBTSxLQUFLLEdBQUcsT0FBT0gsS0FBSyxDQUFDLEVBQUUsQ0FBQ0ksS0FBSyxDQUFDLEdBQUcsR0FBR0MsV0FBVztJQUMvRCxPQUFPLENBQUNMLEtBQUssQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHQSxLQUFLLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRUssV0FBVztBQUNoRDtBQUVBOzs7Q0FHQyxHQUNNLFNBQVNDO1FBQWVDLGdCQUFBQSxpRUFBd0I7SUFDckQsc0RBQXNEO0lBQ3RELDhCQUE4QjtJQUM5QjdDLFFBQVFDLElBQUksQ0FBQztJQUNiLE9BQU87QUFDVCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvbGliL2F1dGgvc2Vzc2lvbi50cz81ODg4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIFNFQ1VSSVRZOiBUb2tlbnMgYXJlIG5vdyBzdG9yZWQgc2VydmVyLXNpZGUgaW4gUmVkaXMgdmlhIE5leHRBdXRoXG4vLyBUaGlzIGZpbGUgcHJvdmlkZXMgY29tcGF0aWJpbGl0eSBmdW5jdGlvbnMgdGhhdCB1c2UgTmV4dEF1dGggc2Vzc2lvbiBpbnN0ZWFkIG9mIGxvY2FsU3RvcmFnZVxuLy8gQWxsIHRva2VuIGFjY2VzcyBpcyBoYW5kbGVkIHNlcnZlci1zaWRlIGJ5IHRoZSBBUEkgcHJveHlcblxuaW1wb3J0IHsgc2lnbk91dCB9IGZyb20gXCJuZXh0LWF1dGgvcmVhY3RcIjtcblxuZXhwb3J0IHR5cGUgQXV0aFVzZXIgPSB7XG4gIHN1Yj86IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBlbWFpbD86IHN0cmluZztcbiAgZ2l2ZW5OYW1lPzogc3RyaW5nO1xuICBmYW1pbHlOYW1lPzogc3RyaW5nO1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiB1c2VyIGlzIGF1dGhlbnRpY2F0ZWQgdXNpbmcgTmV4dEF1dGggc2Vzc2lvblxuICogTm90ZTogVGhpcyBpcyBhIHN5bmNocm9ub3VzIGNoZWNrIHRoYXQgbWF5IG5vdCBiZSBhY2N1cmF0ZSBkdXJpbmcgaW5pdGlhbCBsb2FkXG4gKiBGb3IgYWNjdXJhdGUgY2hlY2tzLCB1c2UgdXNlU2Vzc2lvbigpIGhvb2sgaW4gUmVhY3QgY29tcG9uZW50c1xuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkKCk6IGJvb2xlYW4ge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBmYWxzZTtcbiAgXG4gIC8vIENoZWNrIGlmIHNlc3Npb24gY29va2llIGV4aXN0cyAoYmFzaWMgY2hlY2spXG4gIC8vIEZvciBhY2N1cmF0ZSBhdXRoZW50aWNhdGlvbiBzdGF0dXMsIHVzZSB1c2VTZXNzaW9uKCkgaG9va1xuICBjb25zdCBjb29raWVzID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7Jyk7XG4gIGNvbnN0IGhhc1Nlc3Npb25Db29raWUgPSBjb29raWVzLnNvbWUoY29va2llID0+IFxuICAgIGNvb2tpZS50cmltKCkuc3RhcnRzV2l0aCgnbmV4dC1hdXRoLnNlc3Npb24tdG9rZW49JykgfHwgXG4gICAgY29va2llLnRyaW0oKS5zdGFydHNXaXRoKCdfX1NlY3VyZS1uZXh0LWF1dGguc2Vzc2lvbi10b2tlbj0nKVxuICApO1xuICBcbiAgcmV0dXJuIGhhc1Nlc3Npb25Db29raWU7XG59XG5cbi8qKlxuICogU0VDVVJJVFk6IFRva2VucyBhcmUgc3RvcmVkIHNlcnZlci1zaWRlIGluIFJlZGlzXG4gKiBUaGlzIGZ1bmN0aW9uIHJldHVybnMgbnVsbCAtIHRva2VucyBzaG91bGQgbmV2ZXIgYmUgYWNjZXNzZWQgZnJvbSB0aGUgZnJvbnRlbmRcbiAqIFRoZSBBUEkgcHJveHkgYXV0b21hdGljYWxseSBpbmplY3RzIHRva2VucyBmcm9tIFJlZGlzIGJhc2VkIG9uIHRoZSBzZXNzaW9uIGNvb2tpZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWNjZXNzVG9rZW4oKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XG4gIC8vIFNFQ1VSSVRZOiBEbyBub3QgcmV0dXJuIHRva2VucyBmcm9tIGZyb250ZW5kXG4gIC8vIFRva2VucyBhcmUgc3RvcmVkIHNlcnZlci1zaWRlIGluIFJlZGlzIGFuZCBpbmplY3RlZCBieSB0aGUgcHJveHlcbiAgY29uc29sZS53YXJuKCdbU0VDVVJJVFldIGdldEFjY2Vzc1Rva2VuKCkgY2FsbGVkIC0gdG9rZW5zIGFyZSBzZXJ2ZXItc2lkZSBvbmx5LiBVc2UgQVBJIHByb3h5IGluc3RlYWQuJyk7XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIFNFQ1VSSVRZOiBUb2tlbiByZWZyZXNoIGlzIGhhbmRsZWQgc2VydmVyLXNpZGUgYnkgTmV4dEF1dGhcbiAqIFRoaXMgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZCAtIE5leHRBdXRoIGhhbmRsZXMgdG9rZW4gcmVmcmVzaCBhdXRvbWF0aWNhbGx5XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWZyZXNoVG9rZW4oKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIC8vIFRva2VuIHJlZnJlc2ggaXMgaGFuZGxlZCBzZXJ2ZXItc2lkZSBieSBOZXh0QXV0aFxuICAvLyBObyBhY3Rpb24gbmVlZGVkIGZyb20gZnJvbnRlbmRcbiAgY29uc29sZS53YXJuKCdbU0VDVVJJVFldIHJlZnJlc2hUb2tlbigpIGNhbGxlZCAtIHRva2VuIHJlZnJlc2ggaXMgaGFuZGxlZCBzZXJ2ZXItc2lkZSBieSBOZXh0QXV0aCcpO1xuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogR2V0IGF1dGhlbnRpY2F0ZWQgdXNlciBmcm9tIE5leHRBdXRoIHNlc3Npb25cbiAqIFRoaXMgZnVuY3Rpb24gYXR0ZW1wdHMgdG8gZ2V0IHVzZXIgaW5mbyBmcm9tIHRoZSBzZXNzaW9uIGNvb2tpZVxuICogRm9yIGFjY3VyYXRlIHVzZXIgZGF0YSwgdXNlIHVzZVNlc3Npb24oKSBob29rIGluIFJlYWN0IGNvbXBvbmVudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEF1dGhVc2VyKCk6IEF1dGhVc2VyIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHsgbmFtZTogJ1VzZXInIH07XG4gIH1cblxuICAvLyBUcnkgdG8gZ2V0IHVzZXIgZnJvbSBOZXh0QXV0aCBzZXNzaW9uIHZpYSBBUElcbiAgLy8gVGhpcyBpcyBhIHN5bmNocm9ub3VzIGZhbGxiYWNrIC0gZm9yIGFjY3VyYXRlIGRhdGEgdXNlIHVzZVNlc3Npb24oKSBob29rXG4gIHRyeSB7XG4gICAgLy8gQ2hlY2sgaWYgd2UgY2FuIGdldCBzZXNzaW9uIHN5bmNocm9ub3VzbHkgKG5vdCByZWNvbW1lbmRlZCwgYnV0IGZvciBjb21wYXRpYmlsaXR5KVxuICAgIC8vIEluIHByYWN0aWNlLCBjb21wb25lbnRzIHNob3VsZCB1c2UgdXNlU2Vzc2lvbigpIGhvb2tcbiAgICBjb25zdCBzZXNzaW9uRGF0YSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ25leHRhdXRoLnNlc3Npb24udXNlcicpO1xuICAgIGlmIChzZXNzaW9uRGF0YSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXNlciA9IEpTT04ucGFyc2Uoc2Vzc2lvbkRhdGEpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1YjogdXNlci5pZCxcbiAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUgfHwgdXNlci5lbWFpbCB8fCAnVXNlcicsXG4gICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgIH07XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLy8gSW52YWxpZCBzZXNzaW9uIGRhdGFcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2gge1xuICAgIC8vIFNlc3Npb24gc3RvcmFnZSBub3QgYXZhaWxhYmxlIG9yIGVycm9yXG4gIH1cblxuICAvLyBGYWxsYmFjazogcmV0dXJuIGRlZmF1bHQgdXNlclxuICAvLyBDb21wb25lbnRzIHNob3VsZCB1c2UgdXNlU2Vzc2lvbigpIGhvb2sgZm9yIGFjY3VyYXRlIGRhdGFcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiAnVXNlcicsXG4gIH07XG59XG5cbi8qKlxuICogQ2xlYXIgc2Vzc2lvbiBhbmQgc2lnbiBvdXQgdXNpbmcgTmV4dEF1dGhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyU2Vzc2lvbigpOiB2b2lkIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG4gIFxuICAvLyBDbGVhciBhbnkgbGVnYWN5IGxvY2FsU3RvcmFnZSB0b2tlbnMgKHNob3VsZG4ndCBleGlzdCwgYnV0IGNsZWFuIHVwIGp1c3QgaW4gY2FzZSlcbiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2FjY2Vzc190b2tlbicpO1xuICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncmVmcmVzaF90b2tlbicpO1xuICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnaWRfdG9rZW4nKTtcbiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuX2V4cGlyZXNfYXQnKTtcbiAgXG4gIC8vIENsZWFyIHNlc3Npb24gc3RvcmFnZVxuICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCduZXh0YXV0aC5zZXNzaW9uLnVzZXInKTtcbiAgXG4gIC8vIFNpZ24gb3V0IHVzaW5nIE5leHRBdXRoICh0aGlzIHdpbGwgY2xlYXIgdGhlIHNlc3Npb24gY29va2llKVxuICBzaWduT3V0KHsgY2FsbGJhY2tVcmw6ICcvYXV0aC9sb2dpbicgfSk7XG59XG5cbi8qKlxuICogUmVkaXJlY3QgdG8gbG9naW4gcGFnZVxuICovXG5mdW5jdGlvbiByZWRpcmVjdFRvTG9naW4oKTogdm9pZCB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICBcbiAgLy8gRG9uJ3QgcmVkaXJlY3QgaWYgYWxyZWFkeSBvbiBhdXRoIHBhZ2VzXG4gIGlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuc3RhcnRzV2l0aCgnL2F1dGgvJykpIHJldHVybjtcbiAgXG4gIC8vIFVzZSByZXBsYWNlIHRvIGF2b2lkIGFkZGluZyB0byBoaXN0b3J5XG4gIHRyeSB7XG4gICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoJy9hdXRoL2xvZ2luJyk7XG4gIH0gY2F0Y2gge1xuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hdXRoL2xvZ2luJztcbiAgfVxufVxuXG4vKipcbiAqIEJ1aWxkIGxvZ291dCBVUkwgZm9yIEtleWNsb2FrXG4gKiBOb3RlOiBOZXh0QXV0aCBoYW5kbGVzIGxvZ291dCwgYnV0IHRoaXMgaXMga2VwdCBmb3IgY29tcGF0aWJpbGl0eVxuICovXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRMb2dvdXRVcmwocG9zdExvZ291dFJlZGlyZWN0VXJpOiBzdHJpbmcpOiBzdHJpbmcge1xuICAvLyBOZXh0QXV0aCBoYW5kbGVzIGxvZ291dCwgYnV0IGlmIG5lZWRlZCBmb3IgS2V5Y2xvYWsgZGlyZWN0IGxvZ291dDpcbiAgY29uc3Qga2V5Y2xvYWtJc3N1ZXIgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19LRVlDTE9BS19JU1NVRVIgfHwgJ2h0dHBzOi8va2V5Y2xvYWstc3RhZ2luZy5hcHAtc3RnLm11a3VydS5pby9yZWFsbXMvbXVrdXJ1JztcbiAgY29uc3QgYmFzZSA9IGAke2tleWNsb2FrSXNzdWVyfS9wcm90b2NvbC9vcGVuaWQtY29ubmVjdC9sb2dvdXRgO1xuICBjb25zdCB1cmwgPSBuZXcgVVJMKGJhc2UpO1xuICB1cmwuc2VhcmNoUGFyYW1zLnNldCgncG9zdF9sb2dvdXRfcmVkaXJlY3RfdXJpJywgcG9zdExvZ291dFJlZGlyZWN0VXJpKTtcbiAgcmV0dXJuIHVybC50b1N0cmluZygpO1xufVxuXG4vKipcbiAqIExvZ291dCB1c2VyIHVzaW5nIE5leHRBdXRoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2dvdXQocG9zdExvZ291dFJlZGlyZWN0VXJpOiBzdHJpbmcgPSAnL2F1dGgvbG9naW4nKSB7XG4gIC8vIFVzZSBOZXh0QXV0aCBzaWduT3V0IHdoaWNoIGhhbmRsZXMgc2Vzc2lvbiBjbGVhbnVwXG4gIHNpZ25PdXQoeyBjYWxsYmFja1VybDogcG9zdExvZ291dFJlZGlyZWN0VXJpIH0pO1xufVxuXG4vKipcbiAqIEdldCB1c2VyIGluaXRpYWxzIGZyb20gbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW5pdGlhbHMobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgcGFydHMgPSBuYW1lLnRyaW0oKS5zcGxpdCgvXFxzKy8pLmZpbHRlcihCb29sZWFuKTtcbiAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIFwiXCI7XG4gIGlmIChwYXJ0cy5sZW5ndGggPT09IDEpIHJldHVybiBwYXJ0c1swXS5zbGljZSgwLCAyKS50b1VwcGVyQ2FzZSgpO1xuICByZXR1cm4gKHBhcnRzWzBdWzBdICsgcGFydHNbMV1bMF0pLnRvVXBwZXJDYXNlKCk7XG59XG5cbi8qKlxuICogREVQUkVDQVRFRDogVG9rZW4gZXhwaXJhdGlvbiBjaGVjayBpcyBoYW5kbGVkIHNlcnZlci1zaWRlXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGtlcHQgZm9yIGNvbXBhdGliaWxpdHkgYnV0IGFsd2F5cyByZXR1cm5zIGZhbHNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1Rva2VuRXhwaXJlZChidWZmZXJTZWNvbmRzOiBudW1iZXIgPSAxMjApOiBib29sZWFuIHtcbiAgLy8gVG9rZW4gZXhwaXJhdGlvbiBpcyBoYW5kbGVkIHNlcnZlci1zaWRlIGJ5IE5leHRBdXRoXG4gIC8vIFRoaXMgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZFxuICBjb25zb2xlLndhcm4oJ1tERVBSRUNBVEVEXSBpc1Rva2VuRXhwaXJlZCgpIC0gdG9rZW4gZXhwaXJhdGlvbiBpcyBoYW5kbGVkIHNlcnZlci1zaWRlJyk7XG4gIHJldHVybiBmYWxzZTtcbn1cbiJdLCJuYW1lcyI6WyJzaWduT3V0IiwiaXNBdXRoZW50aWNhdGVkIiwiY29va2llcyIsImRvY3VtZW50IiwiY29va2llIiwic3BsaXQiLCJoYXNTZXNzaW9uQ29va2llIiwic29tZSIsInRyaW0iLCJzdGFydHNXaXRoIiwiZ2V0QWNjZXNzVG9rZW4iLCJjb25zb2xlIiwid2FybiIsInJlZnJlc2hUb2tlbiIsImdldEF1dGhVc2VyIiwibmFtZSIsInNlc3Npb25EYXRhIiwic2Vzc2lvblN0b3JhZ2UiLCJnZXRJdGVtIiwidXNlciIsIkpTT04iLCJwYXJzZSIsInN1YiIsImlkIiwiZW1haWwiLCJjbGVhclNlc3Npb24iLCJsb2NhbFN0b3JhZ2UiLCJyZW1vdmVJdGVtIiwiY2FsbGJhY2tVcmwiLCJyZWRpcmVjdFRvTG9naW4iLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwicmVwbGFjZSIsImhyZWYiLCJidWlsZExvZ291dFVybCIsInBvc3RMb2dvdXRSZWRpcmVjdFVyaSIsImtleWNsb2FrSXNzdWVyIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0tFWUNMT0FLX0lTU1VFUiIsImJhc2UiLCJ1cmwiLCJVUkwiLCJzZWFyY2hQYXJhbXMiLCJzZXQiLCJ0b1N0cmluZyIsImxvZ291dCIsImdldEluaXRpYWxzIiwicGFydHMiLCJmaWx0ZXIiLCJCb29sZWFuIiwibGVuZ3RoIiwic2xpY2UiLCJ0b1VwcGVyQ2FzZSIsImlzVG9rZW5FeHBpcmVkIiwiYnVmZmVyU2Vjb25kcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/auth/session.ts\n"));

/***/ })

});