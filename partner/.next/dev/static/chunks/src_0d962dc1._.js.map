{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mukurusystemsadministrator/Desktop/onboarding_kyc%20copy/partner/src/contexts/AuthContext.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useEffect, useState, useCallback } from \"react\";\nimport { useSession, signOut } from \"next-auth/react\";\n\ninterface AuthUser {\n  sub?: string;\n  name?: string;\n  email?: string;\n  givenName?: string;\n  familyName?: string;\n}\n\ninterface AuthContextType {\n  user: AuthUser | null;\n  isAuthenticated: boolean;\n  isLoading: boolean;\n  logout: () => void;\n  refreshUser: () => void;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const { data: session, status } = useSession();\n  const [user, setUser] = useState<AuthUser | null>(null);\n  const [authenticated, setAuthenticated] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const checkAuth = useCallback(() => {\n    if (status === \"loading\") {\n      setIsLoading(true);\n      return;\n    }\n\n    const authStatus = status === \"authenticated\" && !!session;\n    setAuthenticated(authStatus);\n    \n    if (authStatus && session?.user) {\n      setUser({\n        sub: session.user.email || undefined,\n        name: session.user.name || undefined,\n        email: session.user.email || undefined,\n      });\n    } else {\n      setUser(null);\n    }\n    \n    setIsLoading(status === \"loading\");\n  }, [status, session]);\n\n  const refreshUser = useCallback(() => {\n    checkAuth();\n  }, [checkAuth]);\n\n  const logout = useCallback(async () => {\n    setUser(null);\n    setAuthenticated(false);\n    await signOut({ callbackUrl: '/auth/login' });\n  }, []);\n\n  useEffect(() => {\n    checkAuth();\n  }, [checkAuth]);\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user,\n        isAuthenticated: authenticated,\n        isLoading,\n        logout,\n        refreshUser,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error(\"useAuth must be used within an AuthProvider\");\n  }\n  return context;\n}\n\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;;;AAHA;;;AAqBA,MAAM,4BAAc,IAAA,8KAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAAiC;;IACtE,MAAM,EAAE,MAAM,OAAO,EAAE,MAAM,EAAE,GAAG,IAAA,+JAAU;IAC5C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAkB;IAClD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAC;IACnD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,MAAM,YAAY,IAAA,4KAAW;+CAAC;YAC5B,IAAI,WAAW,WAAW;gBACxB,aAAa;gBACb;YACF;YAEA,MAAM,aAAa,WAAW,mBAAmB,CAAC,CAAC;YACnD,iBAAiB;YAEjB,IAAI,cAAc,SAAS,MAAM;gBAC/B,QAAQ;oBACN,KAAK,QAAQ,IAAI,CAAC,KAAK,IAAI;oBAC3B,MAAM,QAAQ,IAAI,CAAC,IAAI,IAAI;oBAC3B,OAAO,QAAQ,IAAI,CAAC,KAAK,IAAI;gBAC/B;YACF,OAAO;gBACL,QAAQ;YACV;YAEA,aAAa,WAAW;QAC1B;8CAAG;QAAC;QAAQ;KAAQ;IAEpB,MAAM,cAAc,IAAA,4KAAW;iDAAC;YAC9B;QACF;gDAAG;QAAC;KAAU;IAEd,MAAM,SAAS,IAAA,4KAAW;4CAAC;YACzB,QAAQ;YACR,iBAAiB;YACjB,MAAM,IAAA,4JAAO,EAAC;gBAAE,aAAa;YAAc;QAC7C;2CAAG,EAAE;IAEL,IAAA,0KAAS;kCAAC;YACR;QACF;iCAAG;QAAC;KAAU;IAEd,qBACE,6LAAC,YAAY,QAAQ;QACnB,OAAO;YACL;YACA,iBAAiB;YACjB;YACA;YACA;QACF;kBAEC;;;;;;AAGP;GAvDgB;;QACoB,+JAAU;;;KAD9B;AAyDT,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB"}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":["file:///Users/mukurusystemsadministrator/Desktop/onboarding_kyc%20copy/partner/src/app/providers.tsx"],"sourcesContent":["\"use client\";\n\nimport { Suspense } from \"react\";\nimport { ChakraProvider } from \"@chakra-ui/react\";\nimport { SessionProvider } from \"next-auth/react\";\nimport { MukuruComponentProvider } from \"@mukuru/mukuru-react-components\";\nimport { AuthProvider } from \"@/contexts/AuthContext\";\n\nexport function Providers({ children }: { children: React.ReactNode }) {\n  return (\n    <SessionProvider>\n      <MukuruComponentProvider>\n        <AuthProvider>\n          {children}\n        </AuthProvider>\n      </MukuruComponentProvider>\n    </SessionProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAIA;AACA;AAAA;AACA;AANA;;;;;AAQO,SAAS,UAAU,EAAE,QAAQ,EAAiC;IACnE,qBACE,6LAAC,oKAAe;kBACd,cAAA,6LAAC,+NAAuB;sBACtB,cAAA,6LAAC,kJAAY;0BACV;;;;;;;;;;;;;;;;AAKX;KAVgB"}}]
}