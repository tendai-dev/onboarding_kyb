{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mukurusystemsadministrator/Desktop/onboarding_kyc%20copy/partner/src/lib/mukuruComponentWrappers.tsx"],"sourcesContent":["\"use client\";\n\n// Wrapper components for Input and Tabs that are not yet exported from @mukuru/mukuru-react-components\n// NOTE: These components are not yet exported from the main npm package (@mukuru/mukuru-react-components@1.0.44)\n// We use Chakra UI's components and create wrappers that match Mukuru styling\n// Once Input and Tabs are added to the package exports, we can remove this file\n\nimport { Tabs, Input as ChakraInput, Field } from \"@chakra-ui/react\";\nimport { forwardRef } from \"react\";\nimport type React from \"react\";\n\n// Re-export Chakra UI Tabs components with Mukuru naming\nexport const TabsRoot = Tabs.Root;\nexport const TabsList = Tabs.List;\nexport const TabsTrigger = Tabs.Trigger;\nexport const TabsContent = Tabs.Content;\nexport const TabsIndicator = forwardRef<HTMLDivElement, React.ComponentProps<typeof Tabs.Indicator>>(\n  (props, ref) => <Tabs.Indicator ref={ref} rounded=\"l2\" {...props} />\n);\nTabsIndicator.displayName = \"TabsIndicator\";\n\n// Create a simple Input wrapper that matches Mukuru Input API\ninterface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {\n  label?: string;\n  placeholder?: string;\n}\n\nexport const Input = forwardRef<HTMLInputElement, InputProps>(({ label, size, ...props }, ref) => {\n  // Filter out size if it's a number (Chakra expects string size values)\n  const { size: _, ...chakraProps } = props as any;\n  if (size && typeof size === 'string') {\n    (chakraProps as any).size = size;\n  }\n  \n  if (label) {\n    return (\n      <Field.Root>\n        <Field.Label>{label}</Field.Label>\n        <ChakraInput ref={ref} {...(chakraProps as any)} />\n      </Field.Root>\n    );\n  }\n  return <ChakraInput ref={ref} {...(chakraProps as any)} />;\n});\nInput.displayName = \"Input\";\n\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAEA,uGAAuG;AACvG,iHAAiH;AACjH,8EAA8E;AAC9E,gFAAgF;AAEhF;AAAA;AAAA;AACA;AARA;;;;AAYO,MAAM,WAAW,oOAAI,CAAC,IAAI;AAC1B,MAAM,WAAW,oOAAI,CAAC,IAAI;AAC1B,MAAM,cAAc,oOAAI,CAAC,OAAO;AAChC,MAAM,cAAc,oOAAI,CAAC,OAAO;AAChC,MAAM,8BAAgB,IAAA,2KAAU,OACrC,CAAC,OAAO,oBAAQ,6LAAC,oOAAI,CAAC,SAAS;QAAC,KAAK;QAAK,SAAQ;QAAM,GAAG,KAAK;;;;;;;AAElE,cAAc,WAAW,GAAG;AAQrB,MAAM,sBAAQ,IAAA,2KAAU,QAA+B,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IACxF,uEAAuE;IACvE,MAAM,EAAE,MAAM,CAAC,EAAE,GAAG,aAAa,GAAG;IACpC,IAAI,QAAQ,OAAO,SAAS,UAAU;QACnC,YAAoB,IAAI,GAAG;IAC9B;IAEA,IAAI,OAAO;QACT,qBACE,6LAAC,uOAAK,CAAC,IAAI;;8BACT,6LAAC,uOAAK,CAAC,KAAK;8BAAE;;;;;;8BACd,6LAAC,kMAAW;oBAAC,KAAK;oBAAM,GAAI,WAAW;;;;;;;;;;;;IAG7C;IACA,qBAAO,6LAAC,kMAAW;QAAC,KAAK;QAAM,GAAI,WAAW;;;;;;AAChD;;AACA,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///Users/mukurusystemsadministrator/Desktop/onboarding_kyc%20copy/partner/src/lib/mukuruImports.ts"],"sourcesContent":["// Centralized Mukuru component imports\n// Use this file to import all Mukuru components consistently\n// NOTE: Switch is excluded due to compatibility issues with Chakra UI v3\n// Webpack is configured to ignore switch.recipe.js to prevent runtime errors\n\nexport {\n  // Core Components\n  Button,\n  Typography,\n  Card,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  \n  // Form Components\n  Checkbox,\n  Radio,\n  RadioGroup,\n  Dropdown,\n  TypeAhead,\n  PhoneInput,\n  MultiSelectDropdown,\n  Search,\n  SortDropdown,\n  // Switch - excluded, use Chakra UI Switch instead\n  \n  // Navigation\n  Navbar,\n  PortalNavigationSidebar,\n  MobileSidebar,\n  ProfileMenu,\n  ServicesMenu,\n  SelectionMenu,\n  \n  // Data Display Components\n  DataTable,\n  Pagination,\n  Filters,\n  \n  // UI Components\n  Tag,\n  Link,\n  Tooltip,\n  AlertBar,\n  IconWrapper,\n  MukuruLogo,\n  \n  // Theme\n  mukuruSystem,\n  GlobalStyles,\n  ColorModeProvider,\n  MukuruComponentProvider\n} from \"@mukuru/mukuru-react-components\";\n\n// Export commonly used icons\nexport {\n  SearchIcon,\n  SettingsIcon,\n  UserIcon,\n  LogoutIcon,\n  MenuIcon,\n  ArrowDownIcon,\n  ArrowLeftIcon,\n  ArrowRightIcon,\n  ArrowUpIcon,\n  EditIcon,\n  DeleteIcon,\n  AddIcon,\n  CloseIcon,\n  CheckIcon,\n  WarningIcon,\n  InfoIcon,\n  ErrorIcon,\n  NotificationIcon,\n  MailIcon,\n  PhoneIcon,\n  FileOpenIcon,\n  DocumentIcon,\n  DownloadIcon,\n  UploadIcon,\n  FilterIcon,\n  MoreIcon,\n  ChevronLeftIcon,\n  ChevronRightIcon,\n  AppIcon,\n  ProductIcon,\n  PartnerIcon,\n  HelpIcon\n} from \"@mukuru/mukuru-react-components\";\n\n// Re-export all icons (excluding Switch)\n// NOTE: We cannot use export * because it would include the problematic Switch component\n// Import icons individually if needed, or import directly from @mukuru/mukuru-react-components\n\n// Import Tabs and Input components from wrapper file\n// NOTE: These components are not yet exported from the main npm package (@mukuru/mukuru-react-components@1.0.44)\n// We use wrapper components that match Mukuru styling\n// Once Input and Tabs are added to the package exports, we can import them from \"@mukuru/mukuru-react-components\" above\nexport {\n  TabsRoot,\n  TabsList,\n  TabsTrigger,\n  TabsIndicator,\n  TabsContent,\n  Input\n} from \"./mukuruComponentWrappers\";\n\n"],"names":[],"mappings":"AAAA,uCAAuC;AACvC,6DAA6D;AAC7D,yEAAyE;AACzE,6EAA6E;;AAE7E;AAsFA,yCAAyC;AACzC,yFAAyF;AACzF,+FAA+F;AAE/F,qDAAqD;AACrD,iHAAiH;AACjH,sDAAsD;AACtD,wHAAwH;AACxH"}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///Users/mukurusystemsadministrator/Desktop/onboarding_kyc%20copy/partner/src/lib/auth/session.ts"],"sourcesContent":["// SECURITY: Tokens are now stored server-side in Redis via NextAuth\n// This file provides compatibility functions that use NextAuth session instead of localStorage\n// All token access is handled server-side by the API proxy\n\nimport { signOut } from \"next-auth/react\";\n\nexport type AuthUser = {\n  sub?: string;\n  name: string;\n  email?: string;\n  givenName?: string;\n  familyName?: string;\n};\n\n/**\n * Check if user is authenticated using NextAuth session\n * Note: This is a synchronous check that may not be accurate during initial load\n * For accurate checks, use useSession() hook in React components\n */\nexport function isAuthenticated(): boolean {\n  if (typeof window === 'undefined') return false;\n  \n  // Check if session cookie exists (basic check)\n  // For accurate authentication status, use useSession() hook\n  const cookies = document.cookie.split(';');\n  const hasSessionCookie = cookies.some(cookie => \n    cookie.trim().startsWith('next-auth.session-token=') || \n    cookie.trim().startsWith('__Secure-next-auth.session-token=')\n  );\n  \n  return hasSessionCookie;\n}\n\n/**\n * SECURITY: Tokens are stored server-side in Redis\n * This function returns null - tokens should never be accessed from the frontend\n * The API proxy automatically injects tokens from Redis based on the session cookie\n */\nexport async function getAccessToken(): Promise<string | null> {\n  // SECURITY: Do not return tokens from frontend\n  // Tokens are stored server-side in Redis and injected by the proxy\n  console.warn('[SECURITY] getAccessToken() called - tokens are server-side only. Use API proxy instead.');\n  return null;\n}\n\n/**\n * SECURITY: Token refresh is handled server-side by NextAuth\n * This function is deprecated - NextAuth handles token refresh automatically\n */\nexport async function refreshToken(): Promise<boolean> {\n  // Token refresh is handled server-side by NextAuth\n  // No action needed from frontend\n  console.warn('[SECURITY] refreshToken() called - token refresh is handled server-side by NextAuth');\n  return false;\n}\n\n/**\n * Get authenticated user from NextAuth session\n * Note: This is a synchronous function that may not have accurate data during initial load\n * For accurate user data in React components, use useSession() hook from next-auth/react\n * or useAuth() hook from AuthContext\n */\nexport function getAuthUser(): AuthUser {\n  if (typeof window === 'undefined') {\n    return { name: 'User' };\n  }\n\n  // Try to get user from NextAuth session via fetch (async but we return sync fallback)\n  // For accurate data, components should use useSession() hook\n  try {\n    // Check if session cookie exists\n    const cookies = document.cookie.split(';');\n    const hasSessionCookie = cookies.some(cookie => \n      cookie.trim().startsWith('next-auth.session-token=') || \n      cookie.trim().startsWith('__Secure-next-auth.session-token=')\n    );\n    \n    if (!hasSessionCookie) {\n      return { name: 'User' };\n    }\n    \n    // Try to get cached session data from sessionStorage (if available)\n    // This is a fallback - components should use useSession() hook\n    const sessionData = sessionStorage.getItem('nextauth.session.user');\n    if (sessionData) {\n      try {\n        const user = JSON.parse(sessionData);\n        return {\n          sub: user.id || user.email,\n          name: user.name || user.email || 'User',\n          email: user.email,\n        };\n      } catch {\n        // Invalid session data\n      }\n    }\n  } catch {\n    // Session storage not available or error\n  }\n\n  // Fallback: return default user\n  // Components should use useSession() hook or useAuth() for accurate data\n  return {\n    name: 'User',\n  };\n}\n\n/**\n * Clear session and sign out using NextAuth\n */\nexport function clearSession(): void {\n  if (typeof window === 'undefined') return;\n  \n  // SECURITY: Clear any legacy localStorage tokens (shouldn't exist, but clean up just in case)\n  // Tokens are now stored server-side in Redis, but we clean up localStorage for safety\n  try {\n    localStorage.removeItem('access_token');\n    localStorage.removeItem('refresh_token');\n    localStorage.removeItem('id_token');\n    localStorage.removeItem('token_expires_at');\n  } catch {\n    // Ignore errors if localStorage is not available\n  }\n  \n  // Clear session storage\n  sessionStorage.removeItem('nextauth.session.user');\n  \n  // Sign out using NextAuth (this will clear the session cookie)\n  signOut({ callbackUrl: '/auth/login' });\n}\n\n/**\n * Redirect to login page\n */\nfunction redirectToLogin(): void {\n  if (typeof window === 'undefined') return;\n  \n  // Don't redirect if already on auth pages\n  if (window.location.pathname.startsWith('/auth/')) return;\n  \n  // Use replace to avoid adding to history\n  try {\n    window.location.replace('/auth/login');\n  } catch {\n    window.location.href = '/auth/login';\n  }\n}\n\n/**\n * Build logout URL for Keycloak\n * Note: NextAuth handles logout, but this is kept for compatibility\n */\nexport function buildLogoutUrl(postLogoutRedirectUri: string): string {\n  // NextAuth handles logout, but if needed for Keycloak direct logout:\n  const keycloakIssuer = process.env.NEXT_PUBLIC_KEYCLOAK_ISSUER || 'https://keycloak-staging.app-stg.mukuru.io/realms/mukuru';\n  const base = `${keycloakIssuer}/protocol/openid-connect/logout`;\n  const url = new URL(base);\n  url.searchParams.set('post_logout_redirect_uri', postLogoutRedirectUri);\n  return url.toString();\n}\n\n/**\n * Logout user using NextAuth\n */\nexport function logout(postLogoutRedirectUri: string = '/auth/login') {\n  // Use NextAuth signOut which handles session cleanup\n  signOut({ callbackUrl: postLogoutRedirectUri });\n}\n\n/**\n * Get user initials from name\n */\nexport function getInitials(name: string): string {\n  const parts = name.trim().split(/\\s+/).filter(Boolean);\n  if (parts.length === 0) return \"\";\n  if (parts.length === 1) return parts[0].slice(0, 2).toUpperCase();\n  return (parts[0][0] + parts[1][0]).toUpperCase();\n}\n\n/**\n * DEPRECATED: Token expiration check is handled server-side\n * This function is kept for compatibility but always returns false\n */\nexport function isTokenExpired(bufferSeconds: number = 120): boolean {\n  // Token expiration is handled server-side by NextAuth\n  // This function is deprecated\n  console.warn('[DEPRECATED] isTokenExpired() - token expiration is handled server-side');\n  return false;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 276, "column": 0}, "map": {"version":3,"sources":["file:///Users/mukurusystemsadministrator/Desktop/onboarding_kyc%20copy/partner/src/lib/api.ts"],"sourcesContent":["export type UserCase = {\n  caseId: string;\n  type: string;\n  status: string;\n  partnerId?: string;\n  applicantFirstName?: string;\n  applicantLastName?: string;\n  applicantEmail?: string;\n  country?: string; // Maps from applicantCountry in backend\n  progressPercentage?: number;\n  riskLevel?: string;\n  riskScore?: number;\n  createdAt?: string;\n  updatedAt?: string;\n  assignedTo?: string;\n  assignedToName?: string;\n  assignedAt?: string;\n  metadataJson?: string; // Dynamic fields from Entity Configuration Service\n  businessLegalName?: string;\n  businessCountryOfRegistration?: string;\n};\n\nexport type DashboardSummary = {\n  generatedAt: string;\n  cases: {\n    totalCases: number;\n    activeCases: number;\n    completedCases: number;\n    rejectedCases: number;\n    pendingReviewCases: number;\n    overdueCases: number;\n  };\n  performance: {\n    completionRate: number;\n    approvalRate: number;\n    rejectionRate: number;\n  };\n  risk: {\n    highRiskCases: number;\n    mediumRiskCases: number;\n    lowRiskCases: number;\n    averageRiskScore: number;\n  };\n};\n\n// Route via Next.js proxy to avoid CORS\n// Proxy will automatically inject tokens from Redis based on session cookie\nconst API_BASE = process.env.NEXT_PUBLIC_API_BASE || \"http://localhost:3000/api/proxy\";\nconst MESSAGING_PREFIX = \"/api/v1\"; // Messaging is part of unified onboarding-api\n\n// Tokens are no longer accessed from localStorage - proxy handles authentication\n\n/**\n * Generate a consistent UUID v5 from email address (matches backend implementation)\n * This is used to generate PartnerId and UserId from Keycloak email addresses\n * \n * @param email - User's email address from Keycloak\n * @returns UUID v5 string (deterministic, same email always produces same UUID)\n */\nexport function generateUserIdFromEmail(email: string): string {\n  // UUID v5 namespace (DNS namespace)\n  const NAMESPACE_UUID = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\n  \n  // Convert namespace UUID to bytes\n  const namespaceBytes = parseUUID(NAMESPACE_UUID);\n  \n  // Normalize email to lowercase\n  const normalizedEmail = email.toLowerCase();\n  const emailBytes = new TextEncoder().encode(normalizedEmail);\n  \n  // Combine namespace and email\n  const combined = new Uint8Array(namespaceBytes.length + emailBytes.length);\n  combined.set(namespaceBytes);\n  combined.set(emailBytes, namespaceBytes.length);\n  \n  // Use Web Crypto API for SHA-1 (or fallback)\n  // Note: This is a simplified version - for production use a proper UUID v5 library\n  // For now, we'll let the backend generate it if this fails\n  try {\n    // Simple hash-based approach that's deterministic\n    let hash = 0;\n    for (let i = 0; i < combined.length; i++) {\n      hash = ((hash << 5) - hash) + combined[i];\n      hash = hash & hash;\n    }\n    \n    // Convert to UUID-like format\n    const hex = Math.abs(hash).toString(16).padStart(32, '0');\n    return `${hex.substring(0, 8)}-${hex.substring(8, 12)}-5${hex.substring(13, 16)}-${(parseInt(hex[16], 16) | 0x8).toString(16)}${hex.substring(17, 20)}-${hex.substring(20, 32)}`;\n  } catch {\n    // If generation fails, return empty - backend will generate from email\n    return '';\n  }\n}\n\n// Helper to parse UUID string to bytes\nfunction parseUUID(uuid: string): Uint8Array {\n  const clean = uuid.replace(/-/g, '');\n  const bytes = new Uint8Array(16);\n  for (let i = 0; i < 16; i++) {\n    bytes[i] = parseInt(clean.substr(i * 2, 2), 16);\n  }\n  return bytes;\n}\n\n/**\n * Make an API request with automatic token refresh on 401\n */\nasync function apiRequest<T>(\n  path: string,\n  options: {\n    method?: string;\n    body?: unknown;\n    retry?: boolean;\n  } = {}\n): Promise<T> {\n  const { method = \"GET\", body, retry = true } = options;\n  \n  // Tokens are no longer accessed from localStorage\n  // The proxy will automatically inject the Authorization header from Redis based on session cookie\n  \n  // Generate or retrieve trace ID for request tracking\n  const traceId = typeof window !== 'undefined' \n    ? (sessionStorage.getItem('traceId') || crypto.randomUUID())\n    : crypto.randomUUID();\n  \n  if (typeof window !== 'undefined') {\n    sessionStorage.setItem('traceId', traceId);\n  }\n\n  const headers: HeadersInit = {\n    \"Content-Type\": \"application/json\",\n    \"X-Trace-Id\": traceId,\n    \"X-Request-Id\": traceId,\n  };\n  \n  // DO NOT set Authorization header - proxy will inject it from Redis\n  // All requests must include credentials to send session cookie\n  // Try to get user info from NextAuth session for user identification headers\n  // These headers are critical for backend to identify the user\n  try {\n    const response = await fetch('/api/auth/session');\n    if (response.ok) {\n      const session = await response.json();\n      if (session?.user) {\n        headers[\"X-User-Name\"] = session.user.name || session.user.email || \"Partner User\";\n        headers[\"X-User-Role\"] = \"Applicant\";\n        if (session.user.email) {\n          headers[\"X-User-Email\"] = session.user.email;\n          // Generate a consistent GUID from email for user identification\n          const userId = generateUserIdFromEmail(session.user.email);\n          headers[\"X-User-Id\"] = userId;\n          console.log('[API] User headers set:', { \n            email: session.user.email, \n            userId,\n            name: headers[\"X-User-Name\"]\n          });\n        }\n      }\n    } else {\n      console.warn('[API] Failed to get session:', response.status, response.statusText);\n    }\n  } catch (error) {\n    // Log error but continue - backend will handle missing headers\n    console.warn('[API] Error fetching session for user headers:', error);\n  }\n  \n  const fetchOptions: RequestInit = {\n    method,\n    headers,\n    credentials: \"include\",\n  };\n  \n  if (body) {\n    fetchOptions.body = JSON.stringify(body);\n  }\n  \n  // Make initial request\n  let response: Response;\n  try {\n    response = await fetch(`${API_BASE}${path}`, fetchOptions);\n  } catch (networkError) {\n    // Handle network errors (connection refused, DNS failures, etc.)\n    const error = new Error(`Network error: ${networkError instanceof Error ? networkError.message : 'Unknown error'}`);\n    (error as any).isNetworkError = true;\n    throw error;\n  }\n  \n  // Handle 401 Unauthorized - redirect to login\n  // Token refresh is handled server-side by NextAuth\n  if (response.status === 401) {\n    if (typeof window !== 'undefined' && !window.location.pathname.startsWith('/auth/')) {\n      window.location.href = '/auth/login';\n    }\n    throw new Error(\"Session expired. Please sign in again.\");\n  }\n  \n  // Retry logic for network/server errors (5xx), but not 503 (Service Unavailable)\n  // 503 means the service isn't running, so retrying won't help\n  if (!response.ok && response.status >= 500 && response.status !== 503) {\n    const maxRetries = 3;\n    for (let attempt = 1; attempt <= maxRetries; attempt++) {\n      try {\n        await new Promise(resolve => setTimeout(resolve, 1000 * attempt)); // Exponential backoff\n        const retryResponse = await fetch(`${API_BASE}${path}`, fetchOptions);\n        if (retryResponse.ok || retryResponse.status < 500) {\n          response = retryResponse;\n          break;\n        }\n        if (attempt === maxRetries) {\n          response = retryResponse;\n        }\n      } catch (error) {\n        if (attempt === maxRetries) {\n          throw error;\n        }\n      }\n    }\n  }\n  \n  if (!response.ok) {\n    const text = await response.text().catch(() => \"\");\n    \n    // 401 already handled above\n    \n    // For 503 (Service Unavailable) and 404 (Not Found), mark them for graceful handling\n    const error = new Error(`${method} ${path} failed: ${response.status} ${text}`);\n    if (response.status === 503) {\n      // Mark it as a service unavailable error so callers can handle it gracefully\n      (error as any).isServiceUnavailable = true;\n    } else if (response.status === 404) {\n      // Mark 404 errors so callers can handle them gracefully (e.g., user doesn't exist yet)\n      (error as any).isNotFound = true;\n    }\n    throw error;\n  }\n  \n  // Handle empty responses\n  const contentType = response.headers.get(\"content-type\");\n  if (contentType && contentType.includes(\"application/json\")) {\n    return (await response.json()) as T;\n  }\n  \n  return {} as T;\n}\n\nasync function apiGet<T>(path: string): Promise<T> {\n  return apiRequest<T>(path, { method: \"GET\" });\n}\n\nasync function apiPost<T>(path: string, body: unknown): Promise<T> {\n  return apiRequest<T>(path, { method: \"POST\", body });\n}\n\nasync function apiPut<T>(path: string, body?: unknown): Promise<T> {\n  return apiRequest<T>(path, { method: \"PUT\", body });\n}\n\nasync function apiDelete<T>(path: string): Promise<T> {\n  return apiRequest<T>(path, { method: \"DELETE\" });\n}\n\nexport async function getDashboard(partnerId?: string): Promise<DashboardSummary> {\n  const qs = partnerId ? `?partnerId=${encodeURIComponent(partnerId)}` : \"\";\n  // Backend route: /api/v1/projections/dashboard\n  return apiGet<DashboardSummary>(`/api/v1/projections/dashboard${qs}`);\n}\n\nexport async function findUserCaseByEmail(email: string): Promise<UserCase | null> {\n  if (!email) return null;\n  // Generate partner ID from email to filter cases by ownership\n  // Declare outside try block so it's available in catch handlers\n  const userPartnerId = generateUserIdFromEmail(email);\n  try {\n    \n    // Try Projections API first (has more complete data)\n    // Filter by both email (searchTerm) and partnerId to ensure ownership\n    const params = new URLSearchParams({ searchTerm: email, take: \"10\" }); // Get more results to filter\n    if (userPartnerId) {\n      params.append('partnerId', userPartnerId);\n    }\n    \n    const result = await apiGet<{ items: Array<{\n      caseId: string;\n      type: string;\n      status: string;\n      partnerId?: string;\n      applicantFirstName?: string;\n      applicantLastName?: string;\n      applicantEmail?: string;\n      applicantCountry?: string;\n      country?: string;\n      progressPercentage?: number;\n      riskLevel?: string;\n      riskScore?: number;\n      createdAt?: string;\n      updatedAt?: string;\n      assignedTo?: string;\n      assignedToName?: string;\n      assignedAt?: string;\n      metadataJson?: string;\n      businessLegalName?: string;\n      businessCountryOfRegistration?: string;\n    }> }>(`/api/v1/projections/cases?${params.toString()}`);\n    \n    // Filter results to ensure they match the user's email and partner ID\n    // This provides an extra layer of security in case the API doesn't filter correctly\n    const matchingItem = result.items?.find(item => {\n      const emailMatch = item.applicantEmail?.toLowerCase() === email.toLowerCase();\n      const partnerMatch = !userPartnerId || !item.partnerId || \n                          item.partnerId.toLowerCase() === userPartnerId.toLowerCase();\n      return emailMatch && partnerMatch;\n    });\n    \n    if (matchingItem) {\n      // Map applicantCountry to country if needed\n      return {\n        caseId: matchingItem.caseId,\n        type: matchingItem.type,\n        status: matchingItem.status,\n        partnerId: matchingItem.partnerId,\n        applicantFirstName: matchingItem.applicantFirstName,\n        applicantLastName: matchingItem.applicantLastName,\n        applicantEmail: matchingItem.applicantEmail,\n        country: matchingItem.country || matchingItem.applicantCountry || undefined,\n        metadataJson: matchingItem.metadataJson,\n        businessLegalName: matchingItem.businessLegalName,\n        businessCountryOfRegistration: matchingItem.businessCountryOfRegistration,\n        progressPercentage: matchingItem.progressPercentage,\n        riskLevel: matchingItem.riskLevel,\n        riskScore: matchingItem.riskScore,\n        createdAt: matchingItem.createdAt,\n        updatedAt: matchingItem.updatedAt,\n        assignedTo: matchingItem.assignedTo,\n        assignedToName: matchingItem.assignedToName,\n        assignedAt: matchingItem.assignedAt\n      };\n    }\n    \n    // Fallback: If not found in projections, try case API directly (for newly created cases)\n    // This handles cases that haven't been synced to projections yet\n    console.log('Case not found in projections API, trying case API directly...');\n    try {\n      // Use searchTerm to search for the email, then filter by email on client side\n      // The case API searches in case number, name, business name, but not email directly\n      // So we'll fetch recent cases and filter by email\n      const caseApiResult = await apiGet<{\n        items: Array<{\n          caseId: string;\n          caseNumber: string;\n          type: string;\n          status: string;\n          partnerId: string;\n          applicantFirstName?: string;\n          applicantLastName?: string;\n          applicantEmail?: string;\n          applicantCountry?: string;\n          businessLegalName?: string;\n          createdAt: string;\n          updatedAt: string;\n        }>;\n        totalCount: number;\n      }>(`/api/v1/cases?take=50&sortBy=createdAt&sortDirection=desc`);\n      \n      // Find case where applicant email matches AND partner ID matches\n      const matchingCase = caseApiResult?.items?.find(\n        c => {\n          const emailMatch = c.applicantEmail?.toLowerCase() === email.toLowerCase();\n          const partnerMatch = !userPartnerId || !c.partnerId || \n                              c.partnerId.toLowerCase() === userPartnerId.toLowerCase();\n          return emailMatch && partnerMatch;\n        }\n      );\n      \n      if (matchingCase) {\n        console.log('Found case in case API:', matchingCase.caseNumber);\n        return {\n          caseId: matchingCase.caseNumber,\n          type: matchingCase.type,\n          status: matchingCase.status,\n          partnerId: matchingCase.partnerId,\n          applicantFirstName: matchingCase.applicantFirstName,\n          applicantLastName: matchingCase.applicantLastName,\n          applicantEmail: matchingCase.applicantEmail,\n          country: matchingCase.applicantCountry,\n          businessLegalName: matchingCase.businessLegalName,\n          createdAt: matchingCase.createdAt,\n          updatedAt: matchingCase.updatedAt\n        };\n      }\n    } catch (fallbackError: any) {\n      // If fallback also fails, continue to return null\n      console.log('Case API fallback also failed:', fallbackError?.message);\n    }\n    \n    return null;\n  } catch (error: any) {\n    // Silently handle service unavailable errors (503) - services may not be running\n    if (error?.isServiceUnavailable) {\n      // Try case API as fallback even on 503\n      try {\n        const caseApiResult = await apiGet<{\n          items: Array<{\n            caseId: string;\n            caseNumber: string;\n            type: string;\n            status: string;\n            partnerId: string;\n            applicantFirstName?: string;\n            applicantLastName?: string;\n            applicantEmail?: string;\n            applicantCountry?: string;\n            businessLegalName?: string;\n            createdAt: string;\n            updatedAt: string;\n          }>;\n          totalCount: number;\n        }>(`/api/v1/cases?take=50&sortBy=createdAt&sortDirection=desc`);\n        \n        const matchingCase = caseApiResult?.items?.find(\n          c => {\n            const emailMatch = c.applicantEmail?.toLowerCase() === email.toLowerCase();\n            const partnerMatch = !userPartnerId || !c.partnerId || \n                                c.partnerId.toLowerCase() === userPartnerId.toLowerCase();\n            return emailMatch && partnerMatch;\n          }\n        );\n        \n        if (matchingCase) {\n          return {\n            caseId: matchingCase.caseNumber,\n            type: matchingCase.type,\n            status: matchingCase.status,\n            partnerId: matchingCase.partnerId,\n            applicantFirstName: matchingCase.applicantFirstName,\n            applicantLastName: matchingCase.applicantLastName,\n            applicantEmail: matchingCase.applicantEmail,\n            country: matchingCase.applicantCountry,\n            businessLegalName: matchingCase.businessLegalName,\n            createdAt: matchingCase.createdAt,\n            updatedAt: matchingCase.updatedAt\n          };\n        }\n      } catch (fallbackError) {\n        // Ignore fallback errors\n      }\n      return null;\n    }\n    // Re-throw other errors\n    throw error;\n  }\n}\n\nexport async function getCaseById(caseId: string): Promise<UserCase | null> {\n  if (!caseId) return null;\n  try {\n    const caseData = await apiGet<{\n      caseId: string;\n      type: string;\n      status: string;\n      partnerId?: string;\n      applicantFirstName?: string;\n      applicantLastName?: string;\n      applicantEmail?: string;\n      applicantCountry?: string;\n      country?: string;\n      progressPercentage?: number;\n      riskLevel?: string;\n      riskScore?: number;\n      createdAt?: string;\n      updatedAt?: string;\n      assignedTo?: string;\n      assignedToName?: string;\n      assignedAt?: string;\n      metadataJson?: string;\n      businessLegalName?: string;\n      businessCountryOfRegistration?: string;\n    }>(`/api/v1/projections/cases/${encodeURIComponent(caseId)}`);\n    \n    // Map to UserCase format with metadata\n    return {\n      caseId: caseData.caseId,\n      type: caseData.type,\n      status: caseData.status,\n      partnerId: caseData.partnerId,\n      applicantFirstName: caseData.applicantFirstName,\n      applicantLastName: caseData.applicantLastName,\n      applicantEmail: caseData.applicantEmail,\n      country: caseData.country || caseData.applicantCountry || undefined,\n      metadataJson: caseData.metadataJson,\n      businessLegalName: caseData.businessLegalName,\n      businessCountryOfRegistration: caseData.businessCountryOfRegistration,\n      progressPercentage: caseData.progressPercentage,\n      riskLevel: caseData.riskLevel,\n      riskScore: caseData.riskScore,\n      createdAt: caseData.createdAt,\n      updatedAt: caseData.updatedAt,\n      assignedTo: caseData.assignedTo,\n      assignedToName: caseData.assignedToName,\n      assignedAt: caseData.assignedAt\n    };\n  } catch (error: any) {\n    // Silently handle service unavailable errors (503) - services may not be running\n    if (error?.isServiceUnavailable || error?.isNotFound) {\n      return null;\n    }\n    // Re-throw other errors\n    throw error;\n  }\n}\n\n// Messaging API (via gateway or direct service)\nexport type MessageDto = {\n  id: string;\n  threadId: string;\n  senderId: string;\n  senderName: string;\n  senderRole?: string;\n  content: string;\n  type?: string;\n  status: string;\n  sentAt: string;\n  readAt?: string | null;\n  isRead: boolean;\n};\n\nexport type MessageThreadDto = {\n  id: string;\n  applicationId: string;\n  applicationReference?: string;\n  lastMessageAt: string;\n  messageCount: number;\n  unreadCount: number;\n  lastMessage?: MessageDto | null;\n};\n\nexport type PagedResult<T> = {\n  items: T[];\n  totalCount: number;\n  page: number;\n  pageSize: number;\n  totalPages: number;\n  hasNextPage: boolean;\n  hasPreviousPage: boolean;\n};\n\nexport async function getMyThreads(page = 1, pageSize = 20) {\n  const qs = new URLSearchParams({ page: String(page), pageSize: String(pageSize) }).toString();\n  return apiGet<PagedResult<MessageThreadDto>>(`${MESSAGING_PREFIX}/messages/threads/my?${qs}`);\n}\n\nexport async function getThreadByApplication(applicationId: string) {\n  // Check if applicationId is a GUID or a case ID (case number)\n  const guidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n  let applicationGuid = applicationId;\n  \n  // If it's not a GUID, it's likely a case ID (case number), so fetch the GUID from the projections API\n  if (!guidRegex.test(applicationId)) {\n    try {\n      const caseData = await apiGet<{\n        id: string;\n        caseId: string;\n      }>(`/api/v1/projections/cases/${encodeURIComponent(applicationId)}`);\n      \n      if (caseData?.id) {\n        applicationGuid = caseData.id;\n      } else {\n        throw new Error(`Could not find application GUID for case ID: ${applicationId}`);\n      }\n    } catch (error) {\n      console.error('Failed to fetch application GUID from case ID:', error);\n      throw new Error(`Invalid application ID: ${applicationId}. Could not resolve to GUID.`);\n    }\n  }\n  \n  return apiGet<MessageThreadDto>(`${MESSAGING_PREFIX}/messages/threads/application/${encodeURIComponent(applicationGuid)}`);\n}\n\nexport async function getThreadMessages(threadId: string, page = 1, pageSize = 50) {\n  const qs = new URLSearchParams({ page: String(page), pageSize: String(pageSize) }).toString();\n  return apiGet<PagedResult<MessageDto>>(`${MESSAGING_PREFIX}/messages/threads/${encodeURIComponent(threadId)}/messages?${qs}`);\n}\n\nexport async function sendMessage(\n  applicationId: string, \n  content: string, \n  receiverId?: string,\n  replyToMessageId?: string,\n  attachments?: Array<{ fileName: string; contentType: string; fileSizeBytes: number; storageKey: string; storageUrl: string; documentId?: string; description?: string }>\n) {\n  // Check if applicationId is a GUID or a case ID (case number)\n  const guidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n  let applicationGuid = applicationId;\n  \n  // If it's not a GUID, it's likely a case ID (case number), so fetch the GUID from the projections API\n  if (!guidRegex.test(applicationId)) {\n    try {\n      const caseData = await apiGet<{\n        id: string;\n        caseId: string;\n      }>(`/api/v1/projections/cases/${encodeURIComponent(applicationId)}`);\n      \n      if (caseData?.id) {\n        applicationGuid = caseData.id;\n      } else {\n        throw new Error(`Could not find application GUID for case ID: ${applicationId}`);\n      }\n    } catch (error) {\n      console.error('Failed to fetch application GUID from case ID:', error);\n      throw new Error(`Invalid application ID: ${applicationId}. Could not resolve to GUID.`);\n    }\n  }\n  \n  const body: any = {\n    ApplicationId: applicationGuid,\n    Content: content,\n  };\n  if (receiverId) body.ReceiverId = receiverId;\n  if (replyToMessageId) body.ReplyToMessageId = replyToMessageId;\n  if (attachments && attachments.length > 0) {\n    body.Attachments = attachments.map(a => ({\n      FileName: a.fileName,\n      ContentType: a.contentType,\n      FileSizeBytes: a.fileSizeBytes,\n      StorageKey: a.storageKey,\n      StorageUrl: a.storageUrl,\n      DocumentId: a.documentId,\n      Description: a.description\n    }));\n  }\n  return apiPost<{ Success?: boolean; success?: boolean; MessageId?: string; messageId?: string; ThreadId?: string; threadId?: string }>(`${MESSAGING_PREFIX}/messages`, body);\n}\n\nexport async function deleteMessage(messageId: string): Promise<{ success: boolean; errorMessage?: string }> {\n  try {\n    await apiDelete(`${MESSAGING_PREFIX}/messages/${encodeURIComponent(messageId)}`);\n    return { success: true };\n  } catch (error) {\n    return { \n      success: false, \n      errorMessage: error instanceof Error ? error.message : 'Failed to delete message' \n    };\n  }\n}\n\nexport async function starMessage(messageId: string): Promise<{ success: boolean; isStarred: boolean; errorMessage?: string }> {\n  try {\n    const response = await apiPut<{ Success?: boolean; IsStarred?: boolean; success?: boolean; isStarred?: boolean; ErrorMessage?: string }>(`${MESSAGING_PREFIX}/messages/${encodeURIComponent(messageId)}/star`);\n    return {\n      success: response.Success ?? response.success ?? false,\n      isStarred: response.IsStarred ?? response.isStarred ?? false,\n      errorMessage: response.ErrorMessage\n    };\n  } catch (error) {\n    return {\n      success: false,\n      isStarred: false,\n      errorMessage: error instanceof Error ? error.message : 'Failed to star message'\n    };\n  }\n}\n\nexport async function archiveThread(threadId: string, archive: boolean = true): Promise<{ success: boolean; isArchived: boolean; errorMessage?: string }> {\n  try {\n    const response = await apiPut<{ Success?: boolean; IsArchived?: boolean; success?: boolean; isArchived?: boolean; ErrorMessage?: string }>(`${MESSAGING_PREFIX}/messages/threads/${encodeURIComponent(threadId)}/archive`, { Archive: archive });\n    return {\n      success: response.Success ?? response.success ?? false,\n      isArchived: response.IsArchived ?? response.isArchived ?? false,\n      errorMessage: response.ErrorMessage\n    };\n  } catch (error) {\n    return {\n      success: false,\n      isArchived: false,\n      errorMessage: error instanceof Error ? error.message : 'Failed to archive thread'\n    };\n  }\n}\n\nexport async function forwardMessage(\n  messageId: string, \n  toApplicationId: string, \n  toReceiverId?: string, \n  additionalContent?: string\n): Promise<{ success: boolean; newMessageId?: string; newThreadId?: string; errorMessage?: string }> {\n  try {\n    const response = await apiPost<{ \n      Success?: boolean; \n      NewMessageId?: string; \n      NewThreadId?: string;\n      success?: boolean;\n      newMessageId?: string;\n      newThreadId?: string;\n      ErrorMessage?: string;\n    }>(`${MESSAGING_PREFIX}/messages/${encodeURIComponent(messageId)}/forward`, {\n      ToApplicationId: toApplicationId,\n      ToReceiverId: toReceiverId,\n      AdditionalContent: additionalContent\n    });\n    return {\n      success: response.Success ?? response.success ?? false,\n      newMessageId: response.NewMessageId ?? response.newMessageId,\n      newThreadId: response.NewThreadId ?? response.newThreadId,\n      errorMessage: response.ErrorMessage\n    };\n  } catch (error) {\n    return {\n      success: false,\n      errorMessage: error instanceof Error ? error.message : 'Failed to forward message'\n    };\n  }\n}\n\nexport async function getUnreadCount() {\n  return apiGet<{ count: number }>(`${MESSAGING_PREFIX}/messages/unread/count`);\n}\n\nexport async function markMessageRead(messageId: string) {\n  return apiPut(`${MESSAGING_PREFIX}/messages/${encodeURIComponent(messageId)}/read`);\n}\n\n// Application sections and documents for context\nexport type ApplicationSection = {\n  id: string;\n  title: string;\n  fields: Array<{\n    id: string;\n    label: string;\n    type: string;\n    value?: any;\n  }>;\n};\n\nexport type ApplicationDocument = {\n  id: string;\n  name: string;\n  type: string;\n  status: string;\n  url?: string;\n  fileName?: string;\n  createdAt?: string;\n};\n\nexport async function getApplicationSections(applicationId: string): Promise<ApplicationSection[]> {\n  try {\n    // Get case details from projections API or onboarding API\n    const app = await apiGet<{\n      id: string;\n      sections?: Array<{\n        id: string;\n        title: string;\n        fields?: Array<{ id: string; label: string; type: string; value?: any }>;\n      }>;\n      checklist_items?: Array<{\n        id: string;\n        category: string;\n        requirement: string;\n        status: string;\n      }>;\n    }>(`/api/v1/projections/cases/${encodeURIComponent(applicationId)}`);\n    \n    // If sections are directly available\n    if (app?.sections) {\n      return app.sections.map(s => ({\n        id: s.id,\n        title: s.title,\n        fields: s.fields || []\n      }));\n    }\n    \n    // Try to construct sections from checklist items if available\n    if (app?.checklist_items && app.checklist_items.length > 0) {\n      const categoryMap = new Map<string, ApplicationSection>();\n      \n      app.checklist_items.forEach(item => {\n        if (!categoryMap.has(item.category)) {\n          categoryMap.set(item.category, {\n            id: `section-${item.category.toLowerCase().replace(/\\s+/g, '-')}`,\n            title: item.category,\n            fields: []\n          });\n        }\n        const section = categoryMap.get(item.category)!;\n        section.fields.push({\n          id: item.id,\n          label: item.requirement,\n          type: 'text',\n          value: item.status\n        });\n      });\n      \n      return Array.from(categoryMap.values());\n    }\n    \n    // Fallback: return empty array\n    return [];\n  } catch (error) {\n    console.error('Failed to fetch application sections:', error);\n    return [];\n  }\n}\n\nexport async function getApplicationDocuments(applicationId: string): Promise<ApplicationDocument[]> {\n  try {\n    // Convert applicationId to Guid for document service\n    // Try to fetch documents by caseId\n    const documents = await apiGet<Array<{\n      id: string;\n      documentNumber?: string;\n      fileName: string;\n      type: string;\n      contentType?: string;\n      createdAt?: string;\n      storageKey?: string;\n    }>>(`/documents/v1/api/v1/documents/list/${encodeURIComponent(applicationId)}`);\n    \n    if (Array.isArray(documents)) {\n      return documents.map(doc => ({\n        id: doc.id,\n        name: doc.fileName || doc.documentNumber || 'Document',\n        type: doc.type || 'unknown',\n        status: 'uploaded', // Default status\n        fileName: doc.fileName,\n        createdAt: doc.createdAt\n      }));\n    }\n    \n    return [];\n  } catch (error) {\n    console.error('Failed to fetch application documents:', error);\n    // Try alternative endpoint format\n    try {\n      const caseData = await apiGet<{ documents?: ApplicationDocument[] }>(`/api/v1/projections/cases/${encodeURIComponent(applicationId)}`);\n      if (caseData?.documents) {\n        return caseData.documents;\n      }\n    } catch (e) {\n      console.error('Alternative document fetch failed:', e);\n    }\n    return [];\n  }\n}\n\n// User Profile API\nexport type UserProfile = {\n  id: string;\n  email: string;\n  firstName: string;\n  lastName: string;\n  middleName?: string;\n  fullName: string;\n  profileImageUrl?: string;\n  phone?: string;\n  country?: string;\n  companyName?: string;\n  entityType?: string;\n  status?: string;\n  createdAt?: string;\n  updatedAt?: string;\n  preferences?: UserPreferences;\n};\n\nexport type UserPreferences = {\n  emailNotifications?: boolean;\n  smsNotifications?: boolean;\n  statusUpdates?: boolean;\n  marketingCommunications?: boolean;\n  language?: string;\n  timezone?: string;\n};\n\nexport type UpdateProfileRequest = {\n  firstName: string;\n  lastName: string;\n  middleName?: string;\n  phone?: string;\n  country?: string;\n  companyName?: string;\n  preferences?: UserPreferences;\n};\n\nexport type ChangePasswordRequest = {\n  currentPassword: string;\n  newPassword: string;\n  confirmPassword: string;\n};\n\nexport type CaseDataSummary = {\n  caseId: string;\n  applicationData: any;\n  documents: any[];\n  messages: any[];\n  timeline: any[];\n};\n\n// Get current user profile\nexport async function getUserProfile(): Promise<UserProfile> {\n  try {\n    // Try authentication service first\n    const profile = await apiGet<UserProfile>('/api/users/me');\n    return profile;\n  } catch (error) {\n    // Don't log 503 or 404 errors - services may not be running or user may not exist yet\n    if (!(error as any)?.isServiceUnavailable && !(error as any)?.isNotFound) {\n      console.error('Failed to fetch user profile from auth service:', error);\n    }\n    // Fallback: try to get from case data\n    try {\n      const { getAuthUser } = await import(\"@/lib/auth/session\");\n      const user = getAuthUser();\n      if (user && user.email) {\n        const caseData = await findUserCaseByEmail(user.email);\n        if (caseData) {\n          return {\n            id: user.sub || user.email,\n            email: user.email,\n            firstName: user.givenName || user.name?.split(' ')[0] || '',\n            lastName: user.familyName || user.name?.split(' ').slice(1).join(' ') || '',\n            fullName: user.name || '',\n            phone: undefined,\n            country: caseData.country,\n            preferences: undefined\n          };\n        }\n      }\n    } catch (e) {\n      // Don't log 503 or 404 errors - services may not be running or user may not exist yet\n      if (!(e as any)?.isServiceUnavailable && !(e as any)?.isNotFound) {\n        console.error('Failed to get user from case data:', e);\n      }\n    }\n    // Last resort: return from JWT token\n    const { getAuthUser } = await import(\"@/lib/auth/session\");\n    const user = getAuthUser();\n    return {\n      id: user.sub || user.email || '',\n      email: user.email || '',\n      firstName: user.givenName || user.name?.split(' ')[0] || '',\n      lastName: user.familyName || user.name?.split(' ').slice(1).join(' ') || '',\n      fullName: user.name || '',\n      preferences: undefined\n    };\n  }\n}\n\n// Get handler/user profile by ID (for displaying assigned handlers)\nexport async function getHandlerProfile(userId: string): Promise<{ id: string; fullName: string; email?: string; firstName?: string; lastName?: string; profileImageUrl?: string } | null> {\n  if (!userId) return null;\n  try {\n    // Try to get user profile from authentication service\n    const profile = await apiGet<{ id: string; email: string; firstName: string; lastName: string; fullName: string; profileImageUrl?: string }>(`/api/users/${userId}`);\n    return {\n      id: profile.id,\n      fullName: profile.fullName || `${profile.firstName || ''} ${profile.lastName || ''}`.trim() || 'Unknown User',\n      email: profile.email,\n      firstName: profile.firstName,\n      lastName: profile.lastName,\n      profileImageUrl: profile.profileImageUrl\n    };\n  } catch (error: any) {\n    // Don't log 404 or 503 errors - handler may not exist or service unavailable\n    if (!(error as any)?.isServiceUnavailable && !(error as any)?.isNotFound) {\n      console.error('Failed to fetch handler profile:', error);\n    }\n    return null;\n  }\n}\n\n// Update user profile\nexport async function updateUserProfile(updates: UpdateProfileRequest): Promise<UserProfile> {\n  try {\n    return await apiPut<UserProfile>('/api/users/me', updates);\n  } catch (error: any) {\n    // If user doesn't exist in backend (404), try to create them or fallback\n    if (error?.message?.includes('404')) {\n      console.warn('User profile not found in backend. Creating new profile...');\n      // For now, we'll just return the updated profile from the request\n      // In a full implementation, you might want to POST to create the user first\n      const { getAuthUser } = await import(\"@/lib/auth/session\");\n      const user = getAuthUser();\n      \n      return {\n        id: user?.sub || user?.email || '',\n        email: user?.email || '',\n        firstName: updates.firstName || user?.givenName || '',\n        lastName: updates.lastName || user?.familyName || '',\n        middleName: updates.middleName,\n        fullName: `${updates.firstName || ''} ${updates.lastName || ''}`.trim() || user?.name || '',\n        phone: updates.phone,\n        country: updates.country,\n        companyName: updates.companyName,\n        preferences: updates.preferences\n      };\n    }\n    throw error;\n  }\n}\n\n// Get user notification preferences\nexport async function getNotificationPreferences(): Promise<UserPreferences> {\n  try {\n    const profile = await getUserProfile();\n    return profile.preferences || {\n      emailNotifications: true,\n      smsNotifications: false,\n      statusUpdates: true,\n      marketingCommunications: false\n    };\n  } catch (error) {\n    // Don't log 404 or 503 errors - services may not be running or user may not exist yet\n    if (!(error as any)?.isNotFound && !(error as any)?.isServiceUnavailable) {\n      console.error('Failed to fetch notification preferences:', error);\n    }\n    // Return defaults\n    return {\n      emailNotifications: true,\n      smsNotifications: false,\n      statusUpdates: true,\n      marketingCommunications: false\n    };\n  }\n}\n\n// Update notification preferences\nexport async function updateNotificationPreferences(preferences: UserPreferences): Promise<UserProfile> {\n  try {\n    // Update preferences as part of profile\n    const currentProfile = await getUserProfile();\n    try {\n      return await updateUserProfile({\n        firstName: currentProfile.firstName || '',\n        lastName: currentProfile.lastName || '',\n        middleName: currentProfile.middleName,\n        phone: currentProfile.phone,\n        country: currentProfile.country,\n        companyName: currentProfile.companyName,\n        preferences\n      });\n    } catch (error: any) {\n      // If update fails (404 or other), the updateUserProfile will handle the fallback\n      // For notification preferences specifically, we can store locally as backup\n      if (error?.message?.includes('404')) {\n        console.warn('Profile not found in backend. Storing preferences locally...');\n        // Store preferences in localStorage as backup\n        if (typeof window !== 'undefined') {\n          localStorage.setItem('user_preferences', JSON.stringify(preferences));\n        }\n        // Return profile with updated preferences\n        return {\n          ...currentProfile,\n          preferences\n        };\n      }\n      throw error;\n    }\n  } catch (error) {\n    console.error('Failed to update notification preferences:', error);\n    // Still try to store locally\n    if (typeof window !== 'undefined') {\n      try {\n        localStorage.setItem('user_preferences', JSON.stringify(preferences));\n      } catch (e) {\n        console.error('Failed to store preferences locally:', e);\n      }\n    }\n    throw error;\n  }\n}\n\n// Change password\nexport async function changePassword(request: ChangePasswordRequest): Promise<{ success: boolean; message?: string }> {\n  try {\n    // Try authentication service endpoint if available\n    return await apiPost<{ success: boolean; message?: string }>('/api/users/me/change-password', request);\n  } catch (error) {\n    console.error('Failed to change password:', error);\n    // If endpoint doesn't exist, this would typically go through Keycloak\n    throw new Error('Password change not available. Please contact support or use Keycloak directly.');\n  }\n}\n\n// Download user data (GDPR compliance)\nexport async function downloadUserData(): Promise<Blob> {\n  try {\n    // Proxy handles authentication - no need for manual token\n    const response = await fetch(`${API_BASE}/api/users/me/data-export`, {\n      method: 'GET',\n      credentials: 'include', // Include session cookie\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to download user data');\n    }\n\n    return await response.blob();\n  } catch (error) {\n    console.error('Failed to download user data:', error);\n    // Fallback: create a simple JSON export\n    const profile = await getUserProfile();\n    const caseData = await findUserCaseByEmail(profile.email).catch(() => null);\n    \n    const data = {\n      profile,\n      caseData,\n      exportedAt: new Date().toISOString()\n    };\n\n    return new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });\n  }\n}\n\n// Delete user account\nexport async function deleteUserAccount(confirmation: { password?: string; reason?: string }): Promise<{ success: boolean; message?: string }> {\n  try {\n    return await apiPost<{ success: boolean; message?: string }>('/api/users/me/delete', confirmation);\n  } catch (error) {\n    console.error('Failed to delete account:', error);\n    throw new Error('Account deletion failed. Please contact support.');\n  }\n}\n\n// Get user's case summary for profile display\nexport async function getUserCaseSummary(): Promise<CaseDataSummary | null> {\n  try {\n    const { getAuthUser } = await import(\"@/lib/auth/session\");\n    const user = getAuthUser();\n    if (!user?.email) return null;\n\n    const caseData = await findUserCaseByEmail(user.email);\n    if (!caseData) return null;\n\n    // Get related data\n    const [documents, threads] = await Promise.all([\n      getApplicationDocuments(caseData.caseId).catch(() => []),\n      getMyThreads(1, 10).catch(() => ({ items: [], totalCount: 0 } as any))\n    ]);\n\n    return {\n      caseId: caseData.caseId,\n      applicationData: caseData,\n      documents,\n      messages: threads.items || [],\n      timeline: []\n    };\n  } catch (error) {\n    // Don't log 503 or 404 errors - services may not be running or user may not exist yet\n    if (!(error as any)?.isServiceUnavailable && !(error as any)?.isNotFound) {\n      console.error('Failed to get user case summary:', error);\n    }\n    return null;\n  }\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1126, "column": 0}, "map": {"version":3,"sources":["file:///Users/mukurusystemsadministrator/Desktop/onboarding_kyc%20copy/partner/src/hooks/useRequireAuth.ts"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { useSession } from \"next-auth/react\";\n\n/**\n * Hook to protect routes - redirects to login if not authenticated\n */\nexport function useRequireAuth() {\n  const { data: session, status } = useSession();\n  const router = useRouter();\n\n  useEffect(() => {\n    if (status === \"unauthenticated\") {\n      // Only redirect if not already on an auth page\n      const currentPath = window.location.pathname;\n      if (!currentPath.startsWith('/auth/')) {\n        router.push('/auth/login');\n      }\n    }\n  }, [status, router]);\n\n  return { \n    isAuthenticated: status === \"authenticated\" && !!session, \n    isLoading: status === \"loading\" \n  };\n}\n\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;AAJA;;;;AASO,SAAS;;IACd,MAAM,EAAE,MAAM,OAAO,EAAE,MAAM,EAAE,GAAG,IAAA,+JAAU;IAC5C,MAAM,SAAS,IAAA,kJAAS;IAExB,IAAA,0KAAS;oCAAC;YACR,IAAI,WAAW,mBAAmB;gBAChC,+CAA+C;gBAC/C,MAAM,cAAc,OAAO,QAAQ,CAAC,QAAQ;gBAC5C,IAAI,CAAC,YAAY,UAAU,CAAC,WAAW;oBACrC,OAAO,IAAI,CAAC;gBACd;YACF;QACF;mCAAG;QAAC;QAAQ;KAAO;IAEnB,OAAO;QACL,iBAAiB,WAAW,mBAAmB,CAAC,CAAC;QACjD,WAAW,WAAW;IACxB;AACF;GAlBgB;;QACoB,+JAAU;QAC7B,kJAAS"}},
    {"offset": {"line": 1174, "column": 0}, "map": {"version":3,"sources":["file:///Users/mukurusystemsadministrator/Desktop/onboarding_kyc%20copy/partner/src/app/partner/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { \n  Box, \n  Container, \n  VStack, \n  HStack,\n  Text,\n  SimpleGrid,\n  Flex,\n  Badge,\n  Image,\n  Circle,\n  Icon,\n  Alert,\n  AlertTitle,\n  AlertDescription,\n  Spinner\n} from \"@chakra-ui/react\";\nimport { Button, MukuruLogo } from \"@/lib/mukuruImports\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport Link from \"next/link\";\nimport { useEffect, useMemo, useState, useCallback, Suspense } from \"react\";\nimport { useSearchParams } from \"next/navigation\";\nimport { getAuthUser, getInitials, logout } from \"@/lib/auth/session\";\nimport { findUserCaseByEmail, getCaseById, getHandlerProfile } from \"@/lib/api\";\nimport { useRequireAuth } from \"@/hooks/useRequireAuth\";\nimport { useAuth } from \"@/contexts/AuthContext\";\nimport { \n  FiFileText, \n  FiClock, \n  FiCheckCircle, \n  FiEdit3, \n  FiTrendingUp,\n  FiUsers,\n  FiCalendar,\n  FiMapPin,\n  FiArrowRight,\n  FiPlus,\n  FiBarChart,\n  FiTarget,\n  FiZap,\n  FiUser,\n  FiMail,\n  FiRefreshCw,\n  FiSend,\n  FiShield,\n  FiClipboard,\n  FiAward\n} from \"react-icons/fi\";\n\nconst MotionBox = motion.create(Box);\nconst MotionFlex = motion.create(Flex);\nconst MotionVStack = motion.create(VStack);\nconst MotionHStack = motion.create(HStack);\nconst MotionText = motion.create(Text);\nconst MotionCircle = motion.create(Circle);\n\n// Application Journey Progress Component\ninterface JourneyStage {\n  id: string;\n  label: string;\n  icon: any;\n  status: string[];\n}\n\nconst journeyStages: JourneyStage[] = [\n  {\n    id: 'submitted',\n    label: 'Submitted',\n    icon: FiSend,\n    status: ['SUBMITTED', 'NEW']\n  },\n  {\n    id: 'assigned',\n    label: 'Assigned',\n    icon: FiUser,\n    status: ['ASSIGNED']\n  },\n  {\n    id: 'in_review',\n    label: 'In Review',\n    icon: FiClipboard,\n    status: ['IN PROGRESS', 'INPROGRESS', 'IN_REVIEW']\n  },\n  {\n    id: 'risk_assessment',\n    label: 'Risk Assessment',\n    icon: FiShield,\n    status: ['RISK REVIEW', 'PENDING APPROVAL', 'PENDINGAPPROVAL']\n  },\n  {\n    id: 'approved',\n    label: 'Approved',\n    icon: FiCheckCircle,\n    status: ['APPROVED']\n  },\n  {\n    id: 'completed',\n    label: 'Completed',\n    icon: FiAward,\n    status: ['COMPLETED', 'COMPLETE']\n  }\n];\n\nfunction ApplicationJourneyProgress({ status }: { status: string }) {\n  const normalizedStatus = (status || '').toUpperCase().trim();\n  \n  // Find current stage index\n  const currentStageIndex = journeyStages.findIndex(stage =>\n    stage.status.some(s => normalizedStatus.includes(s))\n  );\n  \n  // Default to first stage if not found\n  const activeIndex = currentStageIndex >= 0 ? currentStageIndex : 0;\n\n  // Calculate circle center position (half of circle size)\n  const circleCenterY = { base: 18, md: 20 }; // Half of 36px/40px\n  \n  // Calculate progress line width - from first circle center to current stage center\n  const totalStages = journeyStages.length;\n  const progressPercentage = activeIndex === 0 \n    ? 0 \n    : (activeIndex / (totalStages - 1)) * 100;\n  \n  // Calculate width from first circle center to current stage center\n  // Available space is 100% minus the radius of first and last circles\n  const progressWidthValue = activeIndex === 0 \n    ? '0px'\n    : `calc((100% - ${circleCenterY.md * 2}px) * ${progressPercentage} / 100)`;\n  \n  return (\n    <Box position=\"relative\" width=\"100%\" py=\"2\">\n      {/* Stages Container */}\n      <Box position=\"relative\" zIndex={2}>\n        <HStack \n          justify=\"space-between\" \n          align=\"flex-start\"\n          gap={0}\n          width=\"100%\"\n          px=\"0\"\n          position=\"relative\"\n        >\n          {/* Continuous Progress Line Background - spans entire width from first to last circle center */}\n          <Box\n            position=\"absolute\"\n            height=\"3px\"\n            bg=\"gray.200\"\n            borderRadius=\"full\"\n            zIndex={0}\n            top={{ base: `${circleCenterY.base}px`, md: `${circleCenterY.md}px` }}\n            left={{ base: `${circleCenterY.base}px`, md: `${circleCenterY.md}px` }}\n            right={{ base: `${circleCenterY.base}px`, md: `${circleCenterY.md}px` }}\n            transform=\"translateY(-50%)\"\n          />\n          \n          {/* Continuous Progress Line Fill - spans from first circle center to current stage */}\n          <Box\n            position=\"absolute\"\n            height=\"3px\"\n            width={progressWidthValue}\n            bg=\"linear-gradient(90deg, #FF6B35 0%, #F7931E 100%)\"\n            borderRadius=\"full\"\n            transition=\"width 0.6s cubic-bezier(0.4, 0, 0.2, 1)\"\n            zIndex={1}\n            boxShadow=\"0 2px 4px rgba(255, 107, 53, 0.3)\"\n            top={{ base: `${circleCenterY.base}px`, md: `${circleCenterY.md}px` }}\n            left={{ base: `${circleCenterY.base}px`, md: `${circleCenterY.md}px` }}\n            transform=\"translateY(-50%)\"\n          />\n          \n          {journeyStages.map((stage, index) => {\n            const isCompleted = index < activeIndex;\n            const isCurrent = index === activeIndex;\n            const IconComponent = stage.icon;\n            \n            return (\n              <VStack \n                key={stage.id} \n                gap=\"1.5\" \n                flex=\"1\" \n                align=\"center\"\n                maxW={{ base: \"60px\", md: \"100px\" }}\n                position=\"relative\"\n                width=\"100%\"\n              >\n                {/* Stage Icon Circle */}\n                <Box \n                  position=\"relative\"\n                  display=\"flex\"\n                  justifyContent=\"center\"\n                  alignItems=\"center\"\n                  width=\"100%\"\n                  zIndex={3}\n                >\n                  <Circle\n                    size={{ base: \"36px\", md: \"40px\" }}\n                    bg={isCompleted || isCurrent ? \"orange.500\" : \"gray.200\"}\n                    color={isCompleted || isCurrent ? \"white\" : \"gray.400\"}\n                    border={isCurrent ? \"3px solid\" : \"2px solid\"}\n                    borderColor={isCurrent ? \"orange.600\" : isCompleted ? \"orange.400\" : \"gray.300\"}\n                    boxShadow={isCurrent \n                      ? \"0 0 0 3px rgba(255, 107, 53, 0.15), 0 2px 8px rgba(255, 107, 53, 0.3)\" \n                      : isCompleted \n                        ? \"0 2px 6px rgba(255, 107, 53, 0.2)\" \n                        : \"none\"\n                    }\n                    transition=\"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)\"\n                    position=\"relative\"\n                    zIndex={3}\n                    _hover={{\n                      transform: isCurrent ? \"scale(1.1)\" : \"scale(1.05)\",\n                      transition: \"transform 0.2s ease\"\n                    }}\n                  >\n                    <Icon \n                      as={IconComponent} \n                      boxSize={{ base: \"4\", md: \"5\" }}\n                    />\n                  </Circle>\n                  \n                  {/* Current Stage Indicator */}\n                  {isCurrent && (\n                    <Box\n                      position=\"absolute\"\n                      top=\"-3px\"\n                      right=\"-3px\"\n                      width=\"14px\"\n                      height=\"14px\"\n                      bg=\"orange.500\"\n                      borderRadius=\"full\"\n                      border=\"2px solid white\"\n                      boxShadow=\"0 2px 6px rgba(255, 107, 53, 0.4)\"\n                      display=\"flex\"\n                      alignItems=\"center\"\n                      justifyContent=\"center\"\n                      zIndex={3}\n                    >\n                      <motion.div\n                        style={{\n                          width: \"6px\",\n                          height: \"6px\",\n                          backgroundColor: \"white\",\n                          borderRadius: \"50%\"\n                        }}\n                        animate={{\n                          opacity: [1, 0.5, 1],\n                          scale: [1, 1.2, 1]\n                        }}\n                        transition={{\n                          duration: 2,\n                          repeat: Infinity,\n                          ease: \"easeInOut\"\n                        }}\n                      />\n                    </Box>\n                  )}\n                  \n                  {/* Completed Checkmark */}\n                  {isCompleted && (\n                    <Box\n                      position=\"absolute\"\n                      top=\"-2px\"\n                      right=\"-2px\"\n                      width=\"14px\"\n                      height=\"14px\"\n                      bg=\"green.500\"\n                      borderRadius=\"full\"\n                      border=\"2px solid white\"\n                      display=\"flex\"\n                      alignItems=\"center\"\n                      justifyContent=\"center\"\n                      zIndex={3}\n                    >\n                      <Icon as={FiCheckCircle} boxSize=\"2.5\" color=\"white\" />\n                    </Box>\n                  )}\n                </Box>\n\n                {/* Stage Label */}\n                <VStack gap=\"0.5\" align=\"center\" width=\"100%\">\n                  <Text\n                    fontSize=\"10px\"\n                    fontWeight={isCurrent ? \"bold\" : isCompleted ? \"semibold\" : \"medium\"}\n                    color={isCurrent ? \"gray.900\" : isCompleted ? \"gray.700\" : \"gray.500\"}\n                    textAlign=\"center\"\n                    lineHeight=\"1.1\"\n                    px=\"0.5\"\n                  >\n                    {stage.label}\n                  </Text>\n                  \n                  {/* Current Badge */}\n                  {isCurrent && (\n                    <Badge\n                      bg=\"orange.500\"\n                      color=\"white\"\n                      fontSize=\"9px\"\n                      px=\"1.5\"\n                      py=\"0\"\n                      borderRadius=\"full\"\n                      fontWeight=\"semibold\"\n                      boxShadow=\"0 2px 4px rgba(255, 107, 53, 0.3)\"\n                    >\n                      Current\n                    </Badge>\n                  )}\n                  \n                  {/* Completed Badge */}\n                  {isCompleted && (\n                    <Badge\n                      bg=\"green.50\"\n                      color=\"green.700\"\n                      fontSize=\"9px\"\n                      px=\"1.5\"\n                      py=\"0\"\n                      borderRadius=\"full\"\n                      fontWeight=\"medium\"\n                    >\n                      Done\n                    </Badge>\n                  )}\n                </VStack>\n              </VStack>\n            );\n          })}\n        </HStack>\n      </Box>\n    </Box>\n  );\n}\n\nfunction PartnerDashboardContent() {\n  // Protect this route - redirects to login if not authenticated\n  useRequireAuth();\n  const { user: authUser, isLoading: authLoading } = useAuth();\n  const searchParams = useSearchParams();\n  const submitted = searchParams?.get('submitted') === 'true';\n  const caseIdFromUrl = searchParams?.get('caseId');\n  \n  const [currentUser, setCurrentUser] = useState<{ name: string; email?: string; companyName?: string }>({ name: \"User\" });\n  const [application, setApplication] = useState<any | null>(null);\n  const [loading, setLoading] = useState<boolean>(true);\n  const [handler, setHandler] = useState<{ id: string; fullName: string; email?: string; firstName?: string; lastName?: string; profileImageUrl?: string } | null>(null);\n  const [loadingHandler, setLoadingHandler] = useState<boolean>(false);\n  const [retryCount, setRetryCount] = useState(0);\n  const [showSuccessMessage, setShowSuccessMessage] = useState(false);\n\n  useEffect(() => {\n    if (authUser) {\n      setCurrentUser({ name: authUser.name || \"\", email: authUser.email || \"\" });\n    } else if (!authLoading) {\n      // Fallback to direct session check if auth context not loaded yet\n      const user = getAuthUser();\n      setCurrentUser({ name: user.name, email: user.email });\n    }\n  }, [authUser, authLoading]);\n\n  // Load application data function - fetches REAL data from API\n  const loadApplicationData = useCallback(async (forceRefresh = false) => {\n    if (!currentUser.email) {\n      setLoading(false);\n      return false;\n    }\n    \n    try {\n      console.log(' Loading application data from API...', {\n        email: currentUser.email,\n        caseIdFromUrl,\n        forceRefresh\n      });\n      \n      setLoading(true);\n      \n      // If caseId is provided in URL (from submission), try to fetch it directly first\n      let found: any = null;\n      if (caseIdFromUrl) {\n        console.log(' Fetching case by ID:', caseIdFromUrl);\n        found = await getCaseById(caseIdFromUrl);\n      }\n      \n      // If not found by ID or no ID provided, search by email\n      if (!found) {\n        console.log(' Fetching case by email:', currentUser.email);\n        found = await findUserCaseByEmail(currentUser.email);\n      }\n      \n      if (!found) {\n        console.log(' No application found in API');\n        setApplication(null);\n        setLoading(false);\n        return false;\n      }\n      \n      if (found) {\n        // Log what we received from API to debug\n        console.log(' Dashboard - API Response:', {\n          caseId: found.caseId,\n          status: found.status,\n          progressPercentage: found.progressPercentage,\n          type: found.type,\n          createdAt: found.createdAt,\n          updatedAt: found.updatedAt,\n          hasMetadata: !!(found as any).metadataJson\n        });\n        \n        const statusRaw = (found.status || '').toString();\n        const statusColor = statusRaw.toLowerCase() === 'approved' ? 'green' :\n          statusRaw.toLowerCase().includes('review') ? 'blue' :\n          statusRaw.toLowerCase() === 'rejected' ? 'red' : 'orange';\n\n        // Parse metadata to get dynamic fields\n        let metadata = {};\n        try {\n          if ((found as any).metadataJson) {\n            metadata = typeof (found as any).metadataJson === 'string' \n              ? JSON.parse((found as any).metadataJson) \n              : (found as any).metadataJson;\n          }\n        } catch (e) {\n          console.warn('Failed to parse metadata:', e);\n        }\n        \n        // Get country from metadata first, then standard fields, then empty\n        const countryFromMetadata = (metadata as any)?.country || \n                                    (metadata as any)?.applicant_country || \n                                    (metadata as any)?.business_country ||\n                                    (metadata as any)?.country_of_registration;\n        \n        const country = countryFromMetadata || found.country || found.applicantCountry || '';\n        \n        // Use REAL progress from API - no fallbacks, no defaults\n        const realProgress = found.progressPercentage ?? 0;\n        const realStatus = statusRaw.replace('_', ' ').toUpperCase();\n        \n        console.log(' Dashboard - Setting application data:', {\n          status: realStatus,\n          progress: realProgress,\n          country: country || 'NOT PROVIDED',\n          type: found.type\n        });\n        \n        setApplication({\n          id: found.caseId,\n          name: `${found.applicantFirstName ?? ''} ${found.applicantLastName ?? ''}`.trim() || 'Application',\n          type: found.type,\n          status: realStatus, // REAL status from database\n          country: country || '', // Only show if actually provided\n          created: found.createdAt ? new Date(found.createdAt).toLocaleDateString() : '',\n          lastUpdated: found.updatedAt ? new Date(found.updatedAt).toLocaleDateString() : '',\n          completionPercentage: Math.round(realProgress), // REAL progress from database\n          riskLevel: (found.riskLevel ?? 'low').toString(),\n          statusColor,\n          assignedTo: found.assignedTo,\n          assignedToName: found.assignedToName,\n          metadata: metadata // Store all dynamic fields\n        });\n\n        // Load handler profile if assigned\n        if (found.assignedTo) {\n          setLoadingHandler(true);\n          try {\n            const handlerProfile = await getHandlerProfile(found.assignedTo);\n            if (handlerProfile) {\n              setHandler(handlerProfile);\n            } else if (found.assignedToName) {\n              // Fallback to just the name if profile fetch fails\n              setHandler({\n                id: found.assignedTo,\n                fullName: found.assignedToName,\n                email: undefined,\n                firstName: undefined,\n                lastName: undefined\n              });\n            }\n          } catch (error: any) {\n            // Silently handle errors - use assignedToName if available\n            if (found.assignedToName) {\n              setHandler({\n                id: found.assignedTo,\n                fullName: found.assignedToName,\n                email: undefined,\n                firstName: undefined,\n                lastName: undefined\n              });\n            }\n          } finally {\n            setLoadingHandler(false);\n          }\n        } else {\n          setHandler(null);\n        }\n        \n        setLoading(false);\n        return true; // Successfully loaded\n      } else {\n        setApplication(null);\n        setHandler(null);\n        setLoading(false);\n        return false; // No application found\n      }\n    } catch (error: any) {\n      // Handle service unavailable errors - backend services may not be running\n      if (error?.isServiceUnavailable) {\n        if (process.env.NODE_ENV === 'development') {\n          console.warn(' Backend service unavailable (503). The projections API may not be running.');\n          console.warn(' To fix: Ensure the projections API service is running on http://localhost:8007');\n        }\n      } else {\n        console.error('Failed to load application:', error);\n      }\n      setApplication(null);\n      setLoading(false);\n      return false; // Error loading\n    }\n  }, [currentUser.email, caseIdFromUrl]);\n\n  // Manual refresh function\n  const handleRefresh = useCallback(async () => {\n    setLoading(true);\n    setRetryCount(0);\n    await loadApplicationData(true);\n  }, [loadApplicationData]);\n\n  // Initial load and retry logic for newly submitted applications\n  useEffect(() => {\n    let cancelled = false;\n    let retryTimeout: NodeJS.Timeout | null = null;\n    let syncTriggered = false;\n    \n    async function load() {\n      if (!currentUser.email) {\n        setLoading(false);\n        return;\n      }\n      \n      // If case was just submitted and we haven't triggered sync yet, do it now\n      if (submitted && !syncTriggered && caseIdFromUrl) {\n        syncTriggered = true;\n        try {\n          // Trigger projections sync to ensure case is available\n          const syncResponse = await fetch('/api/proxy/api/v1/sync?forceFullSync=false', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n              ...(currentUser.email ? {\n                'X-User-Email': currentUser.email,\n                'X-User-Name': currentUser.name || currentUser.email,\n                'X-User-Role': 'Applicant'\n              } : {})\n            }\n          });\n          if (syncResponse.ok) {\n            console.log('Projections sync triggered from dashboard');\n            // Wait a bit for sync to complete\n            await new Promise(resolve => setTimeout(resolve, 1000));\n          }\n        } catch (syncError) {\n          console.warn('Failed to trigger projections sync:', syncError);\n          // Continue anyway - will retry below\n        }\n      }\n      \n      setLoading(true);\n      const loaded = await loadApplicationData();\n      \n      if (cancelled) return;\n      \n      // If application was just submitted but not found, retry a few times\n      // (projections service might need time to index the new case)\n      if (submitted && !loaded && retryCount < 8) {\n        const delay = Math.min(1500 * (retryCount + 1), 6000); // Exponential backoff, max 6s\n        retryTimeout = setTimeout(() => {\n          if (!cancelled) {\n            setRetryCount(prev => prev + 1);\n            load(); // Retry\n          }\n        }, delay);\n      } else if (submitted && loaded) {\n        // Show success message when application is found\n        setShowSuccessMessage(true);\n        setTimeout(() => setShowSuccessMessage(false), 5000);\n        setRetryCount(0); // Reset retry count on success\n      } else if (submitted && !loaded && retryCount >= 8) {\n        // Max retries reached - show warning but don't block\n        console.warn('Application not found after max retries. It may take longer to appear.');\n      }\n    }\n    \n    load();\n    \n    return () => { \n      cancelled = true;\n      if (retryTimeout) clearTimeout(retryTimeout);\n    };\n  }, [currentUser.email, submitted, retryCount, loadApplicationData, caseIdFromUrl]);\n\n  // Show success message when redirected after submission\n  useEffect(() => {\n    if (submitted) {\n      setShowSuccessMessage(true);\n      // Clear the URL params after showing message\n      const timer = setTimeout(() => {\n        if (typeof window !== 'undefined') {\n          window.history.replaceState({}, '', '/partner/dashboard');\n        }\n      }, 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [submitted]);\n\n  // Periodic refresh of application data (every 30 seconds)\n  useEffect(() => {\n    if (!currentUser.email) return;\n    \n    const refreshInterval = setInterval(() => {\n      // Only refresh if we're not currently loading and not retrying\n      if (!loading && retryCount === 0) {\n        loadApplicationData(false).catch(err => {\n          // Silently handle errors - don't spam console\n          if (!err?.isServiceUnavailable) {\n            console.debug('Periodic refresh failed:', err);\n          }\n        });\n      }\n    }, 30000); // 30 seconds\n    \n    return () => clearInterval(refreshInterval);\n  }, [currentUser.email, loading, retryCount, loadApplicationData]);\n\n  const partnerData = {\n    name: currentUser.name,\n    companyName: currentUser.companyName,\n    application\n  };\n\n  const cardBg = \"white\";\n  const borderColor = \"gray.200\";\n\n  return (\n    <Box minH=\"100vh\" bg=\"gray.50\">\n      {/* Header */}\n      <MotionBox \n        bg=\"white\" \n        borderBottom=\"1px\" \n        borderColor={borderColor} \n        py=\"4\"\n        initial={{ opacity: 0, y: -20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.6 }}\n      >\n        <Container maxW=\"7xl\">\n          <Flex justify=\"space-between\" align=\"center\">\n            <MotionHStack \n              gap=\"4\"\n              initial={{ opacity: 0, x: -20 }}\n              animate={{ opacity: 1, x: 0 }}\n              transition={{ duration: 0.6, delay: 0.1 }}\n            >\n              <MukuruLogo height=\"32px\" />\n              \n            </MotionHStack>\n            <MotionHStack \n              gap=\"4\"\n              initial={{ opacity: 0, x: 20 }}\n              animate={{ opacity: 1, x: 0 }}\n              transition={{ duration: 0.6, delay: 0.2 }}\n            >\n              <Link href=\"/partner/profile\">\n                <Button variant=\"ghost\" size=\"sm\">Profile</Button>\n              </Link>\n              <Link href=\"/partner/messages\">\n                <Button variant=\"ghost\" size=\"sm\">Messages</Button>\n              </Link>\n              <Button variant=\"secondary\" size=\"sm\" onClick={() => logout('http://localhost:3000/')}>Logout</Button>\n              <Link href=\"/partner/application/enhanced\">\n                <MotionBox\n                  whileHover={{ scale: 1.05 }}\n                  whileTap={{ scale: 0.95 }}\n                >\n                  <Button \n                    size=\"sm\"\n                    className=\"mukuru-primary-button\"\n                    borderRadius=\"full\"\n                    px=\"6\"\n                    fontWeight=\"medium\"\n                    _hover={{\n                      transform: \"translateY(-1px)\"\n                    }}\n                    transition=\"all 0.2s ease\"\n                  >\n                    <Icon as={FiPlus} mr=\"2\" />\n                    New Application\n                  </Button>\n                </MotionBox>\n              </Link>\n              <MotionBox\n                whileHover={{ scale: 1.1 }}\n                whileTap={{ scale: 0.9 }}\n              >\n                <Circle \n                  size=\"40px\" \n                  bg=\"linear-gradient(135deg, #FF6B35 0%, #F7931E 100%)\" \n                  color=\"white\"\n                  cursor=\"pointer\"\n                  boxShadow=\"0 4px 12px rgba(255, 107, 53, 0.3)\"\n                  _hover={{\n                    boxShadow: \"0 6px 20px rgba(255, 107, 53, 0.4)\"\n                  }}\n                  transition=\"all 0.2s ease\"\n                >\n                  <Text fontSize=\"sm\" fontWeight=\"bold\" color=\"white\">{getInitials(currentUser.name)}</Text>\n                </Circle>\n              </MotionBox>\n            </MotionHStack>\n          </Flex>\n        </Container>\n      </MotionBox>\n\n      <Container maxW=\"7xl\" py=\"4\">\n        <VStack gap=\"4\" align=\"stretch\">\n          {/* Success Message Banner */}\n          <AnimatePresence>\n            {showSuccessMessage && (\n              <MotionBox\n                initial={{ opacity: 0, y: -20 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, y: -20 }}\n                transition={{ duration: 0.3 }}\n              >\n                <Alert.Root status=\"success\" borderRadius=\"md\" mb=\"3\" p=\"3\">\n                  <Icon as={FiCheckCircle} color=\"green.500\" boxSize=\"4\" mr=\"2\" />\n                  <VStack align=\"start\" gap=\"0.5\">\n                    <AlertTitle fontSize=\"sm\">Application Submitted Successfully!</AlertTitle>\n                    <AlertDescription fontSize=\"xs\">\n                      Your application has been received and is being processed. {retryCount > 0 && retryCount < 5 && `Refreshing data... (attempt ${retryCount + 1}/5)`}\n                    </AlertDescription>\n                  </VStack>\n                </Alert.Root>\n              </MotionBox>\n            )}\n          </AnimatePresence>\n\n          {/* Loading/Retry Indicator */}\n          {submitted && retryCount > 0 && retryCount < 5 && !application && (\n            <Box bg=\"blue.50\" p=\"3\" borderRadius=\"md\" mb=\"3\" border=\"1px\" borderColor=\"blue.200\">\n              <HStack gap=\"2\">\n                <Spinner size=\"sm\" color=\"blue.500\" />\n                <Text fontSize=\"xs\" color=\"blue.700\">\n                  Application is being processed. Refreshing data... ({retryCount}/5)\n                </Text>\n                <Button size=\"sm\" variant=\"secondary\" onClick={handleRefresh} ml=\"auto\">\n                  <Icon as={FiRefreshCw} mr=\"1\" />\n                  Refresh Now\n                </Button>\n              </HStack>\n            </Box>\n          )}\n\n          {/* Welcome Section */}\n          <MotionVStack \n            align=\"start\" \n            gap=\"2\" \n            mb=\"3\"\n            initial={{ opacity: 0, y: 30 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.8, delay: 0.3 }}\n          >\n            <HStack justify=\"space-between\" width=\"100%\">\n              <MotionHStack \n                gap=\"2\"\n                initial={{ opacity: 0, x: -20 }}\n                animate={{ opacity: 1, x: 0 }}\n                transition={{ duration: 0.6, delay: 0.5 }}\n              >\n                <Icon as={FiZap} color=\"orange.500\" boxSize=\"5\" />\n                <Text fontSize=\"2xl\" fontWeight=\"bold\" color=\"gray.800\">\n                  Welcome back, {partnerData.name}\n                </Text>\n              </MotionHStack>\n              <Button \n                size=\"sm\" \n                variant=\"secondary\" \n                onClick={handleRefresh}\n                disabled={loading}\n              >\n                <Icon as={FiRefreshCw} mr=\"1\" />\n                {loading ? 'Refreshing...' : 'Refresh'}\n              </Button>\n            </HStack>\n            <MotionText \n              color=\"gray.600\" \n              fontSize=\"sm\"\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.6, delay: 0.7 }}\n            >\n              Manage your partnership applications and track verification status\n            </MotionText>\n          </MotionVStack>\n\n          {/* Application Journey Progress Bar */}\n          {partnerData.application && (\n            <MotionBox\n              bg=\"white\"\n              p=\"4\"\n              borderRadius=\"lg\"\n              boxShadow=\"0 2px 12px rgba(0, 0, 0, 0.06)\"\n              border=\"1px solid\"\n              borderColor=\"gray.100\"\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.6, delay: 0.9 }}\n            >\n              <VStack gap=\"3\" align=\"stretch\">\n                <HStack justify=\"space-between\" align=\"center\">\n                  <VStack align=\"start\" gap=\"0.5\">\n                    <Text fontSize=\"md\" fontWeight=\"bold\" color=\"gray.800\">\n                      Application Journey\n                    </Text>\n                    <Text fontSize=\"xs\" color=\"gray.600\">\n                      Track your application progress through each stage\n                    </Text>\n                  </VStack>\n                </HStack>\n                <Box pt=\"1\">\n                  <ApplicationJourneyProgress \n                    status={partnerData.application.status}\n                  />\n                </Box>\n              </VStack>\n            </MotionBox>\n          )}\n\n          {/* Statistics Cards */}\n          <MotionBox\n            initial={{ opacity: 0, y: 30 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.8, delay: 0.4 }}\n          >\n            <SimpleGrid columns={{ base: 1, md: 2, lg: 4 }} gap=\"4\">\n              {/* Application Status */}\n              <MotionBox \n                bg={cardBg} \n                p=\"4\" \n                borderRadius=\"lg\"\n                boxShadow=\"0 2px 12px rgba(0, 0, 0, 0.06)\"\n                position=\"relative\"\n                overflow=\"hidden\"\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ duration: 0.6, delay: 0.5 }}\n                whileHover={{ \n                  scale: 1.02, \n                  boxShadow: \"0 4px 20px rgba(0, 0, 0, 0.10)\",\n                  transition: { duration: 0.2 }\n                }}\n                cursor=\"pointer\"\n              >\n                <Box \n                  position=\"absolute\" \n                  top=\"0\" \n                  right=\"0\" \n                  width=\"50px\" \n                  height=\"50px\" \n                  bg=\"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\"\n                  borderRadius=\"0 0 0 50px\"\n                  opacity=\"0.1\"\n                />\n                <VStack align=\"start\" gap=\"2\">\n                  <HStack justify=\"space-between\" width=\"100%\">\n                    <Text fontSize=\"xs\" color=\"gray.600\" fontWeight=\"medium\">Application Status</Text>\n                    <Icon as={FiFileText} color=\"purple.500\" boxSize=\"4\" />\n                  </HStack>\n                  <Text fontSize=\"lg\" fontWeight=\"bold\" color=\"gray.800\">\n                    {partnerData.application ? partnerData.application.status : 'No Application'}\n                  </Text>\n                  <Text fontSize=\"xs\" color=\"gray.500\" fontWeight=\"medium\">Current status</Text>\n                </VStack>\n              </MotionBox>\n\n              {/* Completion Progress */}\n              <MotionBox \n                bg={cardBg} \n                p=\"4\" \n                borderRadius=\"lg\"\n                boxShadow=\"0 2px 12px rgba(0, 0, 0, 0.06)\"\n                position=\"relative\"\n                overflow=\"hidden\"\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ duration: 0.6, delay: 0.6 }}\n                whileHover={{ \n                  scale: 1.02, \n                  boxShadow: \"0 4px 20px rgba(0, 0, 0, 0.10)\",\n                  transition: { duration: 0.2 }\n                }}\n                cursor=\"pointer\"\n              >\n                <Box \n                  position=\"absolute\" \n                  top=\"0\" \n                  right=\"0\" \n                  width=\"50px\" \n                  height=\"50px\" \n                  bg=\"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)\"\n                  borderRadius=\"0 0 0 50px\"\n                  opacity=\"0.1\"\n                />\n                <VStack align=\"start\" gap=\"2\">\n                  <HStack justify=\"space-between\" width=\"100%\">\n                    <Text fontSize=\"xs\" color=\"gray.600\" fontWeight=\"medium\">Completion</Text>\n                    <Icon as={FiCheckCircle} color=\"blue.500\" boxSize=\"4\" />\n                  </HStack>\n                  <Text fontSize=\"xl\" fontWeight=\"bold\" color=\"blue.600\">\n                    {partnerData.application ? `${partnerData.application.completionPercentage}%` : '0%'}\n                  </Text>\n                  <Text fontSize=\"xs\" color=\"gray.500\" fontWeight=\"medium\">Documents uploaded</Text>\n                </VStack>\n              </MotionBox>\n\n              {/* Last Updated */}\n              <MotionBox \n                bg={cardBg} \n                p=\"4\" \n                borderRadius=\"lg\"\n                boxShadow=\"0 2px 12px rgba(0, 0, 0, 0.06)\"\n                position=\"relative\"\n                overflow=\"hidden\"\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ duration: 0.6, delay: 0.8 }}\n                whileHover={{ \n                  scale: 1.02, \n                  boxShadow: \"0 4px 20px rgba(0, 0, 0, 0.10)\",\n                  transition: { duration: 0.2 }\n                }}\n                cursor=\"pointer\"\n              >\n                <Box \n                  position=\"absolute\" \n                  top=\"0\" \n                  right=\"0\" \n                  width=\"50px\" \n                  height=\"50px\" \n                  bg=\"linear-gradient(135deg, #fa709a 0%, #fee140 100%)\"\n                  borderRadius=\"0 0 0 50px\"\n                  opacity=\"0.1\"\n                />\n                <VStack align=\"start\" gap=\"2\">\n                  <HStack justify=\"space-between\" width=\"100%\">\n                    <Text fontSize=\"xs\" color=\"gray.600\" fontWeight=\"medium\">Last Updated</Text>\n                    <Icon as={FiClock} color=\"orange.500\" boxSize=\"4\" />\n                  </HStack>\n                  <Text fontSize=\"lg\" fontWeight=\"bold\" color=\"orange.600\">\n                    {partnerData.application ? partnerData.application.lastUpdated : 'Not Available'}\n                  </Text>\n                  <Text fontSize=\"xs\" color=\"gray.500\" fontWeight=\"medium\">Recent activity</Text>\n                </VStack>\n              </MotionBox>\n\n              {/* Case Handler */}\n              {partnerData.application && (\n                <MotionBox \n                  bg={cardBg} \n                  p=\"4\" \n                  borderRadius=\"lg\"\n                  boxShadow=\"0 2px 12px rgba(0, 0, 0, 0.06)\"\n                  position=\"relative\"\n                  overflow=\"hidden\"\n                  initial={{ opacity: 0, y: 20 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ duration: 0.6, delay: 1.0 }}\n                  whileHover={{ \n                    scale: 1.02, \n                    boxShadow: \"0 4px 20px rgba(0, 0, 0, 0.10)\",\n                    transition: { duration: 0.2 }\n                  }}\n                  cursor=\"pointer\"\n                >\n                  <Box \n                    position=\"absolute\" \n                    top=\"0\" \n                    right=\"0\" \n                    width=\"50px\" \n                    height=\"50px\" \n                    bg=\"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\"\n                    borderRadius=\"0 0 0 50px\"\n                    opacity=\"0.1\"\n                  />\n                  <VStack align=\"start\" gap=\"2\">\n                    <HStack justify=\"space-between\" width=\"100%\">\n                      <Text fontSize=\"xs\" color=\"gray.600\" fontWeight=\"medium\">Case Handler</Text>\n                      <Icon as={FiUser} color=\"blue.500\" boxSize=\"4\" />\n                    </HStack>\n                    {handler ? (\n                      <>\n                        <Text \n                          fontSize=\"lg\" \n                          fontWeight=\"bold\" \n                          color=\"gray.800\"\n                          overflow=\"hidden\"\n                          textOverflow=\"ellipsis\"\n                          whiteSpace=\"nowrap\"\n                        >\n                          {handler.fullName}\n                        </Text>\n                        <Text fontSize=\"xs\" color=\"gray.500\" fontWeight=\"medium\">\n                          {handler.email || 'Assigned'}\n                        </Text>\n                      </>\n                    ) : (\n                      <>\n                        <Text fontSize=\"lg\" fontWeight=\"bold\" color=\"gray.400\">\n                          Not Assigned\n                        </Text>\n                        <Text fontSize=\"xs\" color=\"gray.500\" fontWeight=\"medium\">\n                          Will appear when assigned\n                        </Text>\n                      </>\n                    )}\n                  </VStack>\n                </MotionBox>\n              )}\n            </SimpleGrid>\n          </MotionBox>\n\n          {/* Your Application */}\n          <MotionBox\n            initial={{ opacity: 0, y: 30 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.8, delay: handler ? 2.8 : 2.2 }}\n          >\n            <MotionHStack \n              gap=\"2\" \n              mb=\"3\"\n              initial={{ opacity: 0, x: -20 }}\n              animate={{ opacity: 1, x: 0 }}\n              transition={{ duration: 0.6, delay: handler ? 2.9 : 2.3 }}\n            >\n              <Icon as={FiFileText} color=\"purple.500\" boxSize=\"5\" />\n              <Text fontSize=\"lg\" fontWeight=\"bold\" color=\"gray.800\">Your Application</Text>\n            </MotionHStack>\n            \n            {partnerData.application ? (\n              <MotionBox \n                bg={cardBg} \n                p=\"4\" \n                borderRadius=\"lg\"\n                boxShadow=\"0 2px 12px rgba(0, 0, 0, 0.06)\"\n                position=\"relative\"\n                overflow=\"hidden\"\n                initial={{ opacity: 0, y: 30, scale: 0.9 }}\n                animate={{ opacity: 1, y: 0, scale: 1 }}\n                transition={{ \n                  duration: 0.6, \n                  delay: handler ? 3.0 : 2.4,\n                  ease: \"easeOut\"\n                }}\n                whileHover={{ \n                  scale: 1.02, \n                  boxShadow: \"0 4px 20px rgba(0, 0, 0, 0.10)\",\n                  transition: { duration: 0.2 }\n                }}\n              >\n                {/* Gradient overlay */}\n                <Box \n                  position=\"absolute\" \n                  top=\"0\" \n                  right=\"0\" \n                  width=\"60px\" \n                  height=\"60px\" \n                  bg={`linear-gradient(135deg, ${\n                    partnerData.application.statusColor === 'green' ? '#43e97b 0%, #38f9d7 100%' :\n                    partnerData.application.statusColor === 'blue' ? '#4facfe 0%, #00f2fe 100%' :\n                    partnerData.application.statusColor === 'red' ? '#ff6b6b 0%, #ee5a52 100%' :\n                    '#fa709a 0%, #fee140 100%'\n                  })`}\n                  borderRadius=\"0 0 0 60px\"\n                  opacity=\"0.1\"\n                />\n                \n                <VStack align=\"start\" gap=\"5\">\n                  <HStack justify=\"space-between\" width=\"100%\">\n                    <VStack align=\"start\" gap=\"2\">\n                      <Text fontSize=\"lg\" fontWeight=\"bold\" color=\"gray.800\">{partnerData.application.name}</Text>\n                      <HStack gap=\"2\">\n                        <Icon as={FiUsers} color=\"gray.500\" boxSize=\"4\" />\n                        <Text fontSize=\"sm\" color=\"gray.600\">{partnerData.application.type}</Text>\n                      </HStack>\n                    </VStack>\n                    <MotionBox\n                      initial={{ scale: 0 }}\n                      animate={{ scale: 1 }}\n                      transition={{ duration: 0.3, delay: handler ? 3.1 : 2.5 }}\n                    >\n                      <Badge \n                        colorScheme={partnerData.application.statusColor} \n                        fontSize=\"xs\" \n                        px=\"3\" \n                        py=\"1\"\n                        borderRadius=\"full\"\n                        fontWeight=\"semibold\"\n                        textTransform=\"uppercase\"\n                        letterSpacing=\"0.5px\"\n                      >\n                        {partnerData.application.status}\n                      </Badge>\n                    </MotionBox>\n                  </HStack>\n                  \n                  <VStack align=\"start\" gap=\"3\" width=\"100%\">\n                    <MotionHStack \n                      justify=\"space-between\" \n                      width=\"100%\"\n                      initial={{ opacity: 0, x: -10 }}\n                      animate={{ opacity: 1, x: 0 }}\n                      transition={{ duration: 0.4, delay: handler ? 3.2 : 2.6 }}\n                    >\n                      <HStack gap=\"2\">\n                        <Icon as={FiMapPin} color=\"gray.500\" boxSize=\"4\" />\n                        <Text fontSize=\"sm\" color=\"gray.600\">Country:</Text>\n                      </HStack>\n                      <Text fontSize=\"sm\" fontWeight=\"semibold\" color=\"gray.800\">{partnerData.application.country}</Text>\n                    </MotionHStack>\n                    \n                    <MotionHStack \n                      justify=\"space-between\" \n                      width=\"100%\"\n                      initial={{ opacity: 0, x: -10 }}\n                      animate={{ opacity: 1, x: 0 }}\n                      transition={{ duration: 0.4, delay: handler ? 3.3 : 2.7 }}\n                    >\n                      <HStack gap=\"2\">\n                        <Icon as={FiCalendar} color=\"gray.500\" boxSize=\"4\" />\n                        <Text fontSize=\"sm\" color=\"gray.600\">Created:</Text>\n                      </HStack>\n                      <Text fontSize=\"sm\" fontWeight=\"semibold\" color=\"gray.800\">{partnerData.application.created}</Text>\n                    </MotionHStack>\n\n                    <MotionHStack \n                      justify=\"space-between\" \n                      width=\"100%\"\n                      initial={{ opacity: 0, x: -10 }}\n                      animate={{ opacity: 1, x: 0 }}\n                      transition={{ duration: 0.4, delay: handler ? 3.4 : 2.8 }}\n                    >\n                      <HStack gap=\"2\">\n                        <Icon as={FiTrendingUp} color=\"gray.500\" boxSize=\"4\" />\n                        <Text fontSize=\"sm\" color=\"gray.600\">Progress:</Text>\n                      </HStack>\n                      <Text fontSize=\"sm\" fontWeight=\"semibold\" color=\"gray.800\">{partnerData.application.completionPercentage}%</Text>\n                    </MotionHStack>\n                  </VStack>\n                  \n                  <Link href={`/partner/application/${partnerData.application.id}`}>\n                    <MotionBox\n                      width=\"100%\"\n                      whileHover={{ scale: 1.02 }}\n                      whileTap={{ scale: 0.98 }}\n                    >\n                      <Button \n                        variant=\"secondary\" \n                        size=\"md\" \n                        width=\"100%\"\n                        borderRadius=\"xl\"\n                        fontWeight=\"medium\"\n                        borderColor=\"gray.200\"\n                        _hover={{ \n                          bg: \"gray.50\",\n                          borderColor: \"orange.300\",\n                          color: \"orange.600\"\n                        }}\n                        transition=\"all 0.2s ease\"\n                      >\n                        View Details\n                        <Icon as={FiArrowRight} ml=\"2\" />\n                      </Button>\n                    </MotionBox>\n                  </Link>\n                </VStack>\n              </MotionBox>\n            ) : (\n              <MotionBox \n                bg={cardBg} \n                p=\"8\" \n                borderRadius=\"2xl\" \n                boxShadow=\"0 4px 20px rgba(0, 0, 0, 0.08)\"\n                textAlign=\"center\"\n                initial={{ opacity: 0, y: 30 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ duration: 0.6, delay: handler ? 3.0 : 2.4 }}\n              >\n                <VStack gap=\"4\">\n                  <Icon as={FiFileText} color=\"gray.400\" boxSize=\"12\" />\n                  <Text fontSize=\"lg\" fontWeight=\"semibold\" color=\"gray.600\">No Application Found</Text>\n                  <Text fontSize=\"sm\" color=\"gray.500\">You haven't submitted an application yet.</Text>\n                  <Link href=\"/partner/application/enhanced\">\n                    <Button \n                      size=\"md\"\n                      className=\"mukuru-primary-button\"\n                      borderRadius=\"xl\"\n                      fontWeight=\"medium\"\n                    >\n                      <Icon as={FiPlus} mr=\"2\" />\n                      Create Application\n                    </Button>\n                  </Link>\n                </VStack>\n              </MotionBox>\n            )}\n          </MotionBox>\n        </VStack>\n      </Container>\n    </Box>\n  );\n}\n\nexport default function PartnerDashboard() {\n  return (\n    <Suspense fallback={<Box p={8}><Spinner /></Box>}>\n      <PartnerDashboardContent />\n    </Suspense>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}