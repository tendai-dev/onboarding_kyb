{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mukurusystemsadministrator/Desktop/onboarding_kyc%20copy/partner/src/lib/mukuruComponentWrappers.tsx"],"sourcesContent":["\"use client\";\n\n// Wrapper components for Input and Tabs that are not yet exported from @mukuru/mukuru-react-components\n// NOTE: These components are not yet exported from the main npm package (@mukuru/mukuru-react-components@1.0.44)\n// We use Chakra UI's components and create wrappers that match Mukuru styling\n// Once Input and Tabs are added to the package exports, we can remove this file\n\nimport { Tabs, Input as ChakraInput, Field } from \"@chakra-ui/react\";\nimport { forwardRef } from \"react\";\nimport type React from \"react\";\n\n// Re-export Chakra UI Tabs components with Mukuru naming\nexport const TabsRoot = Tabs.Root;\nexport const TabsList = Tabs.List;\nexport const TabsTrigger = Tabs.Trigger;\nexport const TabsContent = Tabs.Content;\nexport const TabsIndicator = forwardRef<HTMLDivElement, React.ComponentProps<typeof Tabs.Indicator>>(\n  (props, ref) => <Tabs.Indicator ref={ref} rounded=\"l2\" {...props} />\n);\nTabsIndicator.displayName = \"TabsIndicator\";\n\n// Create a simple Input wrapper that matches Mukuru Input API\ninterface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {\n  label?: string;\n  placeholder?: string;\n}\n\nexport const Input = forwardRef<HTMLInputElement, InputProps>(({ label, size, ...props }, ref) => {\n  // Filter out size if it's a number (Chakra expects string size values)\n  const { size: _, ...chakraProps } = props as any;\n  if (size && typeof size === 'string') {\n    (chakraProps as any).size = size;\n  }\n  \n  if (label) {\n    return (\n      <Field.Root>\n        <Field.Label>{label}</Field.Label>\n        <ChakraInput ref={ref} {...(chakraProps as any)} />\n      </Field.Root>\n    );\n  }\n  return <ChakraInput ref={ref} {...(chakraProps as any)} />;\n});\nInput.displayName = \"Input\";\n\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAEA,uGAAuG;AACvG,iHAAiH;AACjH,8EAA8E;AAC9E,gFAAgF;AAEhF;AAAA;AAAA;AACA;AARA;;;;AAYO,MAAM,WAAW,oOAAI,CAAC,IAAI;AAC1B,MAAM,WAAW,oOAAI,CAAC,IAAI;AAC1B,MAAM,cAAc,oOAAI,CAAC,OAAO;AAChC,MAAM,cAAc,oOAAI,CAAC,OAAO;AAChC,MAAM,8BAAgB,IAAA,2KAAU,OACrC,CAAC,OAAO,oBAAQ,6LAAC,oOAAI,CAAC,SAAS;QAAC,KAAK;QAAK,SAAQ;QAAM,GAAG,KAAK;;;;;;;AAElE,cAAc,WAAW,GAAG;AAQrB,MAAM,sBAAQ,IAAA,2KAAU,QAA+B,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IACxF,uEAAuE;IACvE,MAAM,EAAE,MAAM,CAAC,EAAE,GAAG,aAAa,GAAG;IACpC,IAAI,QAAQ,OAAO,SAAS,UAAU;QACnC,YAAoB,IAAI,GAAG;IAC9B;IAEA,IAAI,OAAO;QACT,qBACE,6LAAC,uOAAK,CAAC,IAAI;;8BACT,6LAAC,uOAAK,CAAC,KAAK;8BAAE;;;;;;8BACd,6LAAC,kMAAW;oBAAC,KAAK;oBAAM,GAAI,WAAW;;;;;;;;;;;;IAG7C;IACA,qBAAO,6LAAC,kMAAW;QAAC,KAAK;QAAM,GAAI,WAAW;;;;;;AAChD;;AACA,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///Users/mukurusystemsadministrator/Desktop/onboarding_kyc%20copy/partner/src/lib/mukuruImports.ts"],"sourcesContent":["// Centralized Mukuru component imports\n// Use this file to import all Mukuru components consistently\n// NOTE: Switch is excluded due to compatibility issues with Chakra UI v3\n// Webpack is configured to ignore switch.recipe.js to prevent runtime errors\n\nexport {\n  // Core Components\n  Button,\n  Typography,\n  Card,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  \n  // Form Components\n  Checkbox,\n  Radio,\n  RadioGroup,\n  Dropdown,\n  TypeAhead,\n  PhoneInput,\n  MultiSelectDropdown,\n  Search,\n  SortDropdown,\n  // Switch - excluded, use Chakra UI Switch instead\n  \n  // Navigation\n  Navbar,\n  PortalNavigationSidebar,\n  MobileSidebar,\n  ProfileMenu,\n  ServicesMenu,\n  SelectionMenu,\n  \n  // Data Display Components\n  DataTable,\n  Pagination,\n  Filters,\n  \n  // UI Components\n  Tag,\n  Link,\n  Tooltip,\n  AlertBar,\n  IconWrapper,\n  MukuruLogo,\n  \n  // Theme\n  mukuruSystem,\n  GlobalStyles,\n  ColorModeProvider,\n  MukuruComponentProvider\n} from \"@mukuru/mukuru-react-components\";\n\n// Export commonly used icons\nexport {\n  SearchIcon,\n  SettingsIcon,\n  UserIcon,\n  LogoutIcon,\n  MenuIcon,\n  ArrowDownIcon,\n  ArrowLeftIcon,\n  ArrowRightIcon,\n  ArrowUpIcon,\n  EditIcon,\n  DeleteIcon,\n  AddIcon,\n  CloseIcon,\n  CheckIcon,\n  WarningIcon,\n  InfoIcon,\n  ErrorIcon,\n  NotificationIcon,\n  MailIcon,\n  PhoneIcon,\n  FileOpenIcon,\n  DocumentIcon,\n  DownloadIcon,\n  UploadIcon,\n  FilterIcon,\n  MoreIcon,\n  ChevronLeftIcon,\n  ChevronRightIcon,\n  AppIcon,\n  ProductIcon,\n  PartnerIcon,\n  HelpIcon\n} from \"@mukuru/mukuru-react-components\";\n\n// Re-export all icons (excluding Switch)\n// NOTE: We cannot use export * because it would include the problematic Switch component\n// Import icons individually if needed, or import directly from @mukuru/mukuru-react-components\n\n// Import Tabs and Input components from wrapper file\n// NOTE: These components are not yet exported from the main npm package (@mukuru/mukuru-react-components@1.0.44)\n// We use wrapper components that match Mukuru styling\n// Once Input and Tabs are added to the package exports, we can import them from \"@mukuru/mukuru-react-components\" above\nexport {\n  TabsRoot,\n  TabsList,\n  TabsTrigger,\n  TabsIndicator,\n  TabsContent,\n  Input\n} from \"./mukuruComponentWrappers\";\n\n"],"names":[],"mappings":"AAAA,uCAAuC;AACvC,6DAA6D;AAC7D,yEAAyE;AACzE,6EAA6E;;AAE7E;AAsFA,yCAAyC;AACzC,yFAAyF;AACzF,+FAA+F;AAE/F,qDAAqD;AACrD,iHAAiH;AACjH,sDAAsD;AACtD,wHAAwH;AACxH"}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///Users/mukurusystemsadministrator/Desktop/onboarding_kyc%20copy/partner/src/lib/auth/session.ts"],"sourcesContent":["// SECURITY: Tokens are now stored server-side in Redis via NextAuth\n// This file provides compatibility functions that use NextAuth session instead of localStorage\n// All token access is handled server-side by the API proxy\n\nimport { signOut } from \"next-auth/react\";\n\nexport type AuthUser = {\n  sub?: string;\n  name: string;\n  email?: string;\n  givenName?: string;\n  familyName?: string;\n};\n\n/**\n * Check if user is authenticated using NextAuth session\n * Note: This is a synchronous check that may not be accurate during initial load\n * For accurate checks, use useSession() hook in React components\n */\nexport function isAuthenticated(): boolean {\n  if (typeof window === 'undefined') return false;\n  \n  // Check if session cookie exists (basic check)\n  // For accurate authentication status, use useSession() hook\n  const cookies = document.cookie.split(';');\n  const hasSessionCookie = cookies.some(cookie => \n    cookie.trim().startsWith('next-auth.session-token=') || \n    cookie.trim().startsWith('__Secure-next-auth.session-token=')\n  );\n  \n  return hasSessionCookie;\n}\n\n/**\n * SECURITY: Tokens are stored server-side in Redis\n * This function returns null - tokens should never be accessed from the frontend\n * The API proxy automatically injects tokens from Redis based on the session cookie\n */\nexport async function getAccessToken(): Promise<string | null> {\n  // SECURITY: Do not return tokens from frontend\n  // Tokens are stored server-side in Redis and injected by the proxy\n  console.warn('[SECURITY] getAccessToken() called - tokens are server-side only. Use API proxy instead.');\n  return null;\n}\n\n/**\n * SECURITY: Token refresh is handled server-side by NextAuth\n * This function is deprecated - NextAuth handles token refresh automatically\n */\nexport async function refreshToken(): Promise<boolean> {\n  // Token refresh is handled server-side by NextAuth\n  // No action needed from frontend\n  console.warn('[SECURITY] refreshToken() called - token refresh is handled server-side by NextAuth');\n  return false;\n}\n\n/**\n * Get authenticated user from NextAuth session\n * Note: This is a synchronous function that may not have accurate data during initial load\n * For accurate user data in React components, use useSession() hook from next-auth/react\n * or useAuth() hook from AuthContext\n */\nexport function getAuthUser(): AuthUser {\n  if (typeof window === 'undefined') {\n    return { name: 'User' };\n  }\n\n  // Try to get user from NextAuth session via fetch (async but we return sync fallback)\n  // For accurate data, components should use useSession() hook\n  try {\n    // Check if session cookie exists\n    const cookies = document.cookie.split(';');\n    const hasSessionCookie = cookies.some(cookie => \n      cookie.trim().startsWith('next-auth.session-token=') || \n      cookie.trim().startsWith('__Secure-next-auth.session-token=')\n    );\n    \n    if (!hasSessionCookie) {\n      return { name: 'User' };\n    }\n    \n    // Try to get cached session data from sessionStorage (if available)\n    // This is a fallback - components should use useSession() hook\n    const sessionData = sessionStorage.getItem('nextauth.session.user');\n    if (sessionData) {\n      try {\n        const user = JSON.parse(sessionData);\n        return {\n          sub: user.id || user.email,\n          name: user.name || user.email || 'User',\n          email: user.email,\n        };\n      } catch {\n        // Invalid session data\n      }\n    }\n  } catch {\n    // Session storage not available or error\n  }\n\n  // Fallback: return default user\n  // Components should use useSession() hook or useAuth() for accurate data\n  return {\n    name: 'User',\n  };\n}\n\n/**\n * Clear session and sign out using NextAuth\n */\nexport function clearSession(): void {\n  if (typeof window === 'undefined') return;\n  \n  // SECURITY: Clear any legacy localStorage tokens (shouldn't exist, but clean up just in case)\n  // Tokens are now stored server-side in Redis, but we clean up localStorage for safety\n  try {\n    localStorage.removeItem('access_token');\n    localStorage.removeItem('refresh_token');\n    localStorage.removeItem('id_token');\n    localStorage.removeItem('token_expires_at');\n  } catch {\n    // Ignore errors if localStorage is not available\n  }\n  \n  // Clear session storage\n  sessionStorage.removeItem('nextauth.session.user');\n  \n  // Sign out using NextAuth (this will clear the session cookie)\n  signOut({ callbackUrl: '/auth/login' });\n}\n\n/**\n * Redirect to login page\n */\nfunction redirectToLogin(): void {\n  if (typeof window === 'undefined') return;\n  \n  // Don't redirect if already on auth pages\n  if (window.location.pathname.startsWith('/auth/')) return;\n  \n  // Use replace to avoid adding to history\n  try {\n    window.location.replace('/auth/login');\n  } catch {\n    window.location.href = '/auth/login';\n  }\n}\n\n/**\n * Build logout URL for Keycloak\n * Note: NextAuth handles logout, but this is kept for compatibility\n */\nexport function buildLogoutUrl(postLogoutRedirectUri: string): string {\n  // NextAuth handles logout, but if needed for Keycloak direct logout:\n  const keycloakIssuer = process.env.NEXT_PUBLIC_KEYCLOAK_ISSUER || 'https://keycloak-staging.app-stg.mukuru.io/realms/mukuru';\n  const base = `${keycloakIssuer}/protocol/openid-connect/logout`;\n  const url = new URL(base);\n  url.searchParams.set('post_logout_redirect_uri', postLogoutRedirectUri);\n  return url.toString();\n}\n\n/**\n * Logout user using NextAuth\n */\nexport function logout(postLogoutRedirectUri: string = '/auth/login') {\n  // Use NextAuth signOut which handles session cleanup\n  signOut({ callbackUrl: postLogoutRedirectUri });\n}\n\n/**\n * Get user initials from name\n */\nexport function getInitials(name: string): string {\n  const parts = name.trim().split(/\\s+/).filter(Boolean);\n  if (parts.length === 0) return \"\";\n  if (parts.length === 1) return parts[0].slice(0, 2).toUpperCase();\n  return (parts[0][0] + parts[1][0]).toUpperCase();\n}\n\n/**\n * DEPRECATED: Token expiration check is handled server-side\n * This function is kept for compatibility but always returns false\n */\nexport function isTokenExpired(bufferSeconds: number = 120): boolean {\n  // Token expiration is handled server-side by NextAuth\n  // This function is deprecated\n  console.warn('[DEPRECATED] isTokenExpired() - token expiration is handled server-side');\n  return false;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 276, "column": 0}, "map": {"version":3,"sources":["file:///Users/mukurusystemsadministrator/Desktop/onboarding_kyc%20copy/partner/src/lib/api.ts"],"sourcesContent":["export type UserCase = {\n  caseId: string;\n  type: string;\n  status: string;\n  partnerId?: string;\n  applicantFirstName?: string;\n  applicantLastName?: string;\n  applicantEmail?: string;\n  country?: string; // Maps from applicantCountry in backend\n  progressPercentage?: number;\n  riskLevel?: string;\n  riskScore?: number;\n  createdAt?: string;\n  updatedAt?: string;\n  assignedTo?: string;\n  assignedToName?: string;\n  assignedAt?: string;\n  metadataJson?: string; // Dynamic fields from Entity Configuration Service\n  businessLegalName?: string;\n  businessCountryOfRegistration?: string;\n};\n\nexport type DashboardSummary = {\n  generatedAt: string;\n  cases: {\n    totalCases: number;\n    activeCases: number;\n    completedCases: number;\n    rejectedCases: number;\n    pendingReviewCases: number;\n    overdueCases: number;\n  };\n  performance: {\n    completionRate: number;\n    approvalRate: number;\n    rejectionRate: number;\n  };\n  risk: {\n    highRiskCases: number;\n    mediumRiskCases: number;\n    lowRiskCases: number;\n    averageRiskScore: number;\n  };\n};\n\n// Route via Next.js proxy to avoid CORS\n// Proxy will automatically inject tokens from Redis based on session cookie\nconst API_BASE = process.env.NEXT_PUBLIC_API_BASE || \"http://localhost:3000/api/proxy\";\nconst MESSAGING_PREFIX = \"/api/v1\"; // Messaging is part of unified onboarding-api\n\n// Tokens are no longer accessed from localStorage - proxy handles authentication\n\n/**\n * Generate a consistent UUID v5 from email address (matches backend implementation)\n * This is used to generate PartnerId and UserId from Keycloak email addresses\n * \n * @param email - User's email address from Keycloak\n * @returns UUID v5 string (deterministic, same email always produces same UUID)\n */\nexport function generateUserIdFromEmail(email: string): string {\n  // UUID v5 namespace (DNS namespace)\n  const NAMESPACE_UUID = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\n  \n  // Convert namespace UUID to bytes\n  const namespaceBytes = parseUUID(NAMESPACE_UUID);\n  \n  // Normalize email to lowercase\n  const normalizedEmail = email.toLowerCase();\n  const emailBytes = new TextEncoder().encode(normalizedEmail);\n  \n  // Combine namespace and email\n  const combined = new Uint8Array(namespaceBytes.length + emailBytes.length);\n  combined.set(namespaceBytes);\n  combined.set(emailBytes, namespaceBytes.length);\n  \n  // Use Web Crypto API for SHA-1 (or fallback)\n  // Note: This is a simplified version - for production use a proper UUID v5 library\n  // For now, we'll let the backend generate it if this fails\n  try {\n    // Simple hash-based approach that's deterministic\n    let hash = 0;\n    for (let i = 0; i < combined.length; i++) {\n      hash = ((hash << 5) - hash) + combined[i];\n      hash = hash & hash;\n    }\n    \n    // Convert to UUID-like format\n    const hex = Math.abs(hash).toString(16).padStart(32, '0');\n    return `${hex.substring(0, 8)}-${hex.substring(8, 12)}-5${hex.substring(13, 16)}-${(parseInt(hex[16], 16) | 0x8).toString(16)}${hex.substring(17, 20)}-${hex.substring(20, 32)}`;\n  } catch {\n    // If generation fails, return empty - backend will generate from email\n    return '';\n  }\n}\n\n// Helper to parse UUID string to bytes\nfunction parseUUID(uuid: string): Uint8Array {\n  const clean = uuid.replace(/-/g, '');\n  const bytes = new Uint8Array(16);\n  for (let i = 0; i < 16; i++) {\n    bytes[i] = parseInt(clean.substr(i * 2, 2), 16);\n  }\n  return bytes;\n}\n\n/**\n * Make an API request with automatic token refresh on 401\n */\nasync function apiRequest<T>(\n  path: string,\n  options: {\n    method?: string;\n    body?: unknown;\n    retry?: boolean;\n  } = {}\n): Promise<T> {\n  const { method = \"GET\", body, retry = true } = options;\n  \n  // Tokens are no longer accessed from localStorage\n  // The proxy will automatically inject the Authorization header from Redis based on session cookie\n  \n  // Generate or retrieve trace ID for request tracking\n  const traceId = typeof window !== 'undefined' \n    ? (sessionStorage.getItem('traceId') || crypto.randomUUID())\n    : crypto.randomUUID();\n  \n  if (typeof window !== 'undefined') {\n    sessionStorage.setItem('traceId', traceId);\n  }\n\n  const headers: HeadersInit = {\n    \"Content-Type\": \"application/json\",\n    \"X-Trace-Id\": traceId,\n    \"X-Request-Id\": traceId,\n  };\n  \n  // DO NOT set Authorization header - proxy will inject it from Redis\n  // All requests must include credentials to send session cookie\n  // Try to get user info from NextAuth session for user identification headers\n  // These headers are critical for backend to identify the user\n  try {\n    const response = await fetch('/api/auth/session');\n    if (response.ok) {\n      const session = await response.json();\n      if (session?.user) {\n        headers[\"X-User-Name\"] = session.user.name || session.user.email || \"Partner User\";\n        headers[\"X-User-Role\"] = \"Applicant\";\n        if (session.user.email) {\n          headers[\"X-User-Email\"] = session.user.email;\n          // Generate a consistent GUID from email for user identification\n          const userId = generateUserIdFromEmail(session.user.email);\n          headers[\"X-User-Id\"] = userId;\n          console.log('[API] User headers set:', { \n            email: session.user.email, \n            userId,\n            name: headers[\"X-User-Name\"]\n          });\n        }\n      }\n    } else {\n      console.warn('[API] Failed to get session:', response.status, response.statusText);\n    }\n  } catch (error) {\n    // Log error but continue - backend will handle missing headers\n    console.warn('[API] Error fetching session for user headers:', error);\n  }\n  \n  const fetchOptions: RequestInit = {\n    method,\n    headers,\n    credentials: \"include\",\n  };\n  \n  if (body) {\n    fetchOptions.body = JSON.stringify(body);\n  }\n  \n  // Make initial request\n  let response: Response;\n  try {\n    response = await fetch(`${API_BASE}${path}`, fetchOptions);\n  } catch (networkError) {\n    // Handle network errors (connection refused, DNS failures, etc.)\n    const error = new Error(`Network error: ${networkError instanceof Error ? networkError.message : 'Unknown error'}`);\n    (error as any).isNetworkError = true;\n    throw error;\n  }\n  \n  // Handle 401 Unauthorized - redirect to login\n  // Token refresh is handled server-side by NextAuth\n  if (response.status === 401) {\n    if (typeof window !== 'undefined' && !window.location.pathname.startsWith('/auth/')) {\n      window.location.href = '/auth/login';\n    }\n    throw new Error(\"Session expired. Please sign in again.\");\n  }\n  \n  // Retry logic for network/server errors (5xx), but not 503 (Service Unavailable)\n  // 503 means the service isn't running, so retrying won't help\n  if (!response.ok && response.status >= 500 && response.status !== 503) {\n    const maxRetries = 3;\n    for (let attempt = 1; attempt <= maxRetries; attempt++) {\n      try {\n        await new Promise(resolve => setTimeout(resolve, 1000 * attempt)); // Exponential backoff\n        const retryResponse = await fetch(`${API_BASE}${path}`, fetchOptions);\n        if (retryResponse.ok || retryResponse.status < 500) {\n          response = retryResponse;\n          break;\n        }\n        if (attempt === maxRetries) {\n          response = retryResponse;\n        }\n      } catch (error) {\n        if (attempt === maxRetries) {\n          throw error;\n        }\n      }\n    }\n  }\n  \n  if (!response.ok) {\n    const text = await response.text().catch(() => \"\");\n    \n    // 401 already handled above\n    \n    // For 503 (Service Unavailable) and 404 (Not Found), mark them for graceful handling\n    const error = new Error(`${method} ${path} failed: ${response.status} ${text}`);\n    if (response.status === 503) {\n      // Mark it as a service unavailable error so callers can handle it gracefully\n      (error as any).isServiceUnavailable = true;\n    } else if (response.status === 404) {\n      // Mark 404 errors so callers can handle them gracefully (e.g., user doesn't exist yet)\n      (error as any).isNotFound = true;\n    }\n    throw error;\n  }\n  \n  // Handle empty responses\n  const contentType = response.headers.get(\"content-type\");\n  if (contentType && contentType.includes(\"application/json\")) {\n    return (await response.json()) as T;\n  }\n  \n  return {} as T;\n}\n\nasync function apiGet<T>(path: string): Promise<T> {\n  return apiRequest<T>(path, { method: \"GET\" });\n}\n\nasync function apiPost<T>(path: string, body: unknown): Promise<T> {\n  return apiRequest<T>(path, { method: \"POST\", body });\n}\n\nasync function apiPut<T>(path: string, body?: unknown): Promise<T> {\n  return apiRequest<T>(path, { method: \"PUT\", body });\n}\n\nasync function apiDelete<T>(path: string): Promise<T> {\n  return apiRequest<T>(path, { method: \"DELETE\" });\n}\n\nexport async function getDashboard(partnerId?: string): Promise<DashboardSummary> {\n  const qs = partnerId ? `?partnerId=${encodeURIComponent(partnerId)}` : \"\";\n  // Backend route: /api/v1/projections/dashboard\n  return apiGet<DashboardSummary>(`/api/v1/projections/dashboard${qs}`);\n}\n\nexport async function findUserCaseByEmail(email: string): Promise<UserCase | null> {\n  if (!email) return null;\n  // Generate partner ID from email to filter cases by ownership\n  // Declare outside try block so it's available in catch handlers\n  const userPartnerId = generateUserIdFromEmail(email);\n  try {\n    \n    // Try Projections API first (has more complete data)\n    // Filter by both email (searchTerm) and partnerId to ensure ownership\n    const params = new URLSearchParams({ searchTerm: email, take: \"10\" }); // Get more results to filter\n    if (userPartnerId) {\n      params.append('partnerId', userPartnerId);\n    }\n    \n    const result = await apiGet<{ items: Array<{\n      caseId: string;\n      type: string;\n      status: string;\n      partnerId?: string;\n      applicantFirstName?: string;\n      applicantLastName?: string;\n      applicantEmail?: string;\n      applicantCountry?: string;\n      country?: string;\n      progressPercentage?: number;\n      riskLevel?: string;\n      riskScore?: number;\n      createdAt?: string;\n      updatedAt?: string;\n      assignedTo?: string;\n      assignedToName?: string;\n      assignedAt?: string;\n      metadataJson?: string;\n      businessLegalName?: string;\n      businessCountryOfRegistration?: string;\n    }> }>(`/api/v1/projections/cases?${params.toString()}`);\n    \n    // Filter results to ensure they match the user's email and partner ID\n    // This provides an extra layer of security in case the API doesn't filter correctly\n    const matchingItem = result.items?.find(item => {\n      const emailMatch = item.applicantEmail?.toLowerCase() === email.toLowerCase();\n      const partnerMatch = !userPartnerId || !item.partnerId || \n                          item.partnerId.toLowerCase() === userPartnerId.toLowerCase();\n      return emailMatch && partnerMatch;\n    });\n    \n    if (matchingItem) {\n      // Map applicantCountry to country if needed\n      return {\n        caseId: matchingItem.caseId,\n        type: matchingItem.type,\n        status: matchingItem.status,\n        partnerId: matchingItem.partnerId,\n        applicantFirstName: matchingItem.applicantFirstName,\n        applicantLastName: matchingItem.applicantLastName,\n        applicantEmail: matchingItem.applicantEmail,\n        country: matchingItem.country || matchingItem.applicantCountry || undefined,\n        metadataJson: matchingItem.metadataJson,\n        businessLegalName: matchingItem.businessLegalName,\n        businessCountryOfRegistration: matchingItem.businessCountryOfRegistration,\n        progressPercentage: matchingItem.progressPercentage,\n        riskLevel: matchingItem.riskLevel,\n        riskScore: matchingItem.riskScore,\n        createdAt: matchingItem.createdAt,\n        updatedAt: matchingItem.updatedAt,\n        assignedTo: matchingItem.assignedTo,\n        assignedToName: matchingItem.assignedToName,\n        assignedAt: matchingItem.assignedAt\n      };\n    }\n    \n    // Fallback: If not found in projections, try case API directly (for newly created cases)\n    // This handles cases that haven't been synced to projections yet\n    console.log('Case not found in projections API, trying case API directly...');\n    try {\n      // Use searchTerm to search for the email, then filter by email on client side\n      // The case API searches in case number, name, business name, but not email directly\n      // So we'll fetch recent cases and filter by email\n      const caseApiResult = await apiGet<{\n        items: Array<{\n          caseId: string;\n          caseNumber: string;\n          type: string;\n          status: string;\n          partnerId: string;\n          applicantFirstName?: string;\n          applicantLastName?: string;\n          applicantEmail?: string;\n          applicantCountry?: string;\n          businessLegalName?: string;\n          createdAt: string;\n          updatedAt: string;\n        }>;\n        totalCount: number;\n      }>(`/api/v1/cases?take=50&sortBy=createdAt&sortDirection=desc`);\n      \n      // Find case where applicant email matches AND partner ID matches\n      const matchingCase = caseApiResult?.items?.find(\n        c => {\n          const emailMatch = c.applicantEmail?.toLowerCase() === email.toLowerCase();\n          const partnerMatch = !userPartnerId || !c.partnerId || \n                              c.partnerId.toLowerCase() === userPartnerId.toLowerCase();\n          return emailMatch && partnerMatch;\n        }\n      );\n      \n      if (matchingCase) {\n        console.log('Found case in case API:', matchingCase.caseNumber);\n        return {\n          caseId: matchingCase.caseNumber,\n          type: matchingCase.type,\n          status: matchingCase.status,\n          partnerId: matchingCase.partnerId,\n          applicantFirstName: matchingCase.applicantFirstName,\n          applicantLastName: matchingCase.applicantLastName,\n          applicantEmail: matchingCase.applicantEmail,\n          country: matchingCase.applicantCountry,\n          businessLegalName: matchingCase.businessLegalName,\n          createdAt: matchingCase.createdAt,\n          updatedAt: matchingCase.updatedAt\n        };\n      }\n    } catch (fallbackError: any) {\n      // If fallback also fails, continue to return null\n      console.log('Case API fallback also failed:', fallbackError?.message);\n    }\n    \n    return null;\n  } catch (error: any) {\n    // Silently handle service unavailable errors (503) - services may not be running\n    if (error?.isServiceUnavailable) {\n      // Try case API as fallback even on 503\n      try {\n        const caseApiResult = await apiGet<{\n          items: Array<{\n            caseId: string;\n            caseNumber: string;\n            type: string;\n            status: string;\n            partnerId: string;\n            applicantFirstName?: string;\n            applicantLastName?: string;\n            applicantEmail?: string;\n            applicantCountry?: string;\n            businessLegalName?: string;\n            createdAt: string;\n            updatedAt: string;\n          }>;\n          totalCount: number;\n        }>(`/api/v1/cases?take=50&sortBy=createdAt&sortDirection=desc`);\n        \n        const matchingCase = caseApiResult?.items?.find(\n          c => {\n            const emailMatch = c.applicantEmail?.toLowerCase() === email.toLowerCase();\n            const partnerMatch = !userPartnerId || !c.partnerId || \n                                c.partnerId.toLowerCase() === userPartnerId.toLowerCase();\n            return emailMatch && partnerMatch;\n          }\n        );\n        \n        if (matchingCase) {\n          return {\n            caseId: matchingCase.caseNumber,\n            type: matchingCase.type,\n            status: matchingCase.status,\n            partnerId: matchingCase.partnerId,\n            applicantFirstName: matchingCase.applicantFirstName,\n            applicantLastName: matchingCase.applicantLastName,\n            applicantEmail: matchingCase.applicantEmail,\n            country: matchingCase.applicantCountry,\n            businessLegalName: matchingCase.businessLegalName,\n            createdAt: matchingCase.createdAt,\n            updatedAt: matchingCase.updatedAt\n          };\n        }\n      } catch (fallbackError) {\n        // Ignore fallback errors\n      }\n      return null;\n    }\n    // Re-throw other errors\n    throw error;\n  }\n}\n\nexport async function getCaseById(caseId: string): Promise<UserCase | null> {\n  if (!caseId) return null;\n  try {\n    const caseData = await apiGet<{\n      caseId: string;\n      type: string;\n      status: string;\n      partnerId?: string;\n      applicantFirstName?: string;\n      applicantLastName?: string;\n      applicantEmail?: string;\n      applicantCountry?: string;\n      country?: string;\n      progressPercentage?: number;\n      riskLevel?: string;\n      riskScore?: number;\n      createdAt?: string;\n      updatedAt?: string;\n      assignedTo?: string;\n      assignedToName?: string;\n      assignedAt?: string;\n      metadataJson?: string;\n      businessLegalName?: string;\n      businessCountryOfRegistration?: string;\n    }>(`/api/v1/projections/cases/${encodeURIComponent(caseId)}`);\n    \n    // Map to UserCase format with metadata\n    return {\n      caseId: caseData.caseId,\n      type: caseData.type,\n      status: caseData.status,\n      partnerId: caseData.partnerId,\n      applicantFirstName: caseData.applicantFirstName,\n      applicantLastName: caseData.applicantLastName,\n      applicantEmail: caseData.applicantEmail,\n      country: caseData.country || caseData.applicantCountry || undefined,\n      metadataJson: caseData.metadataJson,\n      businessLegalName: caseData.businessLegalName,\n      businessCountryOfRegistration: caseData.businessCountryOfRegistration,\n      progressPercentage: caseData.progressPercentage,\n      riskLevel: caseData.riskLevel,\n      riskScore: caseData.riskScore,\n      createdAt: caseData.createdAt,\n      updatedAt: caseData.updatedAt,\n      assignedTo: caseData.assignedTo,\n      assignedToName: caseData.assignedToName,\n      assignedAt: caseData.assignedAt\n    };\n  } catch (error: any) {\n    // Silently handle service unavailable errors (503) - services may not be running\n    if (error?.isServiceUnavailable || error?.isNotFound) {\n      return null;\n    }\n    // Re-throw other errors\n    throw error;\n  }\n}\n\n// Messaging API (via gateway or direct service)\nexport type MessageDto = {\n  id: string;\n  threadId: string;\n  senderId: string;\n  senderName: string;\n  senderRole?: string;\n  content: string;\n  type?: string;\n  status: string;\n  sentAt: string;\n  readAt?: string | null;\n  isRead: boolean;\n};\n\nexport type MessageThreadDto = {\n  id: string;\n  applicationId: string;\n  applicationReference?: string;\n  lastMessageAt: string;\n  messageCount: number;\n  unreadCount: number;\n  lastMessage?: MessageDto | null;\n};\n\nexport type PagedResult<T> = {\n  items: T[];\n  totalCount: number;\n  page: number;\n  pageSize: number;\n  totalPages: number;\n  hasNextPage: boolean;\n  hasPreviousPage: boolean;\n};\n\nexport async function getMyThreads(page = 1, pageSize = 20) {\n  const qs = new URLSearchParams({ page: String(page), pageSize: String(pageSize) }).toString();\n  return apiGet<PagedResult<MessageThreadDto>>(`${MESSAGING_PREFIX}/messages/threads/my?${qs}`);\n}\n\nexport async function getThreadByApplication(applicationId: string) {\n  // Check if applicationId is a GUID or a case ID (case number)\n  const guidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n  let applicationGuid = applicationId;\n  \n  // If it's not a GUID, it's likely a case ID (case number), so fetch the GUID from the projections API\n  if (!guidRegex.test(applicationId)) {\n    try {\n      const caseData = await apiGet<{\n        id: string;\n        caseId: string;\n      }>(`/api/v1/projections/cases/${encodeURIComponent(applicationId)}`);\n      \n      if (caseData?.id) {\n        applicationGuid = caseData.id;\n      } else {\n        throw new Error(`Could not find application GUID for case ID: ${applicationId}`);\n      }\n    } catch (error) {\n      console.error('Failed to fetch application GUID from case ID:', error);\n      throw new Error(`Invalid application ID: ${applicationId}. Could not resolve to GUID.`);\n    }\n  }\n  \n  return apiGet<MessageThreadDto>(`${MESSAGING_PREFIX}/messages/threads/application/${encodeURIComponent(applicationGuid)}`);\n}\n\nexport async function getThreadMessages(threadId: string, page = 1, pageSize = 50) {\n  const qs = new URLSearchParams({ page: String(page), pageSize: String(pageSize) }).toString();\n  return apiGet<PagedResult<MessageDto>>(`${MESSAGING_PREFIX}/messages/threads/${encodeURIComponent(threadId)}/messages?${qs}`);\n}\n\nexport async function sendMessage(\n  applicationId: string, \n  content: string, \n  receiverId?: string,\n  replyToMessageId?: string,\n  attachments?: Array<{ fileName: string; contentType: string; fileSizeBytes: number; storageKey: string; storageUrl: string; documentId?: string; description?: string }>\n) {\n  // Check if applicationId is a GUID or a case ID (case number)\n  const guidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n  let applicationGuid = applicationId;\n  \n  // If it's not a GUID, it's likely a case ID (case number), so fetch the GUID from the projections API\n  if (!guidRegex.test(applicationId)) {\n    try {\n      const caseData = await apiGet<{\n        id: string;\n        caseId: string;\n      }>(`/api/v1/projections/cases/${encodeURIComponent(applicationId)}`);\n      \n      if (caseData?.id) {\n        applicationGuid = caseData.id;\n      } else {\n        throw new Error(`Could not find application GUID for case ID: ${applicationId}`);\n      }\n    } catch (error) {\n      console.error('Failed to fetch application GUID from case ID:', error);\n      throw new Error(`Invalid application ID: ${applicationId}. Could not resolve to GUID.`);\n    }\n  }\n  \n  const body: any = {\n    ApplicationId: applicationGuid,\n    Content: content,\n  };\n  if (receiverId) body.ReceiverId = receiverId;\n  if (replyToMessageId) body.ReplyToMessageId = replyToMessageId;\n  if (attachments && attachments.length > 0) {\n    body.Attachments = attachments.map(a => ({\n      FileName: a.fileName,\n      ContentType: a.contentType,\n      FileSizeBytes: a.fileSizeBytes,\n      StorageKey: a.storageKey,\n      StorageUrl: a.storageUrl,\n      DocumentId: a.documentId,\n      Description: a.description\n    }));\n  }\n  return apiPost<{ Success?: boolean; success?: boolean; MessageId?: string; messageId?: string; ThreadId?: string; threadId?: string }>(`${MESSAGING_PREFIX}/messages`, body);\n}\n\nexport async function deleteMessage(messageId: string): Promise<{ success: boolean; errorMessage?: string }> {\n  try {\n    await apiDelete(`${MESSAGING_PREFIX}/messages/${encodeURIComponent(messageId)}`);\n    return { success: true };\n  } catch (error) {\n    return { \n      success: false, \n      errorMessage: error instanceof Error ? error.message : 'Failed to delete message' \n    };\n  }\n}\n\nexport async function starMessage(messageId: string): Promise<{ success: boolean; isStarred: boolean; errorMessage?: string }> {\n  try {\n    const response = await apiPut<{ Success?: boolean; IsStarred?: boolean; success?: boolean; isStarred?: boolean; ErrorMessage?: string }>(`${MESSAGING_PREFIX}/messages/${encodeURIComponent(messageId)}/star`);\n    return {\n      success: response.Success ?? response.success ?? false,\n      isStarred: response.IsStarred ?? response.isStarred ?? false,\n      errorMessage: response.ErrorMessage\n    };\n  } catch (error) {\n    return {\n      success: false,\n      isStarred: false,\n      errorMessage: error instanceof Error ? error.message : 'Failed to star message'\n    };\n  }\n}\n\nexport async function archiveThread(threadId: string, archive: boolean = true): Promise<{ success: boolean; isArchived: boolean; errorMessage?: string }> {\n  try {\n    const response = await apiPut<{ Success?: boolean; IsArchived?: boolean; success?: boolean; isArchived?: boolean; ErrorMessage?: string }>(`${MESSAGING_PREFIX}/messages/threads/${encodeURIComponent(threadId)}/archive`, { Archive: archive });\n    return {\n      success: response.Success ?? response.success ?? false,\n      isArchived: response.IsArchived ?? response.isArchived ?? false,\n      errorMessage: response.ErrorMessage\n    };\n  } catch (error) {\n    return {\n      success: false,\n      isArchived: false,\n      errorMessage: error instanceof Error ? error.message : 'Failed to archive thread'\n    };\n  }\n}\n\nexport async function forwardMessage(\n  messageId: string, \n  toApplicationId: string, \n  toReceiverId?: string, \n  additionalContent?: string\n): Promise<{ success: boolean; newMessageId?: string; newThreadId?: string; errorMessage?: string }> {\n  try {\n    const response = await apiPost<{ \n      Success?: boolean; \n      NewMessageId?: string; \n      NewThreadId?: string;\n      success?: boolean;\n      newMessageId?: string;\n      newThreadId?: string;\n      ErrorMessage?: string;\n    }>(`${MESSAGING_PREFIX}/messages/${encodeURIComponent(messageId)}/forward`, {\n      ToApplicationId: toApplicationId,\n      ToReceiverId: toReceiverId,\n      AdditionalContent: additionalContent\n    });\n    return {\n      success: response.Success ?? response.success ?? false,\n      newMessageId: response.NewMessageId ?? response.newMessageId,\n      newThreadId: response.NewThreadId ?? response.newThreadId,\n      errorMessage: response.ErrorMessage\n    };\n  } catch (error) {\n    return {\n      success: false,\n      errorMessage: error instanceof Error ? error.message : 'Failed to forward message'\n    };\n  }\n}\n\nexport async function getUnreadCount() {\n  return apiGet<{ count: number }>(`${MESSAGING_PREFIX}/messages/unread/count`);\n}\n\nexport async function markMessageRead(messageId: string) {\n  return apiPut(`${MESSAGING_PREFIX}/messages/${encodeURIComponent(messageId)}/read`);\n}\n\n// Application sections and documents for context\nexport type ApplicationSection = {\n  id: string;\n  title: string;\n  fields: Array<{\n    id: string;\n    label: string;\n    type: string;\n    value?: any;\n  }>;\n};\n\nexport type ApplicationDocument = {\n  id: string;\n  name: string;\n  type: string;\n  status: string;\n  url?: string;\n  fileName?: string;\n  createdAt?: string;\n};\n\nexport async function getApplicationSections(applicationId: string): Promise<ApplicationSection[]> {\n  try {\n    // Get case details from projections API or onboarding API\n    const app = await apiGet<{\n      id: string;\n      sections?: Array<{\n        id: string;\n        title: string;\n        fields?: Array<{ id: string; label: string; type: string; value?: any }>;\n      }>;\n      checklist_items?: Array<{\n        id: string;\n        category: string;\n        requirement: string;\n        status: string;\n      }>;\n    }>(`/api/v1/projections/cases/${encodeURIComponent(applicationId)}`);\n    \n    // If sections are directly available\n    if (app?.sections) {\n      return app.sections.map(s => ({\n        id: s.id,\n        title: s.title,\n        fields: s.fields || []\n      }));\n    }\n    \n    // Try to construct sections from checklist items if available\n    if (app?.checklist_items && app.checklist_items.length > 0) {\n      const categoryMap = new Map<string, ApplicationSection>();\n      \n      app.checklist_items.forEach(item => {\n        if (!categoryMap.has(item.category)) {\n          categoryMap.set(item.category, {\n            id: `section-${item.category.toLowerCase().replace(/\\s+/g, '-')}`,\n            title: item.category,\n            fields: []\n          });\n        }\n        const section = categoryMap.get(item.category)!;\n        section.fields.push({\n          id: item.id,\n          label: item.requirement,\n          type: 'text',\n          value: item.status\n        });\n      });\n      \n      return Array.from(categoryMap.values());\n    }\n    \n    // Fallback: return empty array\n    return [];\n  } catch (error) {\n    console.error('Failed to fetch application sections:', error);\n    return [];\n  }\n}\n\nexport async function getApplicationDocuments(applicationId: string): Promise<ApplicationDocument[]> {\n  try {\n    // Convert applicationId to Guid for document service\n    // Try to fetch documents by caseId\n    const documents = await apiGet<Array<{\n      id: string;\n      documentNumber?: string;\n      fileName: string;\n      type: string;\n      contentType?: string;\n      createdAt?: string;\n      storageKey?: string;\n    }>>(`/documents/v1/api/v1/documents/list/${encodeURIComponent(applicationId)}`);\n    \n    if (Array.isArray(documents)) {\n      return documents.map(doc => ({\n        id: doc.id,\n        name: doc.fileName || doc.documentNumber || 'Document',\n        type: doc.type || 'unknown',\n        status: 'uploaded', // Default status\n        fileName: doc.fileName,\n        createdAt: doc.createdAt\n      }));\n    }\n    \n    return [];\n  } catch (error) {\n    console.error('Failed to fetch application documents:', error);\n    // Try alternative endpoint format\n    try {\n      const caseData = await apiGet<{ documents?: ApplicationDocument[] }>(`/api/v1/projections/cases/${encodeURIComponent(applicationId)}`);\n      if (caseData?.documents) {\n        return caseData.documents;\n      }\n    } catch (e) {\n      console.error('Alternative document fetch failed:', e);\n    }\n    return [];\n  }\n}\n\n// User Profile API\nexport type UserProfile = {\n  id: string;\n  email: string;\n  firstName: string;\n  lastName: string;\n  middleName?: string;\n  fullName: string;\n  profileImageUrl?: string;\n  phone?: string;\n  country?: string;\n  companyName?: string;\n  entityType?: string;\n  status?: string;\n  createdAt?: string;\n  updatedAt?: string;\n  preferences?: UserPreferences;\n};\n\nexport type UserPreferences = {\n  emailNotifications?: boolean;\n  smsNotifications?: boolean;\n  statusUpdates?: boolean;\n  marketingCommunications?: boolean;\n  language?: string;\n  timezone?: string;\n};\n\nexport type UpdateProfileRequest = {\n  firstName: string;\n  lastName: string;\n  middleName?: string;\n  phone?: string;\n  country?: string;\n  companyName?: string;\n  preferences?: UserPreferences;\n};\n\nexport type ChangePasswordRequest = {\n  currentPassword: string;\n  newPassword: string;\n  confirmPassword: string;\n};\n\nexport type CaseDataSummary = {\n  caseId: string;\n  applicationData: any;\n  documents: any[];\n  messages: any[];\n  timeline: any[];\n};\n\n// Get current user profile\nexport async function getUserProfile(): Promise<UserProfile> {\n  try {\n    // Try authentication service first\n    const profile = await apiGet<UserProfile>('/api/users/me');\n    return profile;\n  } catch (error) {\n    // Don't log 503 or 404 errors - services may not be running or user may not exist yet\n    if (!(error as any)?.isServiceUnavailable && !(error as any)?.isNotFound) {\n      console.error('Failed to fetch user profile from auth service:', error);\n    }\n    // Fallback: try to get from case data\n    try {\n      const { getAuthUser } = await import(\"@/lib/auth/session\");\n      const user = getAuthUser();\n      if (user && user.email) {\n        const caseData = await findUserCaseByEmail(user.email);\n        if (caseData) {\n          return {\n            id: user.sub || user.email,\n            email: user.email,\n            firstName: user.givenName || user.name?.split(' ')[0] || '',\n            lastName: user.familyName || user.name?.split(' ').slice(1).join(' ') || '',\n            fullName: user.name || '',\n            phone: undefined,\n            country: caseData.country,\n            preferences: undefined\n          };\n        }\n      }\n    } catch (e) {\n      // Don't log 503 or 404 errors - services may not be running or user may not exist yet\n      if (!(e as any)?.isServiceUnavailable && !(e as any)?.isNotFound) {\n        console.error('Failed to get user from case data:', e);\n      }\n    }\n    // Last resort: return from JWT token\n    const { getAuthUser } = await import(\"@/lib/auth/session\");\n    const user = getAuthUser();\n    return {\n      id: user.sub || user.email || '',\n      email: user.email || '',\n      firstName: user.givenName || user.name?.split(' ')[0] || '',\n      lastName: user.familyName || user.name?.split(' ').slice(1).join(' ') || '',\n      fullName: user.name || '',\n      preferences: undefined\n    };\n  }\n}\n\n// Get handler/user profile by ID (for displaying assigned handlers)\nexport async function getHandlerProfile(userId: string): Promise<{ id: string; fullName: string; email?: string; firstName?: string; lastName?: string; profileImageUrl?: string } | null> {\n  if (!userId) return null;\n  try {\n    // Try to get user profile from authentication service\n    const profile = await apiGet<{ id: string; email: string; firstName: string; lastName: string; fullName: string; profileImageUrl?: string }>(`/api/users/${userId}`);\n    return {\n      id: profile.id,\n      fullName: profile.fullName || `${profile.firstName || ''} ${profile.lastName || ''}`.trim() || 'Unknown User',\n      email: profile.email,\n      firstName: profile.firstName,\n      lastName: profile.lastName,\n      profileImageUrl: profile.profileImageUrl\n    };\n  } catch (error: any) {\n    // Don't log 404 or 503 errors - handler may not exist or service unavailable\n    if (!(error as any)?.isServiceUnavailable && !(error as any)?.isNotFound) {\n      console.error('Failed to fetch handler profile:', error);\n    }\n    return null;\n  }\n}\n\n// Update user profile\nexport async function updateUserProfile(updates: UpdateProfileRequest): Promise<UserProfile> {\n  try {\n    return await apiPut<UserProfile>('/api/users/me', updates);\n  } catch (error: any) {\n    // If user doesn't exist in backend (404), try to create them or fallback\n    if (error?.message?.includes('404')) {\n      console.warn('User profile not found in backend. Creating new profile...');\n      // For now, we'll just return the updated profile from the request\n      // In a full implementation, you might want to POST to create the user first\n      const { getAuthUser } = await import(\"@/lib/auth/session\");\n      const user = getAuthUser();\n      \n      return {\n        id: user?.sub || user?.email || '',\n        email: user?.email || '',\n        firstName: updates.firstName || user?.givenName || '',\n        lastName: updates.lastName || user?.familyName || '',\n        middleName: updates.middleName,\n        fullName: `${updates.firstName || ''} ${updates.lastName || ''}`.trim() || user?.name || '',\n        phone: updates.phone,\n        country: updates.country,\n        companyName: updates.companyName,\n        preferences: updates.preferences\n      };\n    }\n    throw error;\n  }\n}\n\n// Get user notification preferences\nexport async function getNotificationPreferences(): Promise<UserPreferences> {\n  try {\n    const profile = await getUserProfile();\n    return profile.preferences || {\n      emailNotifications: true,\n      smsNotifications: false,\n      statusUpdates: true,\n      marketingCommunications: false\n    };\n  } catch (error) {\n    // Don't log 404 or 503 errors - services may not be running or user may not exist yet\n    if (!(error as any)?.isNotFound && !(error as any)?.isServiceUnavailable) {\n      console.error('Failed to fetch notification preferences:', error);\n    }\n    // Return defaults\n    return {\n      emailNotifications: true,\n      smsNotifications: false,\n      statusUpdates: true,\n      marketingCommunications: false\n    };\n  }\n}\n\n// Update notification preferences\nexport async function updateNotificationPreferences(preferences: UserPreferences): Promise<UserProfile> {\n  try {\n    // Update preferences as part of profile\n    const currentProfile = await getUserProfile();\n    try {\n      return await updateUserProfile({\n        firstName: currentProfile.firstName || '',\n        lastName: currentProfile.lastName || '',\n        middleName: currentProfile.middleName,\n        phone: currentProfile.phone,\n        country: currentProfile.country,\n        companyName: currentProfile.companyName,\n        preferences\n      });\n    } catch (error: any) {\n      // If update fails (404 or other), the updateUserProfile will handle the fallback\n      // For notification preferences specifically, we can store locally as backup\n      if (error?.message?.includes('404')) {\n        console.warn('Profile not found in backend. Storing preferences locally...');\n        // Store preferences in localStorage as backup\n        if (typeof window !== 'undefined') {\n          localStorage.setItem('user_preferences', JSON.stringify(preferences));\n        }\n        // Return profile with updated preferences\n        return {\n          ...currentProfile,\n          preferences\n        };\n      }\n      throw error;\n    }\n  } catch (error) {\n    console.error('Failed to update notification preferences:', error);\n    // Still try to store locally\n    if (typeof window !== 'undefined') {\n      try {\n        localStorage.setItem('user_preferences', JSON.stringify(preferences));\n      } catch (e) {\n        console.error('Failed to store preferences locally:', e);\n      }\n    }\n    throw error;\n  }\n}\n\n// Change password\nexport async function changePassword(request: ChangePasswordRequest): Promise<{ success: boolean; message?: string }> {\n  try {\n    // Try authentication service endpoint if available\n    return await apiPost<{ success: boolean; message?: string }>('/api/users/me/change-password', request);\n  } catch (error) {\n    console.error('Failed to change password:', error);\n    // If endpoint doesn't exist, this would typically go through Keycloak\n    throw new Error('Password change not available. Please contact support or use Keycloak directly.');\n  }\n}\n\n// Download user data (GDPR compliance)\nexport async function downloadUserData(): Promise<Blob> {\n  try {\n    // Proxy handles authentication - no need for manual token\n    const response = await fetch(`${API_BASE}/api/users/me/data-export`, {\n      method: 'GET',\n      credentials: 'include', // Include session cookie\n    });\n\n    if (!response.ok) {\n      throw new Error('Failed to download user data');\n    }\n\n    return await response.blob();\n  } catch (error) {\n    console.error('Failed to download user data:', error);\n    // Fallback: create a simple JSON export\n    const profile = await getUserProfile();\n    const caseData = await findUserCaseByEmail(profile.email).catch(() => null);\n    \n    const data = {\n      profile,\n      caseData,\n      exportedAt: new Date().toISOString()\n    };\n\n    return new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });\n  }\n}\n\n// Delete user account\nexport async function deleteUserAccount(confirmation: { password?: string; reason?: string }): Promise<{ success: boolean; message?: string }> {\n  try {\n    return await apiPost<{ success: boolean; message?: string }>('/api/users/me/delete', confirmation);\n  } catch (error) {\n    console.error('Failed to delete account:', error);\n    throw new Error('Account deletion failed. Please contact support.');\n  }\n}\n\n// Get user's case summary for profile display\nexport async function getUserCaseSummary(): Promise<CaseDataSummary | null> {\n  try {\n    const { getAuthUser } = await import(\"@/lib/auth/session\");\n    const user = getAuthUser();\n    if (!user?.email) return null;\n\n    const caseData = await findUserCaseByEmail(user.email);\n    if (!caseData) return null;\n\n    // Get related data\n    const [documents, threads] = await Promise.all([\n      getApplicationDocuments(caseData.caseId).catch(() => []),\n      getMyThreads(1, 10).catch(() => ({ items: [], totalCount: 0 } as any))\n    ]);\n\n    return {\n      caseId: caseData.caseId,\n      applicationData: caseData,\n      documents,\n      messages: threads.items || [],\n      timeline: []\n    };\n  } catch (error) {\n    // Don't log 503 or 404 errors - services may not be running or user may not exist yet\n    if (!(error as any)?.isServiceUnavailable && !(error as any)?.isNotFound) {\n      console.error('Failed to get user case summary:', error);\n    }\n    return null;\n  }\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1126, "column": 0}, "map": {"version":3,"sources":["file:///Users/mukurusystemsadministrator/Desktop/onboarding_kyc%20copy/partner/src/hooks/useRequireAuth.ts"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { useSession } from \"next-auth/react\";\n\n/**\n * Hook to protect routes - redirects to login if not authenticated\n */\nexport function useRequireAuth() {\n  const { data: session, status } = useSession();\n  const router = useRouter();\n\n  useEffect(() => {\n    if (status === \"unauthenticated\") {\n      // Only redirect if not already on an auth page\n      const currentPath = window.location.pathname;\n      if (!currentPath.startsWith('/auth/')) {\n        router.push('/auth/login');\n      }\n    }\n  }, [status, router]);\n\n  return { \n    isAuthenticated: status === \"authenticated\" && !!session, \n    isLoading: status === \"loading\" \n  };\n}\n\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;AAJA;;;;AASO,SAAS;;IACd,MAAM,EAAE,MAAM,OAAO,EAAE,MAAM,EAAE,GAAG,IAAA,+JAAU;IAC5C,MAAM,SAAS,IAAA,kJAAS;IAExB,IAAA,0KAAS;oCAAC;YACR,IAAI,WAAW,mBAAmB;gBAChC,+CAA+C;gBAC/C,MAAM,cAAc,OAAO,QAAQ,CAAC,QAAQ;gBAC5C,IAAI,CAAC,YAAY,UAAU,CAAC,WAAW;oBACrC,OAAO,IAAI,CAAC;gBACd;YACF;QACF;mCAAG;QAAC;QAAQ;KAAO;IAEnB,OAAO;QACL,iBAAiB,WAAW,mBAAmB,CAAC,CAAC;QACjD,WAAW,WAAW;IACxB;AACF;GAlBgB;;QACoB,+JAAU;QAC7B,kJAAS"}},
    {"offset": {"line": 1174, "column": 0}, "map": {"version":3,"sources":["file:///Users/mukurusystemsadministrator/Desktop/onboarding_kyc%20copy/partner/src/app/partner/profile/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { \n  Box, \n  Container, \n  VStack, \n  HStack,\n  SimpleGrid,\n  Flex,\n  Circle,\n  Switch as ChakraSwitch,\n  Separator,\n  Spinner,\n  Alert,\n  Icon,\n  useDisclosure,\n  DialogRoot,\n  DialogBackdrop,\n  DialogContent,\n  DialogHeader,\n  DialogBody,\n  DialogFooter,\n  DialogTitle,\n  DialogCloseTrigger\n} from \"@chakra-ui/react\";\nimport { Button, Typography, Card, Checkbox, MukuruLogo } from \"@/lib/mukuruImports\";\nimport { Input as ChakraInput } from \"@chakra-ui/react\";\nimport { motion } from \"framer-motion\";\nimport Link from \"next/link\";\nimport { useState, useEffect } from \"react\";\nimport { Formik, Form, Field } from \"formik\";\nimport * as Yup from \"yup\";\nimport { FiAlertCircle, FiCheckCircle, FiXCircle, FiInfo, FiX } from \"react-icons/fi\";\nimport { getAuthUser, getInitials, logout } from \"@/lib/auth/session\";\nimport { useSession } from \"next-auth/react\";\nimport { \n  getUserProfile, \n  updateUserProfile, \n  getNotificationPreferences,\n  updateNotificationPreferences,\n  changePassword,\n  downloadUserData,\n  deleteUserAccount,\n  getUserCaseSummary,\n  findUserCaseByEmail,\n  type UserProfile,\n  type UserPreferences,\n  type ChangePasswordRequest\n} from \"@/lib/api\";\nimport { useRequireAuth } from \"@/hooks/useRequireAuth\";\n\nconst MotionBox = motion.create(Box);\n\nconst profileSchema = Yup.object().shape({\n  firstName: Yup.string().required(\"First name is required\"),\n  lastName: Yup.string().required(\"Last name is required\"),\n  email: Yup.string().email(\"Invalid email\").required(\"Email is required\"),\n  phone: Yup.string(),\n  companyName: Yup.string(),\n  country: Yup.string().required(\"Country is required\"),\n});\n\nexport default function PartnerProfilePage() {\n  useRequireAuth();\n  const { open: isPasswordDialogOpen, onOpen: onPasswordDialogOpen, onClose: onPasswordDialogClose } = useDisclosure();\n  const { open: isDeleteDialogOpen, onOpen: onDeleteDialogOpen, onClose: onDeleteDialogClose } = useDisclosure();\n  \n  const [isEditing, setIsEditing] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [profile, setProfile] = useState<UserProfile | null>(null);\n  const [notifications, setNotifications] = useState<UserPreferences>({\n    emailNotifications: true,\n    smsNotifications: false,\n    statusUpdates: true,\n    marketingCommunications: false\n  });\n  const [caseSummary, setCaseSummary] = useState<any>(null);\n  const [passwordForm, setPasswordForm] = useState<ChangePasswordRequest>({\n    currentPassword: '',\n    newPassword: '',\n    confirmPassword: ''\n  });\n  const [deleteReason, setDeleteReason] = useState('');\n  const [toastState, setToastState] = useState<{ status: \"success\" | \"error\" | \"info\"; title: string; description?: string } | null>(null);\n\n  // Toast helper function\n  const showToast = (args: { status: \"success\" | \"error\" | \"info\"; title: string; description?: string }) => {\n    setToastState(args);\n    setTimeout(() => setToastState(null), args.status === 'error' ? 5000 : 3000);\n  };\n\n  // Load profile data from backend\n  useEffect(() => {\n    let isMounted = true;\n    const loadProfile = async () => {\n      setLoading(true);\n      try {\n        const [profileData, prefs, summary] = await Promise.all([\n          getUserProfile(),\n          getNotificationPreferences(),\n          getUserCaseSummary()\n        ]);\n        \n        if (isMounted) {\n          setProfile(profileData);\n          setNotifications(prefs);\n          setCaseSummary(summary);\n        }\n      } catch (error) {\n        console.error('Failed to load profile:', error);\n        if (isMounted) {\n          showToast({\n            status: 'error',\n            title: 'Failed to load profile',\n            description: 'Could not load profile data. Please refresh the page.'\n          });\n        }\n      } finally {\n        if (isMounted) {\n          setLoading(false);\n        }\n      }\n    };\n\n    loadProfile();\n    return () => { isMounted = false; };\n  }, []);\n\n  const handleSaveProfile = async (values: any) => {\n    setSaving(true);\n    try {\n      const updated = await updateUserProfile({\n        firstName: values.firstName,\n        lastName: values.lastName,\n        middleName: values.middleName,\n        phone: values.phone,\n        country: values.country,\n        companyName: values.companyName,\n        preferences: notifications\n      });\n      \n      setProfile(updated);\n      setIsEditing(false);\n      showToast({\n        status: 'success',\n        title: 'Profile updated',\n        description: 'Your profile has been saved successfully.'\n      });\n    } catch (error: any) {\n      console.error('Failed to save profile:', error);\n      showToast({\n        status: 'error',\n        title: 'Failed to save',\n        description: error.message || 'Could not update profile. Please try again.'\n      });\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleNotificationChange = async (key: keyof UserPreferences, value: boolean) => {\n    const updated = { ...notifications, [key]: value };\n    setNotifications(updated);\n    \n    try {\n      // Save immediately when toggled\n      await updateNotificationPreferences(updated);\n      showToast({\n        status: 'success',\n        title: 'Preferences updated',\n        description: 'Your notification preferences have been saved.'\n      });\n    } catch (error: any) {\n      // Revert on error\n      setNotifications(notifications);\n      showToast({\n        status: 'error',\n        title: 'Failed to update',\n        description: error.message || 'Could not update preferences. Please try again.'\n      });\n    }\n  };\n\n  const handleChangePassword = async () => {\n    if (passwordForm.newPassword !== passwordForm.confirmPassword) {\n      showToast({\n        status: 'error',\n        title: 'Passwords do not match'\n      });\n      return;\n    }\n\n    try {\n      const result = await changePassword(passwordForm);\n      if (result.success) {\n        showToast({\n          status: 'success',\n          title: 'Password changed',\n          description: 'Your password has been updated successfully.'\n        });\n        onPasswordDialogClose();\n        setPasswordForm({ currentPassword: '', newPassword: '', confirmPassword: '' });\n      }\n    } catch (error: any) {\n      showToast({\n        status: 'error',\n        title: 'Failed to change password',\n        description: error.message || 'Could not change password. Please try again.'\n      });\n    }\n  };\n\n  const handleDownloadData = async () => {\n    try {\n      const blob = await downloadUserData();\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `mukuru-data-export-${new Date().toISOString().split('T')[0]}.json`;\n      document.body.appendChild(a);\n      a.click();\n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(a);\n      \n      showToast({\n        status: 'success',\n        title: 'Data downloaded',\n        description: 'Your data has been downloaded successfully.'\n      });\n    } catch (error: any) {\n      showToast({\n        status: 'error',\n        title: 'Failed to download',\n        description: error.message || 'Could not download your data. Please try again.'\n      });\n    }\n  };\n\n  const handleDeleteAccount = async () => {\n    try {\n      const result = await deleteUserAccount({ reason: deleteReason });\n      if (result.success) {\n        showToast({\n          status: 'success',\n          title: 'Account deleted',\n          description: 'Your account has been permanently deleted.'\n        });\n        // Logout and redirect\n        setTimeout(() => {\n          logout('http://localhost:3000/');\n        }, 2000);\n      }\n    } catch (error: any) {\n      showToast({\n        status: 'error',\n        title: 'Failed to delete account',\n        description: error.message || 'Could not delete your account. Please contact support.'\n      });\n    }\n  };\n\n  // Get user from NextAuth session (like admin does)\n  const { data: session } = useSession();\n  const sessionUser = session?.user;\n  \n  // Fallback to getAuthUser if session not available\n  const fallbackUser = getAuthUser();\n  \n  // Extract name parts from session or fallback\n  const userName = sessionUser?.name || fallbackUser.name || \"User\";\n  const userEmail = sessionUser?.email || fallbackUser.email || \"\";\n  \n  // Try to get givenName/familyName from session user first (Keycloak might provide these)\n  // Then try fallback user, then extract from name\n  let givenName = (sessionUser as any)?.givenName || fallbackUser.givenName || \"\";\n  let familyName = (sessionUser as any)?.familyName || fallbackUser.familyName || \"\";\n  \n  // If still not available, extract from full name\n  if (!givenName || !familyName) {\n    const nameParts = userName.split(' ').filter(p => p.length > 0 && p !== \"User\");\n    if (nameParts.length > 0 && !givenName) {\n      givenName = nameParts[0];\n    }\n    if (nameParts.length > 1 && !familyName) {\n      familyName = nameParts.slice(1).join(' ');\n    }\n  }\n  \n  const user = {\n    name: userName,\n    email: userEmail,\n    givenName,\n    familyName,\n  };\n  \n  if (loading) {\n    return (\n      <Box minH=\"100vh\" bg=\"gray.50\" display=\"flex\" alignItems=\"center\" justifyContent=\"center\">\n        <VStack gap=\"4\">\n          <Spinner size=\"xl\" color=\"orange.500\" />\n          <Typography color=\"gray.600\">Loading profile...</Typography>\n        </VStack>\n      </Box>\n    );\n  }\n\n  // Do not block the page if there is no application; render profile with auth data\n\n  return (\n    <Box minH=\"100vh\" bg=\"gray.50\" position=\"relative\">\n      {/* Toast Notification */}\n      {toastState && (\n        <Box\n          position=\"fixed\"\n          top=\"4\"\n          right=\"4\"\n          zIndex={9999}\n          maxW=\"400px\"\n          p=\"4\"\n          borderRadius=\"md\"\n          bg={toastState.status === 'success' ? 'green.50' : toastState.status === 'error' ? 'red.50' : 'blue.50'}\n          border=\"1px\"\n          borderColor={toastState.status === 'success' ? 'green.200' : toastState.status === 'error' ? 'red.200' : 'blue.200'}\n          boxShadow=\"lg\"\n        >\n          <HStack gap=\"3\" align=\"start\">\n            <Icon\n              as={toastState.status === 'success' ? FiCheckCircle : toastState.status === 'error' ? FiXCircle : FiInfo}\n              color={toastState.status === 'success' ? 'green.500' : toastState.status === 'error' ? 'red.500' : 'blue.500'}\n              boxSize=\"5\"\n              flexShrink={0}\n              mt=\"0.5\"\n            />\n            <VStack align=\"start\" gap=\"1\" flex=\"1\">\n              <Typography fontWeight=\"semibold\" fontSize=\"sm\" color=\"gray.900\">\n                {toastState.title}\n              </Typography>\n              {toastState.description && (\n                <Typography fontSize=\"sm\" color=\"gray.700\">\n                  {toastState.description}\n                </Typography>\n              )}\n            </VStack>\n            <Button\n              size=\"sm\"\n              variant=\"ghost\"\n              onClick={() => setToastState(null)}\n              minW=\"auto\"\n              px=\"2\"\n            >\n              <Icon as={FiX} boxSize=\"3\" />\n            </Button>\n          </HStack>\n        </Box>\n      )}\n      {/* Header */}\n      <Box bg=\"white\" borderBottom=\"1px\" borderColor=\"gray.200\" py=\"4\">\n        <Container maxW=\"7xl\">\n          <Flex justify=\"space-between\" align=\"center\">\n            <HStack gap=\"4\">\n              <Link href=\"/partner/dashboard\">\n                <Button variant=\"ghost\" size=\"sm\"> Back</Button>\n              </Link>\n              <MukuruLogo height=\"32px\" />\n              <Typography color=\"gray.700\" fontSize=\"sm\" fontWeight=\"medium\">Profile</Typography>\n            </HStack>\n            <HStack gap=\"4\">\n              <Button variant=\"secondary\" size=\"sm\" onClick={() => logout('http://localhost:3000/')}>Logout</Button>\n              <Circle size=\"32px\" bg=\"orange.500\" color=\"white\">\n                <Typography fontSize=\"sm\" fontWeight=\"bold\">{getInitials(userName)}</Typography>\n              </Circle>\n            </HStack>\n          </Flex>\n        </Container>\n      </Box>\n\n      <Container maxW=\"5xl\" py=\"8\" px={{ base: 4, md: 6 }}>\n        <VStack gap=\"8\" align=\"stretch\" width=\"100%\">\n          {/* Page Header */}\n          <Box>\n            <Typography fontSize=\"2xl\" fontWeight=\"bold\" color=\"gray.900\" mb=\"2\">Profile Settings</Typography>\n            <Typography color=\"gray.600\" fontSize=\"sm\">\n              Manage your account information and preferences\n            </Typography>\n          </Box>\n\n          {/* Profile Information */}\n          <Card bg=\"white\" width=\"100%\">\n            <Box p=\"5\" borderBottom=\"1px\" borderColor=\"gray.200\" bg=\"gray.50\">\n              <Flex justify=\"space-between\" align=\"center\">\n                <Box>\n                  <Typography fontSize=\"lg\" fontWeight=\"bold\" color=\"gray.900\" mb=\"1\">Personal Information</Typography>\n                  <Typography fontSize=\"xs\" color=\"gray.600\">\n                    Your account details from Keycloak\n                  </Typography>\n                </Box>\n                {!isEditing && (\n                  <Button \n                    size=\"sm\" \n                    variant=\"primary\"\n                    className=\"mukuru-primary-button\"\n                    onClick={() => setIsEditing(true)}\n                  >\n                    Edit Profile\n                  </Button>\n                )}\n              </Flex>\n            </Box>\n\n            <Box p=\"8\" width=\"100%\">\n                <Formik\n                  key={`form-${givenName}-${familyName}-${userEmail}`}\n                  initialValues={{\n                    firstName: profile?.firstName || givenName || \"\",\n                    lastName: profile?.lastName || familyName || \"\",\n                    email: profile?.email || userEmail || \"\",\n                    phone: profile?.phone || \"\",\n                    companyName: profile?.companyName || caseSummary?.applicationData?.legalName || \"\",\n                    country: profile?.country || caseSummary?.applicationData?.country || \"South Africa\",\n                    entityType: profile?.entityType || caseSummary?.applicationData?.entityType || \"Company\"\n                  }}\n                  validationSchema={profileSchema}\n                  onSubmit={handleSaveProfile}\n                  enableReinitialize={true}\n                >\n                  {({ errors, touched, isSubmitting, values }) => {\n                    // Debug: Log values to ensure they're populated\n                    if (process.env.NODE_ENV === 'development') {\n                      console.log('[Profile] Form values:', values);\n                      console.log('[Profile] User data:', { givenName, familyName, userEmail });\n                    }\n                    return (\n                    <Form style={{ width: '100%' }}>\n                      <VStack gap=\"8\" align=\"stretch\" width=\"100%\">\n                        {/* Name Fields */}\n                        <SimpleGrid columns={{ base: 1, md: 2 }} gap=\"6\" width=\"100%\">\n                          <Box width=\"100%\">\n                            <Typography fontSize=\"sm\" fontWeight=\"semibold\" color=\"gray.900\" mb=\"3\">\n                              First Name\n                            </Typography>\n                            <Field name=\"firstName\">\n                              {({ field }: any) => {\n                                const displayValue = field.value || givenName || \"\";\n                                return (\n                                <ChakraInput\n                                  {...field}\n                                  value={displayValue}\n                                  readOnly={!isEditing}\n                                  bg={isEditing ? \"white\" : \"gray.50\"}\n                                  color=\"gray.900\"\n                                  width=\"100%\"\n                                  borderColor=\"gray.300\"\n                                  borderWidth=\"1px\"\n                                  px=\"4\"\n                                  py=\"3\"\n                                  fontSize=\"md\"\n                                  fontWeight={!isEditing ? \"medium\" : \"normal\"}\n                                  height=\"44px\"\n                                  _placeholder={{ color: \"gray.400\" }}\n                                  _focus={{ borderColor: \"orange.500\", boxShadow: \"0 0 0 1px orange.500\" }}\n                                  placeholder=\"Enter first name\"\n                                />\n                              );\n                              }}\n                            </Field>\n                            {errors.firstName && touched.firstName && (\n                              <Typography color=\"red.500\" fontSize=\"xs\" mt=\"1\">{String(errors.firstName)}</Typography>\n                            )}\n                          </Box>\n\n                              <Box width=\"100%\">\n                                <Typography fontSize=\"sm\" fontWeight=\"semibold\" color=\"gray.900\" mb=\"3\">\n                                  Last Name\n                                </Typography>\n                            <Field name=\"lastName\">\n                              {({ field }: any) => {\n                                // Use field.value if set, otherwise use familyName, with fallback\n                                const displayValue = field.value || familyName || (userName && userName !== \"User\" ? userName.split(' ').slice(1).join(' ') : \"\") || \"\";\n                                return (\n                                <ChakraInput\n                                  {...field}\n                                  value={displayValue}\n                                  readOnly={!isEditing}\n                                  bg={isEditing ? \"white\" : \"gray.50\"}\n                                  color=\"gray.900\"\n                                  width=\"100%\"\n                                  borderColor=\"gray.300\"\n                                  borderWidth=\"1px\"\n                                  px=\"4\"\n                                  py=\"3\"\n                                  fontSize=\"md\"\n                                  fontWeight={!isEditing ? \"medium\" : \"normal\"}\n                                  height=\"44px\"\n                                  _placeholder={{ color: \"gray.400\" }}\n                                  _focus={{ borderColor: \"orange.500\", boxShadow: \"0 0 0 1px orange.500\" }}\n                                  placeholder=\"Enter last name\"\n                                />\n                              );\n                              }}\n                            </Field>\n                            {errors.lastName && touched.lastName && (\n                              <Typography color=\"red.500\" fontSize=\"xs\" mt=\"1\">{String(errors.lastName)}</Typography>\n                            )}\n                          </Box>\n                        </SimpleGrid>\n\n                        {/* Contact Fields */}\n                        <SimpleGrid columns={{ base: 1, md: 2 }} gap=\"6\" width=\"100%\">\n                          <Box width=\"100%\">\n                            <Typography fontSize=\"sm\" fontWeight=\"semibold\" color=\"gray.900\" mb=\"3\">\n                              Email Address\n                            </Typography>\n                            <Field name=\"email\">\n                              {({ field }: any) => (\n                                <ChakraInput\n                                  {...field}\n                                  type=\"email\"\n                                  value={field.value || userEmail || \"\"}\n                                  readOnly={true}\n                                  bg=\"gray.100\"\n                                  color=\"gray.900\"\n                                  width=\"100%\"\n                                  borderColor=\"gray.300\"\n                                  borderWidth=\"1px\"\n                                  px=\"4\"\n                                  py=\"3\"\n                                  fontSize=\"md\"\n                                  fontWeight=\"medium\"\n                                  height=\"44px\"\n                                  _placeholder={{ color: \"gray.400\" }}\n                                />\n                              )}\n                            </Field>\n                            {errors.email && touched.email && (\n                              <Typography color=\"red.500\" fontSize=\"xs\" mt=\"1\">{String(errors.email)}</Typography>\n                            )}\n                          </Box>\n\n                          <Box width=\"100%\">\n                            <Typography fontSize=\"sm\" fontWeight=\"semibold\" color=\"gray.900\" mb=\"3\">\n                              Phone Number\n                            </Typography>\n                            <Field name=\"phone\">\n                              {({ field }: any) => (\n                                <ChakraInput\n                                  {...field}\n                                  type=\"tel\"\n                                  value={field.value || \"\"}\n                                  readOnly={!isEditing}\n                                  bg={isEditing ? \"white\" : \"gray.50\"}\n                                  color=\"gray.900\"\n                                  width=\"100%\"\n                                  borderColor=\"gray.300\"\n                                  borderWidth=\"1px\"\n                                  px=\"4\"\n                                  py=\"3\"\n                                  fontSize=\"md\"\n                                  fontWeight={!isEditing ? \"medium\" : \"normal\"}\n                                  height=\"44px\"\n                                  _placeholder={{ color: \"gray.400\" }}\n                                  _focus={{ borderColor: \"orange.500\", boxShadow: \"0 0 0 1px orange.500\" }}\n                                  placeholder=\"+27 12 345 6789\"\n                                />\n                              )}\n                            </Field>\n                            {errors.phone && touched.phone && (\n                              <Typography color=\"red.500\" fontSize=\"xs\" mt=\"1\">{String(errors.phone)}</Typography>\n                            )}\n                          </Box>\n                        </SimpleGrid>\n\n                        <Separator borderColor=\"gray.200\" my=\"4\" />\n\n                        {/* Company & Location Fields */}\n                        <SimpleGrid columns={{ base: 1, md: 2 }} gap=\"6\" width=\"100%\">\n                          <Box width=\"100%\">\n                            <Typography fontSize=\"sm\" fontWeight=\"semibold\" color=\"gray.900\" mb=\"3\">\n                              Company Name\n                            </Typography>\n                            <Field name=\"companyName\">\n                              {({ field }: any) => (\n                                <ChakraInput\n                                  {...field}\n                                  value={field.value || \"\"}\n                                  readOnly={!isEditing}\n                                  bg={isEditing ? \"white\" : \"gray.50\"}\n                                  color=\"gray.900\"\n                                  width=\"100%\"\n                                  borderColor=\"gray.300\"\n                                  borderWidth=\"1px\"\n                                  px=\"4\"\n                                  py=\"3\"\n                                  fontSize=\"md\"\n                                  fontWeight={!isEditing ? \"medium\" : \"normal\"}\n                                  height=\"44px\"\n                                  _placeholder={{ color: \"gray.400\" }}\n                                  _focus={{ borderColor: \"orange.500\", boxShadow: \"0 0 0 1px orange.500\" }}\n                                  placeholder=\"Enter company name\"\n                                />\n                              )}\n                            </Field>\n                            {errors.companyName && touched.companyName && (\n                              <Typography color=\"red.500\" fontSize=\"xs\" mt=\"1\">{String(errors.companyName)}</Typography>\n                            )}\n                          </Box>\n\n                          <Box width=\"100%\">\n                            <Typography fontSize=\"sm\" fontWeight=\"semibold\" color=\"gray.900\" mb=\"3\">\n                              Country\n                            </Typography>\n                            <Field name=\"country\">\n                              {({ field }: any) => (\n                                isEditing ? (\n                                  <select\n                                    {...field}\n                                    value={field.value || \"South Africa\"}\n                                    style={{\n                                      width: '100%',\n                                      padding: '12px 16px',\n                                      borderRadius: '6px',\n                                      border: '1px solid #D1D5DB',\n                                      background: 'white',\n                                      color: '#111827',\n                                      fontSize: '16px',\n                                      height: '44px',\n                                    }}\n                                  >\n                                    <option value=\"South Africa\">South Africa</option>\n                                    <option value=\"Zimbabwe\">Zimbabwe</option>\n                                    <option value=\"Botswana\">Botswana</option>\n                                    <option value=\"Mozambique\">Mozambique</option>\n                                  </select>\n                                ) : (\n                                  <ChakraInput \n                                    {...field} \n                                    value={field.value || \"South Africa\"}\n                                    readOnly \n                                    bg=\"gray.50\" \n                                    color=\"gray.900\" \n                                    width=\"100%\" \n                                    borderColor=\"gray.300\"\n                                    borderWidth=\"1px\"\n                                    px=\"4\"\n                                    py=\"3\"\n                                    fontSize=\"md\"\n                                    fontWeight=\"medium\"\n                                    height=\"44px\"\n                                    _placeholder={{ color: \"gray.400\" }} \n                                  />\n                                )\n                              )}\n                            </Field>\n                            {errors.country && touched.country && (\n                              <Typography color=\"red.500\" fontSize=\"xs\" mt=\"1\">{String(errors.country)}</Typography>\n                            )}\n                          </Box>\n                        </SimpleGrid>\n\n                        {/* Entity Type Field */}\n                        <Box width=\"100%\">\n                          <Typography fontSize=\"sm\" fontWeight=\"semibold\" color=\"gray.900\" mb=\"3\">\n                            Entity Type\n                          </Typography>\n                          <Field name=\"entityType\">\n                            {({ field }: any) => (\n                              <ChakraInput\n                                {...field}\n                                value={field.value || \"Company\"}\n                                readOnly={true}\n                                bg=\"gray.100\"\n                                color=\"gray.900\"\n                                width=\"100%\"\n                                borderColor=\"gray.300\"\n                                borderWidth=\"1px\"\n                                px=\"4\"\n                                py=\"3\"\n                                fontSize=\"md\"\n                                fontWeight=\"medium\"\n                                height=\"44px\"\n                                _placeholder={{ color: \"gray.400\" }}\n                              />\n                            )}\n                          </Field>\n                        </Box>\n\n                        {isEditing && (\n                          <HStack gap=\"3\" pt=\"4\" justify=\"flex-end\" width=\"100%\">\n                            <Button \n                              variant=\"secondary\" \n                              onClick={() => setIsEditing(false)}\n                              size=\"sm\"\n                            >\n                              Cancel\n                            </Button>\n                            <Button \n                              type=\"submit\" \n                              className=\"mukuru-primary-button\"\n                              loading={saving}\n                              loadingText=\"Saving...\"\n                              size=\"sm\"\n                            >\n                              Save Changes\n                            </Button>\n                          </HStack>\n                        )}\n                      </VStack>\n                    </Form>\n                    );\n                  }}\n                </Formik>\n              </Box>\n            </Card>\n\n          {/* Notification Preferences */}\n          <Card bg=\"white\" width=\"100%\">\n            <Box p=\"5\" borderBottom=\"1px\" borderColor=\"gray.200\" bg=\"gray.50\">\n              <Box>\n                <Typography fontSize=\"lg\" fontWeight=\"bold\" color=\"gray.900\" mb=\"1\">Notification Preferences</Typography>\n                <Typography fontSize=\"xs\" color=\"gray.600\">\n                  Choose how you want to receive updates about your application\n                </Typography>\n              </Box>\n            </Box>\n\n            <Box p=\"8\" width=\"100%\">\n              <VStack gap=\"6\" align=\"stretch\" width=\"100%\">\n                <HStack justify=\"space-between\" align=\"center\" width=\"100%\" py=\"2\">\n                  <Box flex=\"1\" minW=\"0\">\n                    <Typography fontWeight=\"semibold\" color=\"gray.900\" fontSize=\"md\" mb=\"1\">Email Notifications</Typography>\n                    <Typography fontSize=\"sm\" color=\"gray.600\">\n                      Receive updates via email\n                    </Typography>\n                  </Box>\n                  <Box flexShrink={0} ml=\"4\">\n                    <ChakraSwitch.Root\n                      checked={notifications.emailNotifications}\n                      onCheckedChange={(details) => handleNotificationChange('emailNotifications', details.checked)}\n                      colorScheme=\"orange\"\n                      size=\"md\"\n                    >\n                      <ChakraSwitch.HiddenInput />\n                      <ChakraSwitch.Control>\n                        <ChakraSwitch.Thumb />\n                      </ChakraSwitch.Control>\n                    </ChakraSwitch.Root>\n                  </Box>\n                </HStack>\n\n                <HStack justify=\"space-between\" align=\"center\" width=\"100%\" py=\"2\">\n                  <Box flex=\"1\" minW=\"0\">\n                    <Typography fontWeight=\"semibold\" color=\"gray.900\" fontSize=\"md\" mb=\"1\">SMS Notifications</Typography>\n                    <Typography fontSize=\"sm\" color=\"gray.600\">\n                      Receive updates via SMS\n                    </Typography>\n                  </Box>\n                  <Box flexShrink={0} ml=\"4\">\n                    <ChakraSwitch.Root\n                      checked={notifications.smsNotifications}\n                      onCheckedChange={(details) => handleNotificationChange('smsNotifications', details.checked)}\n                      colorScheme=\"orange\"\n                      size=\"md\"\n                    >\n                      <ChakraSwitch.HiddenInput />\n                      <ChakraSwitch.Control>\n                        <ChakraSwitch.Thumb />\n                      </ChakraSwitch.Control>\n                    </ChakraSwitch.Root>\n                  </Box>\n                </HStack>\n\n                <HStack justify=\"space-between\" align=\"center\" width=\"100%\" py=\"2\">\n                  <Box flex=\"1\" minW=\"0\">\n                    <Typography fontWeight=\"semibold\" color=\"gray.900\" fontSize=\"md\" mb=\"1\">Status Updates</Typography>\n                    <Typography fontSize=\"sm\" color=\"gray.600\">\n                      Get notified when your application status changes\n                    </Typography>\n                  </Box>\n                  <Box flexShrink={0} ml=\"4\">\n                    <ChakraSwitch.Root\n                      checked={notifications.statusUpdates}\n                      onCheckedChange={(details) => handleNotificationChange('statusUpdates', details.checked)}\n                      colorScheme=\"orange\"\n                      size=\"md\"\n                    >\n                      <ChakraSwitch.HiddenInput />\n                      <ChakraSwitch.Control>\n                        <ChakraSwitch.Thumb />\n                      </ChakraSwitch.Control>\n                    </ChakraSwitch.Root>\n                  </Box>\n                </HStack>\n\n                <HStack justify=\"space-between\" align=\"center\" width=\"100%\" py=\"2\">\n                  <Box flex=\"1\" minW=\"0\">\n                    <Typography fontWeight=\"semibold\" color=\"gray.900\" fontSize=\"md\" mb=\"1\">Marketing Communications</Typography>\n                    <Typography fontSize=\"sm\" color=\"gray.600\">\n                      Receive news and updates about Mukuru services\n                    </Typography>\n                  </Box>\n                  <Box flexShrink={0} ml=\"4\">\n                    <ChakraSwitch.Root\n                      checked={notifications.marketingCommunications}\n                      onCheckedChange={(details) => handleNotificationChange('marketingCommunications', details.checked)}\n                      colorScheme=\"orange\"\n                      size=\"md\"\n                    >\n                      <ChakraSwitch.HiddenInput />\n                      <ChakraSwitch.Control>\n                        <ChakraSwitch.Thumb />\n                      </ChakraSwitch.Control>\n                    </ChakraSwitch.Root>\n                  </Box>\n                </HStack>\n              </VStack>\n            </Box>\n          </Card>\n\n          {/* Account Actions */}\n          <Card bg=\"white\" width=\"100%\">\n            <Box p=\"5\" borderBottom=\"1px\" borderColor=\"gray.200\" bg=\"gray.50\">\n              <Typography fontSize=\"lg\" fontWeight=\"bold\" color=\"gray.900\">Account Actions</Typography>\n            </Box>\n\n            <Box p=\"8\" width=\"100%\">\n              <VStack gap=\"6\" align=\"stretch\" width=\"100%\">\n                {/* Change Password Row */}\n                <Box \n                  display=\"flex\" \n                  alignItems=\"center\" \n                  justifyContent=\"space-between\" \n                  width=\"100%\" \n                  minH=\"48px\"\n                  py=\"2\"\n                >\n                  <Box flex=\"1\" minW=\"0\" mr=\"4\">\n                    <Typography fontWeight=\"semibold\" color=\"gray.900\" fontSize=\"md\" mb=\"1\">\n                      Change Password\n                    </Typography>\n                    <Typography fontSize=\"sm\" color=\"gray.600\">\n                      Update your account password\n                    </Typography>\n                  </Box>\n                  <Box flexShrink={0}>\n                    <Button variant=\"secondary\" size=\"sm\" onClick={onPasswordDialogOpen}>\n                      Change\n                    </Button>\n                  </Box>\n                </Box>\n\n                {/* Download Data Row */}\n                <Box \n                  display=\"flex\" \n                  alignItems=\"center\" \n                  justifyContent=\"space-between\" \n                  width=\"100%\" \n                  minH=\"48px\"\n                  py=\"2\"\n                >\n                  <Box flex=\"1\" minW=\"0\" mr=\"4\">\n                    <Typography fontWeight=\"semibold\" color=\"gray.900\" fontSize=\"md\" mb=\"1\">\n                      Download Data\n                    </Typography>\n                    <Typography fontSize=\"sm\" color=\"gray.600\">\n                      Download a copy of your application data\n                    </Typography>\n                  </Box>\n                  <Box flexShrink={0}>\n                    <Button variant=\"secondary\" size=\"sm\" onClick={handleDownloadData}>\n                      Download\n                    </Button>\n                  </Box>\n                </Box>\n\n                <Separator borderColor=\"gray.200\" my=\"2\" />\n\n                {/* Delete Account Row */}\n                <Box \n                  display=\"flex\" \n                  alignItems=\"center\" \n                  justifyContent=\"space-between\" \n                  width=\"100%\" \n                  minH=\"48px\"\n                  py=\"2\"\n                >\n                  <Box flex=\"1\" minW=\"0\" mr=\"4\">\n                    <Typography fontWeight=\"semibold\" color=\"red.600\" fontSize=\"md\" mb=\"1\">\n                      Delete Account\n                    </Typography>\n                    <Typography fontSize=\"sm\" color=\"gray.600\">\n                      Permanently delete your account and all data\n                    </Typography>\n                  </Box>\n                  <Box flexShrink={0}>\n                    <Button variant=\"secondary\" size=\"sm\" onClick={onDeleteDialogOpen} style={{ color: '#dc2626' }}>\n                      Delete\n                    </Button>\n                  </Box>\n                </Box>\n              </VStack>\n            </Box>\n          </Card>\n\n          {/* Change Password Dialog */}\n          <DialogRoot open={isPasswordDialogOpen} onOpenChange={(e) => (e.open ? onPasswordDialogOpen() : onPasswordDialogClose())} modal={true}>\n            <DialogBackdrop bg=\"blackAlpha.600\" backdropFilter=\"blur(4px)\" />\n            <DialogContent \n              maxW=\"md\" \n              position=\"fixed\" \n              top=\"50%\" \n              left=\"50%\" \n              transform=\"translate(-50%, -50%)\" \n              zIndex={1500}\n              bg=\"white\"\n              borderRadius=\"xl\"\n              boxShadow=\"xl\"\n              border=\"1px\"\n              borderColor=\"gray.200\"\n            >\n              <DialogHeader borderBottom=\"1px\" borderColor=\"gray.200\" pb=\"4\">\n                <DialogTitle fontSize=\"lg\" fontWeight=\"semibold\" color=\"gray.900\">Change Password</DialogTitle>\n              </DialogHeader>\n              <DialogBody pt=\"6\">\n                <VStack gap=\"4\" align=\"stretch\">\n                  <VStack align=\"start\" gap=\"2\">\n                    <Typography fontSize=\"sm\" fontWeight=\"medium\" color=\"gray.800\">Current Password</Typography>\n                    <ChakraInput\n                      type=\"password\"\n                      value={passwordForm.currentPassword}\n                      onChange={(e) => setPasswordForm({ ...passwordForm, currentPassword: e.target.value })}\n                      placeholder=\"Enter current password\"\n                      bg=\"white\"\n                      color=\"gray.900\"\n                      borderColor=\"gray.300\"\n                      _placeholder={{ color: \"gray.500\" }}\n                      _focus={{ borderColor: \"orange.500\", boxShadow: \"0 0 0 1px orange.500\" }}\n                    />\n                  </VStack>\n                  <VStack align=\"start\" gap=\"2\">\n                    <Typography fontSize=\"sm\" fontWeight=\"medium\" color=\"gray.800\">New Password</Typography>\n                    <ChakraInput\n                      type=\"password\"\n                      value={passwordForm.newPassword}\n                      onChange={(e) => setPasswordForm({ ...passwordForm, newPassword: e.target.value })}\n                      placeholder=\"Enter new password\"\n                      bg=\"white\"\n                      color=\"gray.900\"\n                      borderColor=\"gray.300\"\n                      _placeholder={{ color: \"gray.500\" }}\n                      _focus={{ borderColor: \"orange.500\", boxShadow: \"0 0 0 1px orange.500\" }}\n                    />\n                  </VStack>\n                  <VStack align=\"start\" gap=\"2\">\n                    <Typography fontSize=\"sm\" fontWeight=\"medium\" color=\"gray.800\">Confirm New Password</Typography>\n                    <ChakraInput\n                      type=\"password\"\n                      value={passwordForm.confirmPassword}\n                      onChange={(e) => setPasswordForm({ ...passwordForm, confirmPassword: e.target.value })}\n                      placeholder=\"Confirm new password\"\n                      bg=\"white\"\n                      color=\"gray.900\"\n                      borderColor=\"gray.300\"\n                      _placeholder={{ color: \"gray.500\" }}\n                      _focus={{ borderColor: \"orange.500\", boxShadow: \"0 0 0 1px orange.500\" }}\n                    />\n                  </VStack>\n                </VStack>\n              </DialogBody>\n              <DialogFooter borderTop=\"1px\" borderColor=\"gray.200\" pt=\"4\">\n                <Button variant=\"secondary\" onClick={onPasswordDialogClose} mr=\"2\">\n                  Cancel\n                </Button>\n                <Button className=\"mukuru-primary-button\" onClick={handleChangePassword} fontWeight=\"medium\">\n                  Change Password\n                </Button>\n              </DialogFooter>\n              <DialogCloseTrigger />\n            </DialogContent>\n          </DialogRoot>\n\n          {/* Delete Account Dialog */}\n          <DialogRoot open={isDeleteDialogOpen} onOpenChange={(e) => (e.open ? onDeleteDialogOpen() : onDeleteDialogClose())} modal={true}>\n            <DialogBackdrop bg=\"blackAlpha.600\" backdropFilter=\"blur(4px)\" />\n            <DialogContent \n              maxW=\"md\" \n              position=\"fixed\" \n              top=\"50%\" \n              left=\"50%\" \n              transform=\"translate(-50%, -50%)\" \n              zIndex={1500}\n              bg=\"white\"\n              borderRadius=\"xl\"\n              boxShadow=\"xl\"\n              border=\"1px\"\n              borderColor=\"gray.200\"\n            >\n              <DialogHeader borderBottom=\"1px\" borderColor=\"gray.200\" pb=\"4\">\n                <DialogTitle fontSize=\"lg\" fontWeight=\"semibold\" color=\"red.600\">Delete Account</DialogTitle>\n              </DialogHeader>\n              <DialogBody pt=\"6\">\n                <VStack gap=\"4\" align=\"stretch\">\n                  <Alert.Root status=\"error\">\n                    <Alert.Indicator>\n                      <Icon as={FiAlertCircle} boxSize=\"5\" color=\"red.500\" />\n                    </Alert.Indicator>\n                    <Alert.Content>\n                      <Alert.Title fontWeight=\"semibold\" color=\"red.700\">Warning</Alert.Title>\n                      <Alert.Description fontSize=\"sm\" color=\"red.700\">This action cannot be undone. All your data will be permanently deleted.</Alert.Description>\n                    </Alert.Content>\n                  </Alert.Root>\n                  <VStack align=\"start\" gap=\"2\">\n                    <Typography fontSize=\"sm\" fontWeight=\"medium\" color=\"gray.800\">Reason (optional)</Typography>\n                    <ChakraInput\n                      value={deleteReason}\n                      onChange={(e) => setDeleteReason(e.target.value)}\n                      placeholder=\"Why are you deleting your account?\"\n                      bg=\"white\"\n                      color=\"gray.900\"\n                      borderColor=\"gray.300\"\n                      _placeholder={{ color: \"gray.500\" }}\n                      _focus={{ borderColor: \"red.500\", boxShadow: \"0 0 0 1px red.500\" }}\n                    />\n                  </VStack>\n                </VStack>\n              </DialogBody>\n              <DialogFooter borderTop=\"1px\" borderColor=\"gray.200\" pt=\"4\">\n                <Button variant=\"secondary\" onClick={onDeleteDialogClose} mr=\"2\">\n                  Cancel\n                </Button>\n                <Button onClick={handleDeleteAccount} fontWeight=\"medium\" style={{ backgroundColor: '#dc2626', color: 'white' }}>\n                  Delete Account\n                </Button>\n              </DialogFooter>\n              <DialogCloseTrigger />\n            </DialogContent>\n          </DialogRoot>\n        </VStack>\n      </Container>\n    </Box>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}