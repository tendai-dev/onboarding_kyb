{
  "version": "1.0.0",
  "errors": [
    {
      "name": "ValidationError",
      "status_code": 422,
      "message": "Request validation failed",
      "description": "One or more fields failed validation rules",
      "example": {
        "name": "ValidationError",
        "message": "Request validation failed",
        "details": [
          {
            "field": "email",
            "message": "Invalid email format",
            "code": "INVALID_EMAIL"
          }
        ],
        "debug_id": "req-12345678-1234-1234-1234-123456789012"
      }
    },
    {
      "name": "MissingIdempotencyKey",
      "status_code": 400,
      "message": "Header 'Idempotency-Key' is required for state-changing operations",
      "description": "POST/PUT/PATCH/DELETE requests must include Idempotency-Key header",
      "resolution": "Include 'Idempotency-Key: <UUID>' header in request"
    },
    {
      "name": "InvalidIdempotencyKey",
      "status_code": 400,
      "message": "Header 'Idempotency-Key' must be a valid UUID",
      "description": "Idempotency key format is invalid",
      "resolution": "Use a valid UUID v4 format"
    },
    {
      "name": "IdempotencyConflict",
      "status_code": 409,
      "message": "Idempotency key already used with different payload",
      "description": "Same idempotency key used with different request body",
      "resolution": "Use a new idempotency key or retry with same payload"
    },
    {
      "name": "Unauthorized",
      "status_code": 401,
      "message": "Authentication required",
      "description": "Missing or invalid Bearer token",
      "resolution": "Include valid 'Authorization: Bearer <token>' header"
    },
    {
      "name": "Forbidden",
      "status_code": 403,
      "message": "Access denied",
      "description": "Valid token but insufficient permissions",
      "resolution": "Contact administrator to request required permissions"
    },
    {
      "name": "OnboardingCaseNotFound",
      "status_code": 404,
      "message": "Onboarding case with ID {id} was not found",
      "description": "Requested resource does not exist",
      "resolution": "Verify the case ID and try again"
    },
    {
      "name": "ResourceNotFound",
      "status_code": 404,
      "message": "The requested resource was not found",
      "description": "Generic resource not found error"
    },
    {
      "name": "InvalidOperation",
      "status_code": 400,
      "message": "Cannot perform operation in current state",
      "description": "Business rule violation",
      "example": {
        "name": "InvalidOperation",
        "message": "Cannot submit case in status Approved",
        "debug_id": "req-uuid"
      }
    },
    {
      "name": "DuplicateResource",
      "status_code": 409,
      "message": "Resource already exists",
      "description": "Attempted to create duplicate resource",
      "resolution": "Use PUT to update existing resource or use different identifier"
    },
    {
      "name": "PreconditionFailed",
      "status_code": 412,
      "message": "If-Match header does not match current ETag",
      "description": "Resource was modified since last read (optimistic locking)",
      "resolution": "Fetch latest version and retry with updated ETag"
    },
    {
      "name": "UnsupportedMediaType",
      "status_code": 415,
      "message": "Content-Type must be application/json",
      "description": "Non-JSON content type in request",
      "resolution": "Set Content-Type header to application/json"
    },
    {
      "name": "RateLimitExceeded",
      "status_code": 429,
      "message": "Rate limit exceeded. Try again in {seconds} seconds.",
      "description": "Too many requests in time window",
      "resolution": "Wait for Retry-After duration and try again",
      "headers": {
        "Retry-After": "60",
        "X-RateLimit-Limit": "1000",
        "X-RateLimit-Remaining": "0",
        "X-RateLimit-Reset": "1640000000"
      }
    },
    {
      "name": "InternalServerError",
      "status_code": 500,
      "message": "An unexpected error occurred. Please try again later.",
      "description": "Unhandled server-side exception",
      "resolution": "Contact support with debug_id if error persists"
    },
    {
      "name": "BadGateway",
      "status_code": 502,
      "message": "Upstream service error",
      "description": "Dependent service failed",
      "resolution": "Retry request or check status page"
    },
    {
      "name": "ServiceUnavailable",
      "status_code": 503,
      "message": "Service temporarily unavailable",
      "description": "Service is down for maintenance or overloaded",
      "resolution": "Wait and retry after Retry-After duration",
      "headers": {
        "Retry-After": "300"
      }
    },
    {
      "name": "GatewayTimeout",
      "status_code": 504,
      "message": "Request timeout",
      "description": "Request took too long to process",
      "resolution": "Retry request or simplify query"
    },
    {
      "name": "DatabaseConnectionError",
      "status_code": 503,
      "message": "Database temporarily unavailable",
      "description": "Cannot connect to database",
      "resolution": "Retry after a short delay"
    },
    {
      "name": "EventPublishError",
      "status_code": 500,
      "message": "Failed to publish event",
      "description": "Message broker unavailable",
      "resolution": "Operation may complete eventually via outbox pattern"
    }
  ],
  "common_validation_errors": [
    {
      "code": "REQUIRED_FIELD",
      "message": "Field is required",
      "description": "Required field was not provided"
    },
    {
      "code": "INVALID_FORMAT",
      "message": "Invalid format",
      "description": "Field does not match expected format"
    },
    {
      "code": "INVALID_EMAIL",
      "message": "Invalid email address",
      "description": "Email format is invalid"
    },
    {
      "code": "INVALID_DATE",
      "message": "Invalid date format",
      "description": "Date must be in ISO 8601 format (YYYY-MM-DD)"
    },
    {
      "code": "INVALID_UUID",
      "message": "Invalid UUID format",
      "description": "UUID must be in format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
    },
    {
      "code": "STRING_TOO_LONG",
      "message": "String exceeds maximum length",
      "description": "Field value is longer than allowed"
    },
    {
      "code": "STRING_TOO_SHORT",
      "message": "String below minimum length",
      "description": "Field value is shorter than required"
    },
    {
      "code": "NUMBER_TOO_LARGE",
      "message": "Number exceeds maximum value",
      "description": "Numeric value is greater than allowed"
    },
    {
      "code": "NUMBER_TOO_SMALL",
      "message": "Number below minimum value",
      "description": "Numeric value is less than required"
    },
    {
      "code": "INVALID_ENUM",
      "message": "Value not in allowed list",
      "description": "Value must be one of the allowed enum values"
    },
    {
      "code": "AGE_REQUIREMENT",
      "message": "Applicant must be at least 18 years old",
      "description": "Date of birth indicates applicant is under 18"
    },
    {
      "code": "INVALID_COUNTRY_CODE",
      "message": "Country code must be ISO 3166-1 alpha-2 format",
      "description": "Use 2-letter country codes (e.g., US, GB, DE)"
    }
  ]
}

