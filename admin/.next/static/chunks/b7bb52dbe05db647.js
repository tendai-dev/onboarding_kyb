;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="f260f303-9996-aade-1c4b-e3da5234c154")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,233525,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},343827,e=>{"use strict";var t=e.i(843476),i=e.i(618566),r=e.i(526732);e.i(643983);var n=e.i(307167),s=e.i(44999),a=e.i(843011),o=e.i(361035),l=e.i(761869),u=e.i(299753),c=e.i(192199),d=e.i(617029);function p(){let e=(0,i.useRouter)(),{data:p}=(0,r.useSession)(),{condensed:h,setCondensed:y}=(0,d.useSidebar)(),f=p?.user?.name||"Admin",m=p?.user?.email||"admin@mukuru.com";return f.split(" ")[0]?.toLowerCase(),(0,t.jsx)(a.Box,{position:"fixed",top:"0",left:h?"72px":"280px",right:"0",height:"90px",bg:"white",zIndex:"999",px:"6",py:"4",pl:"6",transition:"left 0.3s ease, width 0.3s ease",className:"portal-header",borderBottom:"1px solid",borderColor:"rgba(55, 58, 54, 0.15)",children:(0,t.jsxs)(l.Flex,{justify:"space-between",align:"center",width:"full",height:"full",children:[(0,t.jsx)(o.HStack,{gap:"4",align:"center",children:(0,t.jsx)(u.Button,{variant:"ghost",onClick:()=>y(!h),p:"2",borderRadius:"full",minW:"40px",h:"40px",bg:"gray.100",_hover:{bg:"gray.200"},"aria-label":"Toggle sidebar",border:"none",_focus:{boxShadow:"none",outline:"none"},_active:{bg:"gray.200"},children:(0,t.jsx)(s.IconWrapper,{children:(0,t.jsx)(c.FiArrowLeft,{size:20,color:"#F05423"})})})}),(0,t.jsx)(o.HStack,{gap:"4",align:"center",children:(0,t.jsx)(n.ProfileMenu,{user:f,menuItems:[{id:0,label:m,value:"email"},{id:1,label:"My Profile",value:"profile",onSelect:()=>e.push("/profile")},{id:2,label:"Settings",value:"settings",onSelect:()=>e.push("/settings")},{id:3,label:"Log Out",value:"logout",onSelect:()=>e.push("/api/auth/logout")}]})})]})})}e.s(["default",()=>p])},618566,(e,t,i)=>{t.exports=e.r(976562)},862873,e=>{"use strict";var t=e.i(843476),i=e.i(271645),r=e.i(618566);e.i(643983);var n=e.i(355569),s=e.i(111977),a=e.i(134590),o=e.i(179243),l=e.i(119192),u=e.i(307124),c=e.i(857692),d=e.i(194741),p=e.i(489312),h=e.i(357441),y=e.i(843011),f=e.i(617029);function m(){let e=(0,r.usePathname)(),m=(0,r.useRouter)(),{condensed:g,setCondensed:x}=(0,f.useSidebar)(),[b,v]=(0,i.useState)("dashboard");(0,i.useEffect)(()=>{"/dashboard"===e?v("dashboard"):e?.startsWith("/work-queue")?v("work-queue"):e?.startsWith("/applications")?v("applications"):e?.startsWith("/review")||e?.startsWith("/risk-review")||e?.startsWith("/approvals")?v("reviews"):e?.startsWith("/documents")?v("documents"):e?.startsWith("/requirements")?v("requirements"):e?.startsWith("/entity-types")?v("entity-types"):e?.startsWith("/checklists")?v("checklists"):e?.startsWith("/wizard-configurations")?v("wizard-configurations"):e?.startsWith("/rules-and-permissions")?v("rules-and-permissions"):e?.startsWith("/audit-log")?v("audit-log"):e?.startsWith("/messages")?v("messages"):e?.startsWith("/notifications")?v("notifications"):e?.startsWith("/data-migration")?v("data-migration"):e?.startsWith("/refreshes")?v("refreshes"):e?.startsWith("/reports")?v("reports"):e?.startsWith("/profile")?v("profile"):e?.startsWith("/settings")&&v("settings")},[e]);let w=(0,i.useMemo)(()=>[{id:"dashboard",label:"Dashboard",icon:(0,t.jsx)(s.ProductIcon,{width:"20",height:"20"}),onClick:()=>{v("dashboard"),m.push("/dashboard")}},{id:"work-queue",label:"Work Queue",icon:(0,t.jsx)(p.FilterIcon,{width:"20",height:"20"}),onClick:()=>{v("work-queue"),m.push("/work-queue")}},{id:"applications",label:"Applications",icon:(0,t.jsx)(c.AppIcon,{width:"20",height:"20"}),onClick:()=>{v("applications"),m.push("/applications")}},{id:"reviews",label:"Reviews",icon:(0,t.jsx)(o.DocumentIcon,{width:"20",height:"20"}),onClick:()=>{v("reviews"),m.push("/review")},subItems:[{id:"risk-review",label:"Risk Review",onClick:()=>{v("reviews"),m.push("/risk-review")}},{id:"approvals",label:"Approvals",onClick:()=>{v("reviews"),m.push("/approvals")}}]},{id:"documents",label:"Documents",icon:(0,t.jsx)(d.FileOpenIcon,{width:"20",height:"20"}),onClick:()=>{v("documents"),m.push("/documents")}},{id:"configuration",label:"Configuration",icon:(0,t.jsx)(l.SettingsIcon,{width:"20",height:"20"}),onClick:()=>{v("configuration"),m.push("/requirements")},subItems:[{id:"requirements",label:"Requirements",onClick:()=>{v("configuration"),m.push("/requirements")}},{id:"entity-types",label:"Entity Types",onClick:()=>{v("configuration"),m.push("/entity-types")}},{id:"checklists",label:"Checklists",onClick:()=>{v("configuration"),m.push("/checklists")}},{id:"wizard-configurations",label:"Wizard Configurations",onClick:()=>{v("configuration"),m.push("/wizard-configurations")}},{id:"rules-and-permissions",label:"Rules & Permissions",onClick:()=>{v("configuration"),m.push("/rules-and-permissions")}}]},{id:"system",label:"System",icon:(0,t.jsx)(h.WarningIcon,{width:"20",height:"20"}),onClick:()=>{v("system"),m.push("/audit-log")},subItems:[{id:"audit-log",label:"Audit Log",onClick:()=>{v("system"),m.push("/audit-log")}},{id:"messages",label:"Messages",onClick:()=>{v("system"),m.push("/messages")}},{id:"notifications",label:"Notifications",onClick:()=>{v("system"),m.push("/notifications")}},{id:"data-migration",label:"Data Migration",onClick:()=>{v("system"),m.push("/data-migration")}},{id:"refreshes",label:"Refreshes",onClick:()=>{v("system"),m.push("/refreshes")}}]},{id:"reports",label:"Reports",icon:(0,t.jsx)(o.DocumentIcon,{width:"20",height:"20"}),onClick:()=>{v("reports"),m.push("/reports")}},{id:"profile",label:"Profile",icon:(0,t.jsx)(a.UserIcon,{width:"20",height:"20"}),onClick:()=>{v("profile"),m.push("/profile")}}],[m]),C={id:"help-centre",label:"Help Centre",icon:(0,t.jsx)(u.HelpIcon,{width:"20",height:"20"}),onClick:()=>{console.log("Help Centre")}};return(0,t.jsx)(y.Box,{position:"fixed",left:"0",top:"0",height:"100vh",width:g?"72px":"280px",borderRight:"1px solid",borderColor:"rgba(55, 58, 54, 0.15)",zIndex:"1000",className:"sidebar-wrapper",bg:"#F9FAFB",overflowY:"auto",transition:"width 0.3s ease",children:(0,t.jsx)(n.PortalNavigationSidebar,{navigationItems:w,helpCentreItem:C,activeItemId:b,condensed:g,onToggleCollapse:x,onLogoClick:()=>{v("dashboard"),m.push("/dashboard")},expandedWidth:"280px",condensedWidth:"72px"})})}e.s(["default",()=>m])},297630,e=>{"use strict";let{withContext:t,PropsProvider:i}=(0,e.i(552887).createRecipeContext)({key:"container"}),r=t("div");e.s(["Container",()=>r])},337880,e=>{"use strict";e.i(247167).default.env.NEXT_PUBLIC_ENTITY_CONFIG_API_BASE_URL;let t=new class{async getAuthHeaders(){let t={"Content-Type":"application/json"};try{let e=await fetch("/api/auth/session"),i=await e.json();i?.user?.email&&(t["X-User-Email"]=i.user.email),i?.user?.name&&(t["X-User-Name"]=i.user.name)}catch(t){{let{clientSentry:i}=await e.A(661405);i.reportError(t,{tags:{error_type:"entity_config_api",operation:"get_session"},level:"warning"})}}return t}async request(e,t){let i,r;e.startsWith("/requirements")?(i="/api/requirements",r=""):(e.startsWith("/wizardconfigurations")||e.startsWith("/entity-types"),i="/api/rules-and-permissions",r=e);let n=`${i}${r}`,s=await this.getAuthHeaders();try{let e=new Promise((e,t)=>{setTimeout(()=>t(Error("Request timeout")),1e4)}),i=fetch(n,{...t,headers:{...s,...t?.headers}}),r=await Promise.race([i,e]);if(!r.ok){let e=await r.text(),t=`Entity Config API request failed: ${r.status} ${r.statusText}`;try{let i=JSON.parse(e);i.message?t=i.message:i.error&&(t=i.error)}catch{e&&e.trim().length>0&&(t=e.length>200?e.substring(0,200)+"...":e)}throw Error(t)}if(204===r.status)return null;return r.json()}catch(e){if(e instanceof TypeError||e instanceof Error&&e.message.includes("timeout"))throw Error("Unable to connect to Entity Configuration service");throw e}}async getEntityTypes(e=!1,t=!0){let i=new URLSearchParams;e&&i.append("includeInactive","true"),t&&i.append("includeRequirements","true");let r=i.toString();return(await this.request(`/entity-types${r?`?${r}`:""}`)).map(e=>{let t=e.requirements||e.Requirements||[];return Array.isArray(t)&&t.length>0&&(t=t.map(e=>({id:e.id||e.Id,requirementId:e.requirementId||e.RequirementId||e.requirement_id,isRequired:void 0!==e.isRequired?e.isRequired:void 0!==e.IsRequired?e.IsRequired:void 0!==e.is_required&&e.is_required,displayOrder:e.displayOrder||e.DisplayOrder||e.display_order||0,requirement:e.requirement||e.Requirement}))),{id:e.id||e.Id,code:e.code||e.Code,displayName:e.displayName||e.DisplayName||e.display_name||e.code||"Unnamed",description:e.description||e.Description||e.description||"",icon:e.icon||e.Icon,isActive:void 0!==e.isActive?e.isActive:void 0!==e.IsActive?e.IsActive:void 0===e.is_active||e.is_active,createdAt:e.createdAt||e.CreatedAt||e.created_at||"",updatedAt:e.updatedAt||e.UpdatedAt||e.updated_at||"",requirements:t}})}async getEntityType(e,t=!0){let i=t?`/entity-types/${e}?includeRequirements=true`:`/entity-types/${e}`;return this.request(i)}async getEntityTypeByCode(t,i=!0){let r=t.trim();console.log("[EntityConfigAPI] Fetching entity type by code (as-is from application):",r);try{let e=await this.request(`/entity-types/by-code/${encodeURIComponent(r)}`);return console.log("[EntityConfigAPI] âœ… Successfully fetched entity type:",e?.code),e}catch(t){{let{clientSentry:i}=await e.A(661405);i.reportError(t,{tags:{error_type:"entity_config_api",operation:"fetch_entity_type_by_code"},extra:{code:r},level:"error"})}return null}}async createEntityType(e){return this.request("/entity-types",{method:"POST",body:JSON.stringify(e)})}async updateEntityType(e,t){return this.request(`/entity-types/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteEntityType(e){return this.request(`/entity-types/${e}`,{method:"DELETE"})}async getRequirements(e=!1){return(await this.request(`/requirements${e?"?includeInactive=true":""}`)).map(e=>({id:e.id||e.Id,code:e.code||e.Code,displayName:e.displayName||e.DisplayName||e.display_name||e.code||"Unnamed",description:e.description||e.Description||e.description||"",type:e.type||e.Type||e.type||"",fieldType:e.fieldType||e.FieldType||e.field_type||"",validationRules:e.validationRules||e.ValidationRules||e.validation_rules,helpText:e.helpText||e.HelpText||e.help_text,isActive:void 0!==e.isActive?e.isActive:void 0!==e.IsActive?e.IsActive:void 0===e.is_active||e.is_active,createdAt:e.createdAt||e.CreatedAt||e.created_at||"",updatedAt:e.updatedAt||e.UpdatedAt||e.updated_at||"",options:e.options||e.Options||[]}))}async getRequirement(e){return this.request(`/requirements/${e}`)}async createRequirement(e){return this.request("/requirements",{method:"POST",body:JSON.stringify(e)})}async updateRequirement(e,t){return this.request(`/requirements/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteRequirement(e){return this.request(`/requirements/${e}`,{method:"DELETE"})}async getRequirementsMetadata(){return this.request("/requirements/metadata")}async getRequirementOptions(e){return this.request(`/requirements/${e}/options`)}async addRequirementOption(e,t){return this.request(`/requirements/${e}/options`,{method:"POST",body:JSON.stringify(t)})}async updateRequirementOption(e,t,i){return this.request(`/requirements/${e}/options/${t}`,{method:"PUT",body:JSON.stringify(i)})}async deleteRequirementOption(e,t){return this.request(`/requirements/${e}/options/${t}`,{method:"DELETE"})}async addRequirementToEntityType(e,t){return this.request(`/entity-types/${e}/requirements`,{method:"POST",body:JSON.stringify(t)})}async removeRequirementFromEntityType(e,t){return this.request(`/entity-types/${e}/requirements/${t}`,{method:"DELETE"})}async getWizardConfigurations(e=!1){return(await this.request(`/wizardconfigurations${e?"?includeInactive=true":""}`)).map(e=>({id:e.id,entityTypeId:e.entity_type_id||e.entityTypeId,entityTypeDisplayName:e.entity_type_display_name||e.entityTypeDisplayName,isActive:void 0!==e.is_active?e.is_active:e.isActive,createdAt:e.created_at||e.createdAt,updatedAt:e.updated_at||e.updatedAt,steps:(e.steps||[]).map(e=>({id:e.id,title:e.title,subtitle:e.subtitle,requirementTypes:e.requirement_types||e.requirementTypes||[],checklistCategory:e.checklist_category||e.checklistCategory||"",stepNumber:e.step_number||e.stepNumber||0,isActive:void 0!==e.is_active?e.is_active:e.isActive}))}))}async getWizardConfiguration(e){let t=await this.request(`/wizardconfigurations/${e}`);return{id:t.id,entityTypeId:t.entity_type_id||t.entityTypeId,entityTypeDisplayName:t.entity_type_display_name||t.entityTypeDisplayName,isActive:void 0!==t.is_active?t.is_active:t.isActive,createdAt:t.created_at||t.createdAt,updatedAt:t.updated_at||t.updatedAt,steps:(t.steps||[]).map(e=>({id:e.id,title:e.title,subtitle:e.subtitle,requirementTypes:e.requirement_types||e.requirementTypes||[],checklistCategory:e.checklist_category||e.checklistCategory||"",stepNumber:e.step_number||e.stepNumber||0,isActive:void 0!==e.is_active?e.is_active:e.isActive}))}}async getWizardConfigurationByEntityType(t){try{return this.request(`/wizardconfigurations/by-entity-type/${t}`)}catch(i){{let{clientSentry:r}=await e.A(661405);r.reportError(i,{tags:{error_type:"entity_config_api",operation:"fetch_wizard_config"},extra:{entityTypeId:t},level:"error"})}return null}}async createWizardConfiguration(e){return this.request("/wizardconfigurations",{method:"POST",body:JSON.stringify(e)})}async updateWizardConfiguration(e,t){return this.request(`/wizardconfigurations/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteWizardConfiguration(e){return this.request(`/wizardconfigurations/${e}`,{method:"DELETE"})}};e.s(["FieldType",0,{Text:"Text",Email:"Email",Phone:"Phone",Number:"Number",Date:"Date",Select:"Select",MultiSelect:"MultiSelect",Radio:"Radio",Checkbox:"Checkbox",Textarea:"Textarea",File:"File",Country:"Country",Currency:"Currency",Address:"Address"},"RequirementType",0,{Information:1,Document:2,ProofOfIdentity:3,ProofOfAddress:4,OwnershipStructure:5,BoardDirectors:6,AuthorizedSignatories:7},"entityConfigApiService",0,t])},998183,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r={assign:function(){return l},searchParamsToUrlQuery:function(){return s},urlQueryToSearchParams:function(){return o}};for(var n in r)Object.defineProperty(i,n,{enumerable:!0,get:r[n]});function s(e){let t={};for(let[i,r]of e.entries()){let e=t[i];void 0===e?t[i]=r:Array.isArray(e)?e.push(r):t[i]=[e,r]}return t}function a(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function o(e){let t=new URLSearchParams;for(let[i,r]of Object.entries(e))if(Array.isArray(r))for(let e of r)t.append(i,a(e));else t.set(i,a(r));return t}function l(e,...t){for(let i of t){for(let t of i.keys())e.delete(t);for(let[t,r]of i.entries())e.append(t,r)}return e}},195057,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r={formatUrl:function(){return o},formatWithValidation:function(){return u},urlObjectKeys:function(){return l}};for(var n in r)Object.defineProperty(i,n,{enumerable:!0,get:r[n]});let s=e.r(190809)._(e.r(998183)),a=/https?|ftp|gopher|file/;function o(e){let{auth:t,hostname:i}=e,r=e.protocol||"",n=e.pathname||"",o=e.hash||"",l=e.query||"",u=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?u=t+e.host:i&&(u=t+(~i.indexOf(":")?`[${i}]`:i),e.port&&(u+=":"+e.port)),l&&"object"==typeof l&&(l=String(s.urlQueryToSearchParams(l)));let c=e.search||l&&`?${l}`||"";return r&&!r.endsWith(":")&&(r+=":"),e.slashes||(!r||a.test(r))&&!1!==u?(u="//"+(u||""),n&&"/"!==n[0]&&(n="/"+n)):u||(u=""),o&&"#"!==o[0]&&(o="#"+o),c&&"?"!==c[0]&&(c="?"+c),n=n.replace(/[?#]/g,encodeURIComponent),c=c.replace("#","%23"),`${r}${u}${n}${c}${o}`}let l=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function u(e){return o(e)}},818581,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"useMergedRef",{enumerable:!0,get:function(){return n}});let r=e.r(271645);function n(e,t){let i=(0,r.useRef)(null),n=(0,r.useRef)(null);return(0,r.useCallback)(r=>{if(null===r){let e=i.current;e&&(i.current=null,e());let t=n.current;t&&(n.current=null,t())}else e&&(i.current=s(e,r)),t&&(n.current=s(t,r))},[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let i=e(t);return"function"==typeof i?i:()=>e(null)}}("function"==typeof i.default||"object"==typeof i.default&&null!==i.default)&&void 0===i.default.__esModule&&(Object.defineProperty(i.default,"__esModule",{value:!0}),Object.assign(i.default,i),t.exports=i.default)},718967,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r={DecodeError:function(){return g},MiddlewareNotFoundError:function(){return w},MissingStaticPage:function(){return v},NormalizeError:function(){return x},PageNotFoundError:function(){return b},SP:function(){return f},ST:function(){return m},WEB_VITALS:function(){return s},execOnce:function(){return a},getDisplayName:function(){return d},getLocationOrigin:function(){return u},getURL:function(){return c},isAbsoluteUrl:function(){return l},isResSent:function(){return p},loadGetInitialProps:function(){return y},normalizeRepeatedSlashes:function(){return h},stringifyError:function(){return C}};for(var n in r)Object.defineProperty(i,n,{enumerable:!0,get:r[n]});let s=["CLS","FCP","FID","INP","LCP","TTFB"];function a(e){let t,i=!1;return(...r)=>(i||(i=!0,t=e(...r)),t)}let o=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>o.test(e);function u(){let{protocol:e,hostname:t,port:i}=window.location;return`${e}//${t}${i?":"+i:""}`}function c(){let{href:e}=window.location,t=u();return e.substring(t.length)}function d(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function p(e){return e.finished||e.headersSent}function h(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function y(e,t){let i=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await y(t.Component,t.ctx)}:{};let r=await e.getInitialProps(t);if(i&&p(i))return r;if(!r)throw Object.defineProperty(Error(`"${d(e)}.getInitialProps()" should resolve to an object. But found "${r}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return r}let f="undefined"!=typeof performance,m=f&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class g extends Error{}class x extends Error{}class b extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class v extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class w extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function C(e){return JSON.stringify({message:e.message,stack:e.stack})}},573668,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"isLocalURL",{enumerable:!0,get:function(){return s}});let r=e.r(718967),n=e.r(652817);function s(e){if(!(0,r.isAbsoluteUrl)(e))return!0;try{let t=(0,r.getLocationOrigin)(),i=new URL(e,t);return i.origin===t&&(0,n.hasBasePath)(i.pathname)}catch(e){return!1}}},284508,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"errorOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},522016,(e,t,i)=>{"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r={default:function(){return g},useLinkStatus:function(){return b}};for(var n in r)Object.defineProperty(i,n,{enumerable:!0,get:r[n]});let s=e.r(190809),a=e.r(843476),o=s._(e.r(271645)),l=e.r(195057),u=e.r(8372),c=e.r(818581),d=e.r(718967),p=e.r(405550);e.r(233525);let h=e.r(769688),y=e.r(573668),f=e.r(509396);function m(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}function g(t){var i;let r,n,s,[l,g]=(0,o.useOptimistic)(h.IDLE_LINK_STATUS),b=(0,o.useRef)(null),{href:v,as:w,children:C,prefetch:T=null,passHref:j,replace:S,shallow:E,scroll:_,onClick:A,onMouseEnter:q,onTouchStart:F,legacyBehavior:k=!1,onNavigate:I,ref:P,unstable_dynamicOnHover:R,...N}=t;r=C,k&&("string"==typeof r||"number"==typeof r)&&(r=(0,a.jsx)("a",{children:r}));let O=o.default.useContext(u.AppRouterContext),W=!1!==T,$=!1!==T?null===(i=T)||"auto"===i?f.FetchStrategy.PPR:f.FetchStrategy.Full:f.FetchStrategy.PPR,{href:B,as:z}=o.default.useMemo(()=>{let e=m(v);return{href:e,as:w?m(w):e}},[v,w]);if(k){if(r?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});n=o.default.Children.only(r)}let D=k?n&&"object"==typeof n&&n.ref:P,L=o.default.useCallback(e=>(null!==O&&(b.current=(0,h.mountLinkInstance)(e,B,O,$,W,g)),()=>{b.current&&((0,h.unmountLinkForCurrentNavigation)(b.current),b.current=null),(0,h.unmountPrefetchableInstance)(e)}),[W,B,O,$,g]),U={ref:(0,c.useMergedRef)(L,D),onClick(t){k||"function"!=typeof A||A(t),k&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(t),!O||t.defaultPrevented||function(t,i,r,n,s,a,l){if("undefined"!=typeof window){let u,{nodeName:c}=t.currentTarget;if("A"===c.toUpperCase()&&((u=t.currentTarget.getAttribute("target"))&&"_self"!==u||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,y.isLocalURL)(i)){s&&(t.preventDefault(),location.replace(i));return}if(t.preventDefault(),l){let e=!1;if(l({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:d}=e.r(699781);o.default.startTransition(()=>{d(r||i,s?"replace":"push",a??!0,n.current)})}}(t,B,z,b,S,_,I)},onMouseEnter(e){k||"function"!=typeof q||q(e),k&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),O&&W&&(0,h.onNavigationIntent)(e.currentTarget,!0===R)},onTouchStart:function(e){k||"function"!=typeof F||F(e),k&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),O&&W&&(0,h.onNavigationIntent)(e.currentTarget,!0===R)}};return(0,d.isAbsoluteUrl)(z)?U.href=z:k&&!j&&("a"!==n.type||"href"in n.props)||(U.href=(0,p.addBasePath)(z)),s=k?o.default.cloneElement(n,U):(0,a.jsx)("a",{...N,...U,children:r}),(0,a.jsx)(x.Provider,{value:l,children:s})}e.r(284508);let x=(0,o.createContext)(h.IDLE_LINK_STATUS),b=()=>(0,o.useContext)(x);("function"==typeof i.default||"object"==typeof i.default&&null!==i.default)&&void 0===i.default.__esModule&&(Object.defineProperty(i.default,"__esModule",{value:!0}),Object.assign(i.default,i),t.exports=i.default)},522612,e=>{"use strict";var t=e.i(843476),i=e.i(843011),r=e.i(297630),n=e.i(53545),s=e.i(361035),a=e.i(761869);e.i(643983);var o=e.i(825402),l=e.i(554646),u=e.i(613056),c=e.i(191348),d=e.i(44999),p=e.i(312569),h=e.i(927561),y=e.i(228427),f=e.i(192199),m=e.i(862873),g=e.i(343827),x=e.i(617029),b=e.i(522016),v=e.i(271645),w=e.i(337880),C=e.i(178849);function T(){let{condensed:e}=(0,x.useSidebar)(),[T,j]=(0,v.useState)([]),[S,E]=(0,v.useState)([]),[_,A]=(0,v.useState)(!1),[q,F]=(0,v.useState)(null),[k,I]=(0,v.useState)(null),[P,R]=(0,v.useState)(""),[N,O]=(0,v.useState)("all"),[W,$]=(0,v.useState)(0),B=(0,v.useCallback)(async()=>{try{A(!0),F(null);let[e,t]=await Promise.all([w.entityConfigApiService.getEntityTypes(!1,!0),w.entityConfigApiService.getRequirements(!1)]);j(e),E(t)}catch(e){F(e instanceof Error?e.message:"Failed to load entity types"),console.error("[Entity Types Page] Error loading data:",e)}finally{A(!1)}},[N,P]);(0,v.useEffect)(()=>{B()},[B]);let z=async e=>{if((await C.SweetAlert.confirm("Delete Entity Type","Are you sure you want to delete this entity type? This action cannot be undone.","Yes, delete it!","Cancel")).isConfirmed)try{I(e),C.SweetAlert.loading("Deleting...","Please wait while we delete the entity type."),await w.entityConfigApiService.deleteEntityType(e),j(t=>t.filter(t=>t.id!==e)),$(e=>e+1),C.SweetAlert.close(),await C.SweetAlert.success("Deleted!","Entity type has been deleted successfully.")}catch(t){C.SweetAlert.close();let e=t instanceof Error?t.message:"Failed to delete entity type";F(e),console.error("Error deleting entity type:",t),await C.SweetAlert.error("Delete Failed",e)}finally{I(null)}},D=(0,v.useCallback)(e=>{R(e)},[]),L=T.filter(e=>{if("all"!==N){let t="active"===N;if(e.isActive!==t)return!1}if(P.trim()){let t=P.toLowerCase();return e.displayName.toLowerCase().includes(t)||e.code.toLowerCase().includes(t)||e.description?.toLowerCase().includes(t)}return!0}),U=[{field:"displayName",header:"Entity Type",sortable:!0,width:"350px",minWidth:"350px",render:(e,r)=>{var a;let o=(a=r.icon,({FiBriefcase:f.FiBriefcase,FiShield:f.FiShield,FiHeart:f.FiHeart,FiUsers:f.FiUsers,FiUser:f.FiUser,FiGlobe:f.FiGlobe,FiTrendingUp:f.FiTrendingUp,FiFileText:f.FiFileText})[a||"FiFileText"]||f.FiFileText);return(0,t.jsxs)(s.HStack,{gap:"12px",align:"start",w:"100%",children:[(0,t.jsx)(i.Box,{w:"40px",h:"40px",borderRadius:"8px",bg:"#FFF4ED",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,children:(0,t.jsx)(d.IconWrapper,{children:(0,t.jsx)(o,{size:20,color:"#FF6B35"})})}),(0,t.jsxs)(n.VStack,{align:"start",gap:"4px",flex:"1",minW:"0",children:[(0,t.jsx)(l.Typography,{fontSize:"14px",fontWeight:"600",color:"#111827",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"100%"},children:r.displayName}),(0,t.jsx)(l.Typography,{fontSize:"12px",color:"#6B7280",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:r.description||"No description provided"})]})]})}},{field:"code",header:"Code",sortable:!0,width:"200px",minWidth:"200px",render:e=>(0,t.jsx)(i.Box,{display:"flex",alignItems:"center",h:"100%",children:(0,t.jsx)(u.Tag,{variant:"info",children:(0,t.jsx)(l.Typography,{as:"span",fontSize:"12px",fontFamily:"mono",color:"#374151",fontWeight:"500",children:String(e||"")})})})},{field:"requirements",header:"Requirements",sortable:!1,width:"280px",minWidth:"280px",render:(e,r)=>{var a;let o=(a=r.requirements)&&0!==a.length?a.map(e=>{if(e.requirement)return e.requirement.displayName;let t=S.find(t=>t.id===e.requirementId);return t?t.displayName:e.requirementId}):[];return 0===o.length?(0,t.jsx)(i.Box,{display:"flex",alignItems:"center",h:"100%",children:(0,t.jsx)(l.Typography,{fontSize:"13px",color:"#9CA3AF",fontStyle:"italic",children:"No requirements assigned"})}):(0,t.jsxs)(n.VStack,{align:"start",gap:"6px",w:"100%",children:[(0,t.jsxs)(s.HStack,{gap:"4px",wrap:"wrap",maxW:"100%",children:[o.slice(0,3).map((e,i)=>(0,t.jsx)(u.Tag,{variant:"info",style:{fontSize:"11px",padding:"2px 8px"},children:e},i)),o.length>3&&(0,t.jsxs)(u.Tag,{variant:"info",style:{fontSize:"11px",padding:"2px 8px"},children:["+",o.length-3," more"]})]}),(0,t.jsxs)(l.Typography,{fontSize:"11px",color:"#6B7280",fontWeight:"500",children:[o.length," requirement",1!==o.length?"s":""]})]})}},{field:"isActive",header:"Status",sortable:!0,width:"120px",minWidth:"120px",render:e=>(0,t.jsx)(i.Box,{display:"flex",alignItems:"center",h:"100%",children:(0,t.jsx)(u.Tag,{variant:e?"success":"inactive",style:{fontWeight:"500"},children:e?"Active":"Inactive"})})},{field:"id",header:"Actions",sortable:!1,width:"200px",minWidth:"200px",render:(e,r)=>(0,t.jsx)(i.Box,{display:"flex",alignItems:"center",justifyContent:"center",h:"100%",w:"100%",children:(0,t.jsxs)(s.HStack,{gap:"8px",justify:"center",align:"center",children:[(0,t.jsx)(y.Tooltip,{content:"Edit entity type",children:(0,t.jsx)(b.default,{href:`/entity-types/edit/${r.id}`,style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsxs)("button",{style:{padding:"8px 12px",border:"1px solid #E5E7EB",background:"#FFFFFF",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"6px",gap:"6px",fontSize:"13px",fontWeight:"500",color:"#374151",transition:"all 0.2s",minWidth:"70px"},onMouseEnter:e=>{e.currentTarget.style.background="#F9FAFB",e.currentTarget.style.borderColor="#D1D5DB"},onMouseLeave:e=>{e.currentTarget.style.background="#FFFFFF",e.currentTarget.style.borderColor="#E5E7EB"},children:[(0,t.jsx)(d.IconWrapper,{children:(0,t.jsx)(f.FiEdit3,{size:14,color:"#374151"})}),(0,t.jsx)("span",{children:"Edit"})]})})}),(0,t.jsx)(y.Tooltip,{content:"Delete entity type",children:(0,t.jsxs)("button",{onClick:()=>z(r.id),disabled:k===r.id,style:{padding:"8px 12px",border:"1px solid #E5E7EB",background:k===r.id?"#F3F4F6":"#FFFFFF",cursor:k===r.id?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"6px",gap:"6px",fontSize:"13px",fontWeight:"500",color:k===r.id?"#9CA3AF":"#DC2626",transition:"all 0.2s",minWidth:"75px",opacity:k===r.id?.6:1},onMouseEnter:e=>{k!==r.id&&(e.currentTarget.style.background="#FEF2F2",e.currentTarget.style.borderColor="#FECACA")},onMouseLeave:e=>{k!==r.id&&(e.currentTarget.style.background="#FFFFFF",e.currentTarget.style.borderColor="#E5E7EB")},children:[(0,t.jsx)(d.IconWrapper,{children:(0,t.jsx)(f.FiTrash2,{size:14,color:k===r.id?"#9CA3AF":"#DC2626"})}),(0,t.jsx)("span",{children:k===r.id?"Deleting...":"Delete"})]})})]})})}];return(0,t.jsxs)(a.Flex,{minH:"100vh",bg:"gray.50",children:[(0,t.jsx)(m.default,{}),(0,t.jsx)(g.default,{}),(0,t.jsx)(i.Box,{ml:e?"72px":"280px",mt:"90px",minH:"calc(100vh - 90px)",width:e?"calc(100% - 72px)":"calc(100% - 280px)",bg:"gray.50",overflowX:"hidden",transition:"margin-left 0.3s ease, width 0.3s ease",children:(0,t.jsxs)(n.VStack,{gap:"4",align:"stretch",w:"100%",children:[(0,t.jsx)(r.Container,{maxW:"100%",px:"8",py:"6",width:"full",children:(0,t.jsxs)(a.Flex,{justify:"space-between",align:"center",mb:"4",children:[(0,t.jsxs)(i.Box,{children:[(0,t.jsx)(l.Typography,{fontSize:"28px",fontWeight:"600",color:"#111827",mb:"4px",children:"Entity Types"}),(0,t.jsx)(l.Typography,{fontSize:"14px",color:"#6B7280",children:"Create and configure entity types for KYB applications"})]}),(0,t.jsx)(b.default,{href:"/entity-types/create",children:(0,t.jsxs)(c.Button,{variant:"primary",className:"mukuru-primary-button",children:[(0,t.jsx)(d.IconWrapper,{children:(0,t.jsx)(f.FiPlus,{size:16})}),"New Entity Type"]})})]})}),q&&(0,t.jsx)(r.Container,{maxW:"100%",px:"8",width:"full",children:(0,t.jsx)(h.AlertBar,{status:"error",title:"Error loading entity types",description:q})}),(0,t.jsx)(r.Container,{maxW:"100%",px:"8",width:"full",children:(0,t.jsxs)(n.VStack,{gap:"4",align:"stretch",children:[(0,t.jsx)(i.Box,{width:"100%",maxW:"800px",children:(0,t.jsx)(o.Search,{placeholder:"Search by name, code, or description...",onSearchChange:D})}),(0,t.jsxs)(s.HStack,{gap:"2",mb:"2",children:[(0,t.jsx)(c.Button,{variant:"all"===N?"primary":"secondary",className:"all"===N?"mukuru-primary-button":"",onClick:()=>O("all"),size:"sm",style:{minWidth:"80px",height:"36px",fontWeight:"500"},children:"All"}),(0,t.jsx)(c.Button,{variant:"active"===N?"primary":"secondary",className:"active"===N?"mukuru-primary-button":"",onClick:()=>O("active"),size:"sm",style:{minWidth:"80px",height:"36px",fontWeight:"500"},children:"Active"}),(0,t.jsx)(c.Button,{variant:"inactive"===N?"primary":"secondary",className:"inactive"===N?"mukuru-primary-button":"",onClick:()=>O("inactive"),size:"sm",style:{minWidth:"80px",height:"36px",fontWeight:"500"},children:"Inactive"})]})]})}),(0,t.jsx)(r.Container,{maxW:"100%",px:"8",py:"8",width:"full",children:(0,t.jsx)(i.Box,{className:"work-queue-table-wrapper",bg:"white",borderRadius:"12px",border:"1px solid #E5E7EB",overflow:"hidden",boxShadow:"sm",children:(0,t.jsx)(p.DataTable,{data:L,columns:U,emptyState:{message:P||"all"!==N?"No matching entity types found. Try adjusting your search criteria or filters.":"No entity types yet. Get started by creating your first entity type."}},`entity-types-${N}-${P}-${W}`)})})]})})]})}e.s(["default",()=>T])},661405,e=>{e.v(t=>Promise.all(["static/chunks/f478692b842c0428.js"].map(t=>e.l(t))).then(()=>t(819252)))}]);

//# debugId=f260f303-9996-aade-1c4b-e3da5234c154
//# sourceMappingURL=6c18b3b83685aa06.js.map