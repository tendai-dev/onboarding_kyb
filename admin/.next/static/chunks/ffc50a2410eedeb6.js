;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="7876c3f6-655f-880b-512b-378e920ec164")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,233525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},618566,(e,t,r)=>{t.exports=e.r(976562)},862873,e=>{"use strict";var t=e.i(843476),r=e.i(271645),n=e.i(618566);e.i(643983);var i=e.i(355569),s=e.i(111977),a=e.i(134590),o=e.i(179243),l=e.i(119192),c=e.i(307124),u=e.i(857692),d=e.i(194741),p=e.i(489312),h=e.i(357441),g=e.i(843011),f=e.i(617029);function y(){let e=(0,n.usePathname)(),y=(0,n.useRouter)(),{condensed:m,setCondensed:x}=(0,f.useSidebar)(),[S,b]=(0,r.useState)("dashboard");(0,r.useEffect)(()=>{"/dashboard"===e?b("dashboard"):e?.startsWith("/work-queue")?b("work-queue"):e?.startsWith("/applications")?b("applications"):e?.startsWith("/review")||e?.startsWith("/risk-review")||e?.startsWith("/approvals")?b("reviews"):e?.startsWith("/documents")?b("documents"):e?.startsWith("/requirements")?b("requirements"):e?.startsWith("/entity-types")?b("entity-types"):e?.startsWith("/checklists")?b("checklists"):e?.startsWith("/wizard-configurations")?b("wizard-configurations"):e?.startsWith("/rules-and-permissions")?b("rules-and-permissions"):e?.startsWith("/audit-log")?b("audit-log"):e?.startsWith("/messages")?b("messages"):e?.startsWith("/notifications")?b("notifications"):e?.startsWith("/data-migration")?b("data-migration"):e?.startsWith("/refreshes")?b("refreshes"):e?.startsWith("/reports")?b("reports"):e?.startsWith("/profile")?b("profile"):e?.startsWith("/settings")&&b("settings")},[e]);let w=(0,r.useMemo)(()=>[{id:"dashboard",label:"Dashboard",icon:(0,t.jsx)(s.ProductIcon,{width:"20",height:"20"}),onClick:()=>{b("dashboard"),y.push("/dashboard")}},{id:"work-queue",label:"Work Queue",icon:(0,t.jsx)(p.FilterIcon,{width:"20",height:"20"}),onClick:()=>{b("work-queue"),y.push("/work-queue")}},{id:"applications",label:"Applications",icon:(0,t.jsx)(u.AppIcon,{width:"20",height:"20"}),onClick:()=>{b("applications"),y.push("/applications")}},{id:"reviews",label:"Reviews",icon:(0,t.jsx)(o.DocumentIcon,{width:"20",height:"20"}),onClick:()=>{b("reviews"),y.push("/review")},subItems:[{id:"risk-review",label:"Risk Review",onClick:()=>{b("reviews"),y.push("/risk-review")}},{id:"approvals",label:"Approvals",onClick:()=>{b("reviews"),y.push("/approvals")}}]},{id:"documents",label:"Documents",icon:(0,t.jsx)(d.FileOpenIcon,{width:"20",height:"20"}),onClick:()=>{b("documents"),y.push("/documents")}},{id:"configuration",label:"Configuration",icon:(0,t.jsx)(l.SettingsIcon,{width:"20",height:"20"}),onClick:()=>{b("configuration"),y.push("/requirements")},subItems:[{id:"requirements",label:"Requirements",onClick:()=>{b("configuration"),y.push("/requirements")}},{id:"entity-types",label:"Entity Types",onClick:()=>{b("configuration"),y.push("/entity-types")}},{id:"checklists",label:"Checklists",onClick:()=>{b("configuration"),y.push("/checklists")}},{id:"wizard-configurations",label:"Wizard Configurations",onClick:()=>{b("configuration"),y.push("/wizard-configurations")}},{id:"rules-and-permissions",label:"Rules & Permissions",onClick:()=>{b("configuration"),y.push("/rules-and-permissions")}}]},{id:"system",label:"System",icon:(0,t.jsx)(h.WarningIcon,{width:"20",height:"20"}),onClick:()=>{b("system"),y.push("/audit-log")},subItems:[{id:"audit-log",label:"Audit Log",onClick:()=>{b("system"),y.push("/audit-log")}},{id:"messages",label:"Messages",onClick:()=>{b("system"),y.push("/messages")}},{id:"notifications",label:"Notifications",onClick:()=>{b("system"),y.push("/notifications")}},{id:"data-migration",label:"Data Migration",onClick:()=>{b("system"),y.push("/data-migration")}},{id:"refreshes",label:"Refreshes",onClick:()=>{b("system"),y.push("/refreshes")}}]},{id:"reports",label:"Reports",icon:(0,t.jsx)(o.DocumentIcon,{width:"20",height:"20"}),onClick:()=>{b("reports"),y.push("/reports")}},{id:"profile",label:"Profile",icon:(0,t.jsx)(a.UserIcon,{width:"20",height:"20"}),onClick:()=>{b("profile"),y.push("/profile")}}],[y]),j={id:"help-centre",label:"Help Centre",icon:(0,t.jsx)(c.HelpIcon,{width:"20",height:"20"}),onClick:()=>{console.log("Help Centre")}};return(0,t.jsx)(g.Box,{position:"fixed",left:"0",top:"0",height:"100vh",width:m?"72px":"280px",borderRight:"1px solid",borderColor:"rgba(55, 58, 54, 0.15)",zIndex:"1000",className:"sidebar-wrapper",bg:"#F9FAFB",overflowY:"auto",transition:"width 0.3s ease",children:(0,t.jsx)(i.PortalNavigationSidebar,{navigationItems:w,helpCentreItem:j,activeItemId:S,condensed:m,onToggleCollapse:x,onLogoClick:()=>{b("dashboard"),y.push("/dashboard")},expandedWidth:"280px",condensedWidth:"72px"})})}e.s(["default",()=>y])},297630,e=>{"use strict";let{withContext:t,PropsProvider:r}=(0,e.i(552887).createRecipeContext)({key:"container"}),n=t("div");e.s(["Container",()=>n])},891825,e=>{"use strict";var t=e.i(843476),r=e.i(271645),n=e.i(441305),i=e.i(95966),s=e.i(920755);let a=(0,r.forwardRef)(function(e,r){var a,o,l;let{columns:c,minChildWidth:u,...d}=e,p=(0,n.useChakraContext)(),h=u?(a=u,o=p,(0,i.mapObject)(a,e=>{let t=o.tokens.getVar(`sizes.${e}`,"number"==typeof e?`${e}px`:e);return null===e?null:`repeat(auto-fit, minmax(${t}, 1fr))`})):(l=c,(0,i.mapObject)(l,e=>null===e?null:`repeat(${e}, minmax(0, 1fr))`));return(0,t.jsx)(s.Grid,{ref:r,templateColumns:h,...d})});e.s(["SimpleGrid",()=>a])},998183,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={assign:function(){return l},searchParamsToUrlQuery:function(){return s},urlQueryToSearchParams:function(){return o}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});function s(e){let t={};for(let[r,n]of e.entries()){let e=t[r];void 0===e?t[r]=n:Array.isArray(e)?e.push(n):t[r]=[e,n]}return t}function a(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function o(e){let t=new URLSearchParams;for(let[r,n]of Object.entries(e))if(Array.isArray(n))for(let e of n)t.append(r,a(e));else t.set(r,a(n));return t}function l(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,n]of r.entries())e.append(t,n)}return e}},195057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={formatUrl:function(){return o},formatWithValidation:function(){return c},urlObjectKeys:function(){return l}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let s=e.r(190809)._(e.r(998183)),a=/https?|ftp|gopher|file/;function o(e){let{auth:t,hostname:r}=e,n=e.protocol||"",i=e.pathname||"",o=e.hash||"",l=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),l&&"object"==typeof l&&(l=String(s.urlQueryToSearchParams(l)));let u=e.search||l&&`?${l}`||"";return n&&!n.endsWith(":")&&(n+=":"),e.slashes||(!n||a.test(n))&&!1!==c?(c="//"+(c||""),i&&"/"!==i[0]&&(i="/"+i)):c||(c=""),o&&"#"!==o[0]&&(o="#"+o),u&&"?"!==u[0]&&(u="?"+u),i=i.replace(/[?#]/g,encodeURIComponent),u=u.replace("#","%23"),`${n}${c}${i}${u}${o}`}let l=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return o(e)}},818581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return i}});let n=e.r(271645);function i(e,t){let r=(0,n.useRef)(null),i=(0,n.useRef)(null);return(0,n.useCallback)(n=>{if(null===n){let e=r.current;e&&(r.current=null,e());let t=i.current;t&&(i.current=null,t())}else e&&(r.current=s(e,n)),t&&(i.current=s(t,n))},[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},718967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={DecodeError:function(){return m},MiddlewareNotFoundError:function(){return w},MissingStaticPage:function(){return b},NormalizeError:function(){return x},PageNotFoundError:function(){return S},SP:function(){return f},ST:function(){return y},WEB_VITALS:function(){return s},execOnce:function(){return a},getDisplayName:function(){return d},getLocationOrigin:function(){return c},getURL:function(){return u},isAbsoluteUrl:function(){return l},isResSent:function(){return p},loadGetInitialProps:function(){return g},normalizeRepeatedSlashes:function(){return h},stringifyError:function(){return j}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let s=["CLS","FCP","FID","INP","LCP","TTFB"];function a(e){let t,r=!1;return(...n)=>(r||(r=!0,t=e(...n)),t)}let o=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>o.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function u(){let{href:e}=window.location,t=c();return e.substring(t.length)}function d(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function p(e){return e.finished||e.headersSent}function h(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function g(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await g(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(r&&p(r))return n;if(!n)throw Object.defineProperty(Error(`"${d(e)}.getInitialProps()" should resolve to an object. But found "${n}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n}let f="undefined"!=typeof performance,y=f&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class m extends Error{}class x extends Error{}class S extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class b extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class w extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function j(e){return JSON.stringify({message:e.message,stack:e.stack})}},573668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return s}});let n=e.r(718967),i=e.r(652817);function s(e){if(!(0,n.isAbsoluteUrl)(e))return!0;try{let t=(0,n.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,i.hasBasePath)(r.pathname)}catch(e){return!1}}},284508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},522016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={default:function(){return m},useLinkStatus:function(){return S}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let s=e.r(190809),a=e.r(843476),o=s._(e.r(271645)),l=e.r(195057),c=e.r(8372),u=e.r(818581),d=e.r(718967),p=e.r(405550);e.r(233525);let h=e.r(769688),g=e.r(573668),f=e.r(509396);function y(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}function m(t){var r;let n,i,s,[l,m]=(0,o.useOptimistic)(h.IDLE_LINK_STATUS),S=(0,o.useRef)(null),{href:b,as:w,children:j,prefetch:k=null,passHref:C,replace:I,shallow:v,scroll:R,onClick:E,onMouseEnter:T,onTouchStart:A,legacyBehavior:N=!1,onNavigate:D,ref:L,unstable_dynamicOnHover:P,...W}=t;n=j,N&&("string"==typeof n||"number"==typeof n)&&(n=(0,a.jsx)("a",{children:n}));let O=o.default.useContext(c.AppRouterContext),U=!1!==k,z=!1!==k?null===(r=k)||"auto"===r?f.FetchStrategy.PPR:f.FetchStrategy.Full:f.FetchStrategy.PPR,{href:$,as:_}=o.default.useMemo(()=>{let e=y(b);return{href:e,as:w?y(w):e}},[b,w]);if(N){if(n?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});i=o.default.Children.only(n)}let B=N?i&&"object"==typeof i&&i.ref:L,M=o.default.useCallback(e=>(null!==O&&(S.current=(0,h.mountLinkInstance)(e,$,O,z,U,m)),()=>{S.current&&((0,h.unmountLinkForCurrentNavigation)(S.current),S.current=null),(0,h.unmountPrefetchableInstance)(e)}),[U,$,O,z,m]),F={ref:(0,u.useMergedRef)(M,B),onClick(t){N||"function"!=typeof E||E(t),N&&i.props&&"function"==typeof i.props.onClick&&i.props.onClick(t),!O||t.defaultPrevented||function(t,r,n,i,s,a,l){if("undefined"!=typeof window){let c,{nodeName:u}=t.currentTarget;if("A"===u.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,g.isLocalURL)(r)){s&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),l){let e=!1;if(l({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:d}=e.r(699781);o.default.startTransition(()=>{d(n||r,s?"replace":"push",a??!0,i.current)})}}(t,$,_,S,I,R,D)},onMouseEnter(e){N||"function"!=typeof T||T(e),N&&i.props&&"function"==typeof i.props.onMouseEnter&&i.props.onMouseEnter(e),O&&U&&(0,h.onNavigationIntent)(e.currentTarget,!0===P)},onTouchStart:function(e){N||"function"!=typeof A||A(e),N&&i.props&&"function"==typeof i.props.onTouchStart&&i.props.onTouchStart(e),O&&U&&(0,h.onNavigationIntent)(e.currentTarget,!0===P)}};return(0,d.isAbsoluteUrl)(_)?F.href=_:N&&!C&&("a"!==i.type||"href"in i.props)||(F.href=(0,p.addBasePath)(_)),s=N?o.default.cloneElement(i,F):(0,a.jsx)("a",{...W,...F,children:n}),(0,a.jsx)(x.Provider,{value:l,children:s})}e.r(284508);let x=(0,o.createContext)(h.IDLE_LINK_STATUS),S=()=>(0,o.useContext)(x);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},778497,e=>{"use strict";var t=e.i(967079);let r=new class{isDevelopment=!1;isProduction=!0;debug(e,...t){this.isDevelopment&&console.debug(`[DEBUG] ${e}`,...t)}info(e,...r){this.isDevelopment&&console.info(`[INFO] ${e}`,...r),this.isProduction&&(0,t.addBreadcrumb)(e,"info","info",{args:r})}warn(e,r){console.warn(`[WARN] ${e}`),this.isProduction&&(0,t.reportWarning)(e,{tags:r?.tags,extra:r?.extra})}error(e,r,n){let i=r||(e instanceof Error?e.message:String(e));console.error(`[ERROR] ${i}`,e);let s=n?.level==="warn"?"warning":n?.level==="error"?"error":n?.level==="info"?"info":"error";(0,t.reportError)(e,{tags:n?.tags,extra:n?.extra,level:s})}log(e,r,n="info"){if(this.isDevelopment&&console.log(`[${n.toUpperCase()}] ${e}`,r||""),this.isProduction&&"debug"!==n){let i="warn"===n?"warning":"error"===n?"error":"info";(0,t.addBreadcrumb)(e,"log",i,r)}}};e.s(["logger",0,r])},817684,e=>{"use strict";function t(e){return{id:e.workItemNumber||e.id,workItemId:e.id,legalName:e.applicantName,entityType:e.entityType,country:e.country,status:({New:"SUBMITTED",Assigned:"IN PROGRESS",InProgress:"IN PROGRESS",PendingApproval:"RISK REVIEW",Approved:"COMPLETE",Completed:"COMPLETE",Declined:"DECLINED",Cancelled:"DECLINED",DueForRefresh:"IN PROGRESS"})[e.status]||"IN PROGRESS",backendStatus:e.status,created:e.createdAt,updated:e.updatedAt||e.createdAt,submittedBy:e.assignedToName||e.assignedTo||"Unknown",riskScore:({Low:25,Medium:50,High:75,Critical:95})[e.riskLevel]||50,workItemNumber:e.workItemNumber,applicationId:e.applicationId,priority:e.priority,riskLevel:e.riskLevel,assignedTo:e.assignedTo,assignedToName:e.assignedToName,assignedAt:e.assignedAt,requiresApproval:e.requiresApproval,approvedBy:e.approvedBy,approvedByName:e.approvedByName,approvedAt:e.approvedAt,rejectionReason:e.rejectionReason,dueDate:e.dueDate,isOverdue:e.isOverdue,nextRefreshDate:e.nextRefreshDate,lastRefreshedAt:e.lastRefreshedAt,refreshCount:e.refreshCount}}function r(e){return e.map(t)}e.s(["mapWorkItemToApplication",()=>t,"mapWorkItemsToApplications",()=>r])},670357,592622,82349,576699,571408,e=>{"use strict";async function t(e=1,r=20,n,i){let s=new URLSearchParams({page:e.toString(),pageSize:r.toString()});n&&s.append("searchTerm",n),i&&s.append("status",i);let a=await fetch(`/api/applications?${s.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!a.ok)throw Error(`Failed to fetch applications: ${a.status} ${a.statusText}`);let o=await a.json();return{items:o.items||o.data||[],totalCount:o.total_count||o.totalCount||o.total||0,page:o.page||e,pageSize:o.page_size||o.pageSize||r}}async function r(e){let t=new URLSearchParams;e&&t.append("partnerId",e);let r=await fetch(`/api/entity-type-distribution?${t.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!r.ok)throw Error(`Failed to fetch entity type distribution: ${r.status} ${r.statusText}`);let n=await r.json();return Array.isArray(n)?n:n.items||n.data||[]}async function n(e=7,t){let r=new URLSearchParams({days:e.toString()});t&&r.append("partnerId",t);let i=await fetch(`/api/trends?${r.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!i.ok)throw Error(`Failed to fetch application trends: ${i.status} ${i.statusText}`);let s=await i.json();return Array.isArray(s)?s:s.items||s.data||[]}async function i(e){let t=new URLSearchParams;e&&t.append("partnerId",e);let r=await fetch(`/api/dashboard?${t.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!r.ok)throw Error(`Failed to fetch dashboard projection: ${r.status} ${r.statusText}`);return r.json()}async function s(){let e={"Content-Type":"application/json"};try{let t=await fetch("/api/auth/session"),r=await t.json();r?.user?.email&&(e["X-User-Email"]=r.user.email),r?.user?.name&&(e["X-User-Name"]=r.user.name),r?.user?.role&&(e["X-User-Role"]=r.user.role)}catch(e){}return e}async function a(e,t){let r=e;e.startsWith("?")?r=e:e.startsWith("/")||(r=`/${e}`);let n=`/api/workqueue${r}`,i=await s(),a=await fetch(n,{...t,headers:{...i,...t?.headers}});if(!a.ok){let e=`Work Queue API request failed: ${a.status} ${a.statusText}`;try{let t=await a.json();e=t.message||t.error||e}catch{}throw Error(e)}let o=await a.text();return o&&""!==o.trim()?JSON.parse(o):null}async function o(e){let t=new URLSearchParams;e?.status&&"ALL"!==e.status&&t.append("status",e.status),e?.searchTerm&&t.append("searchTerm",e.searchTerm),e?.country&&t.append("country",e.country),e?.riskLevel&&t.append("riskLevel",e.riskLevel);let r=e?.page||1,n=e?.pageSize||100;t.append("page",r.toString()),t.append("pageSize",n.toString());let i=await a(`?${t.toString()}`);return{items:i.items||i.data||[],totalCount:i.totalCount||i.total_count||0,page:r,pageSize:n}}async function l(e){try{return await a(`/${e}`)}catch(e){if(e instanceof Error&&e.message.includes("404"))return null;throw e}}async function c(e=1,t=20){let r=new URLSearchParams({page:e.toString(),pageSize:t.toString()}),n=await a(`/my-items?${r.toString()}`);return{items:n.items||n.data||[],totalCount:n.totalCount||n.total_count||0,page:e,pageSize:t}}async function u(e=1,t=20){let r=new URLSearchParams({page:e.toString(),pageSize:t.toString()}),n=await a(`/pending-approvals?${r.toString()}`);return{items:n.items||n.data||[],totalCount:n.totalCount||n.total_count||0,page:e,pageSize:t}}async function d(e=1,t=100,r){let n=new URLSearchParams({page:e.toString(),pageSize:t.toString()});return r&&n.append("asOfDate",r.toISOString()),await a(`/due-for-refresh?${n.toString()}`)}async function p(e,t,r){let n;if(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t))n=t;else{let e=0;for(let r=0;r<t.length;r++)e=(e<<5)-e+t.charCodeAt(r),e&=e;let r=Math.abs(e).toString(16).padStart(32,"0");n=`${r.substring(0,8)}-${r.substring(8,12)}-${r.substring(12,16)}-${r.substring(16,20)}-${r.substring(20,32)}`}await a(`/${e}/assign`,{method:"POST",body:JSON.stringify({AssignedToUserId:n,AssignedToUserName:r})})}async function h(e){await a(`/${e}/unassign`,{method:"POST"})}async function g(e){await a(`/${e}/start-review`,{method:"POST"})}async function f(e,t){await a(`/${e}/submit-for-approval`,{method:"POST",body:JSON.stringify({notes:t||""})})}async function y(e,t){await a(`/${e}/approve`,{method:"POST",body:JSON.stringify({notes:t||""})})}async function m(e,t){await a(`/${e}/decline`,{method:"POST",body:JSON.stringify({reason:t})})}async function x(e,t){await a(`/${e}/complete`,{method:"POST",body:JSON.stringify({notes:t||""})})}async function S(e){await a(`/${e}/mark-for-refresh`,{method:"POST"})}async function b(e,t){await a(`/${e}/comments`,{method:"POST",body:JSON.stringify({text:t})})}async function w(e){return await a(`/${e}/comments`)}async function j(e){return await a(`/${e}/history`)}function k(e){let t=e.businessLegalName||`${e.applicantFirstName} ${e.applicantLastName}`.trim()||"Unknown",r=e.businessCountryOfRegistration||e.applicantCountry||"Unknown",n=e.type||(e.businessLegalName?"Business":"Individual")||"Unknown",i=e.assignedToName||e.assignedTo||"Unassigned",s=e.submittedAt||e.createdAt,a=Math.round(e.progressPercentage||0);return{id:e.caseId||e.id,companyName:t,entityType:n,status:({Draft:"IN_PROGRESS",InProgress:"IN_PROGRESS",PendingReview:"RISK_REVIEW",Submitted:"SUBMITTED",Approved:"COMPLETE",Rejected:"DECLINED",Cancelled:"DECLINED"})[e.status]||"IN_PROGRESS",submittedDate:s,assignedTo:i,riskLevel:({Low:"LOW",MediumLow:"LOW",Medium:"MEDIUM",MediumHigh:"HIGH",High:"HIGH"})[e.riskLevel]||"MEDIUM",country:r,progress:a}}e.s(["addComment",()=>b,"approveWorkItem",()=>y,"assignWorkItem",()=>p,"completeWorkItem",()=>x,"declineWorkItem",()=>m,"getItemsDueForRefresh",()=>d,"getMyWorkItems",()=>c,"getPendingApprovals",()=>u,"getWorkItemById",()=>l,"getWorkItemComments",()=>w,"getWorkItemHistory",()=>j,"getWorkItems",()=>o,"markForRefresh",()=>S,"startReview",()=>g,"submitForApproval",()=>f,"unassignWorkItem",()=>h],592622);var C=e.i(817684);async function I(e=1,r=20,n,i){let s=await t(e,r,n,i);return{items:s.items.map(k),totalCount:s.totalCount,page:s.page,pageSize:s.pageSize}}async function v(t){let r=await I(1,1e4,t?.search,t?.status),{escapeCsvField:n,createCsvBlob:i}=await e.A(535485);return i(["Application ID","Company Name","Entity Type","Country","Status","Risk Level","Assigned To","Progress","Submitted Date"],r.items.map(e=>[n(e.id),n(e.companyName),n(e.entityType),n(e.country),n(e.status),n(e.riskLevel),n(e.assignedTo),n(`${e.progress}%`),n(new Date(e.submittedDate).toLocaleDateString())]))}async function R(e){let t=await i(e);return{totalApplications:t.cases.totalCases,pendingReview:t.cases.pendingReviewCases,riskReview:t.risk.casesRequiringManualReview,completed:t.cases.completedCases,incomplete:t.cases.activeCases-t.cases.pendingReviewCases,declined:t.cases.rejectedCases,avgProcessingTime:Number(t.performance.averageCompletionTimeHours/24),successRate:Number(t.performance.completionRate)}}async function E(e){return(await r(e)).map(e=>({type:e.name,count:e.value}))}async function T(e=7,t){return n(e,t)}async function A(e){return i(e)}function N(e){return({SUBMITTED:"New","IN PROGRESS":"InProgress","RISK REVIEW":"PendingApproval",COMPLETE:"Completed",DECLINED:"Declined"})[e]||e}async function D(e){let t=e?{...e,status:e.status&&"ALL"!==e.status?N(e.status):void 0}:void 0,r=await o(t);return{items:(0,C.mapWorkItemsToApplications)(r.items),totalCount:r.totalCount,page:r.page,pageSize:r.pageSize}}async function L(e=1,t=20){let r=await c(e,t);return{items:(0,C.mapWorkItemsToApplications)(r.items),totalCount:r.totalCount,page:r.page,pageSize:r.pageSize}}async function P(e=1,t=20){return u(e,t)}async function W(e=1,t=100,r){return d(e,t,r)}async function O(e,t,r){if(!e)throw Error("Work item ID is required");if(!t)throw Error("User ID is required");if(!r)throw Error("User name is required");await p(e,t,r)}async function U(e){if(!e)throw Error("Work item ID is required");await h(e)}async function z(e){if(!e)throw Error("Work item ID is required");await g(e)}async function $(e,t){if(!e)throw Error("Work item ID is required");await f(e,t)}async function _(e,t){if(!e)throw Error("Work item ID is required");await y(e,t)}async function B(e,t){if(!e)throw Error("Work item ID is required");if(!t||0===t.trim().length)throw Error("Rejection reason is required");await m(e,t)}async function M(e,t){if(!e)throw Error("Work item ID is required");await x(e,t)}async function F(e){if(!e)throw Error("Work item ID is required");await S(e)}async function H(e,t){if(!e)throw Error("Work item ID is required");if(!t||0===t.trim().length)throw Error("Comment text is required");await b(e,t)}async function q(e){if(!e)throw Error("Work item ID is required");return w(e)}async function G(e){if(!e)throw Error("Work item ID is required");return j(e)}async function V(t){let r=t?{...t,status:t.status&&"ALL"!==t.status?N(t.status):void 0}:void 0,n=await o({...r,page:1,pageSize:1e4}),{escapeCsvField:i,createCsvBlob:s}=await e.A(535485),{mapWorkItemToApplication:a}=await e.A(8947);return s(["Application ID","Work Item Number","Legal Name","Entity Type","Country","Status","Priority","Risk Level","Assigned To","Created Date","Updated Date"],n.items.map(e=>{let t=a(e);return[i(t.id),i(e.workItemNumber),i(t.legalName),i(t.entityType),i(t.country),i(t.status),i(e.priority),i(e.riskLevel),i(e.assignedToName||e.assignedTo),i(new Date(t.created).toLocaleDateString()),i(new Date(t.updated).toLocaleDateString())]}))}e.s(["exportApplications",()=>v,"fetchApplications",()=>I],82349),e.s(["fetchApplicationTrends",()=>T,"fetchDashboardProjection",()=>A,"fetchDashboardStats",()=>R,"fetchEntityTypeDistribution",()=>E],576699),e.s(["addCommentUseCase",()=>H,"approveWorkItemUseCase",()=>_,"assignWorkItemUseCase",()=>O,"completeWorkItemUseCase",()=>M,"declineWorkItemUseCase",()=>B,"exportWorkItems",()=>V,"fetchItemsDueForRefresh",()=>W,"fetchMyWorkItems",()=>L,"fetchPendingApprovals",()=>P,"fetchWorkItemComments",()=>q,"fetchWorkItemHistory",()=>G,"fetchWorkItems",()=>D,"markForRefreshUseCase",()=>F,"startReviewUseCase",()=>z,"submitForApprovalUseCase",()=>$,"unassignWorkItemUseCase",()=>U],571408),e.s([],670357)},401250,e=>{"use strict";var t=e.i(843476),r=e.i(843011),n=e.i(297630),i=e.i(53545),s=e.i(361035),a=e.i(891825),o=e.i(761869),l=e.i(300713);e.i(643983);var c=e.i(825402),u=e.i(554646),d=e.i(191348),p=e.i(613056),h=e.i(44999),g=e.i(778528),f=e.i(192199),y=e.i(271645),m=e.i(522016),x=e.i(862873);e.i(670357);var S=e.i(571408),b=e.i(592622),w=e.i(778497),j=e.i(178849);function k(e){let t="SCHEDULED",r=new Date,n=e.nextRefreshDate?new Date(e.nextRefreshDate):null;if("DueForRefresh"===e.status)t="IN_PROGRESS";else if(n){let e=Math.ceil((n.getTime()-r.getTime())/864e5);t=e<0?"OVERDUE":e<=30?"DUE":"SCHEDULED"}let i=e.riskLevel.toUpperCase(),s="MEDIUM";"Urgent"===e.priority?s="URGENT":"High"===e.priority?s="HIGH":"Low"===e.priority&&(s="LOW");let a="ANNUAL";if(e.lastRefreshedAt&&e.nextRefreshDate){let t=new Date(e.lastRefreshedAt),r=(new Date(e.nextRefreshDate).getTime()-t.getTime())/31536e6;a=r>=2.5?"TRIENNIAL":r>=1.5?"BIENNIAL":"ANNUAL"}return{id:e.id,applicationId:e.applicationId,companyName:e.applicantName||"Unknown",entityType:e.entityType||"Unknown",riskLevel:i,status:t,lastRefreshDate:e.lastRefreshedAt||e.createdAt,nextRefreshDate:e.nextRefreshDate||new Date(Date.now()+31536e6).toISOString(),refreshCycle:a,assignedTo:e.assignedToName||e.assignedTo||"Unassigned",priority:s,country:e.country||"Unknown",riskScore:({LOW:25,MEDIUM:50,HIGH:75,CRITICAL:95})[i]||50,workItemId:e.id,workItemNumber:e.workItemNumber}}function C(){let[e,C]=(0,y.useState)([]),[I,v]=(0,y.useState)(!0),[R,E]=(0,y.useState)(null),[T,A]=(0,y.useState)(""),[N,D]=(0,y.useState)("ALL"),[L,P]=(0,y.useState)(!1),[W,O]=(0,y.useState)({lowRiskCycle:"TRIENNIAL",mediumRiskCycle:"ANNUAL",highRiskCycle:"ANNUAL",criticalRiskCycle:"ANNUAL",dueDaysThreshold:30,enableAutoRefresh:!0,refreshJobSchedule:"0 2 * * *"}),[U,z]=(0,y.useState)(!1);(0,y.useEffect)(()=>{$()},[]);let $=async()=>{try{v(!0),E(null);let e=(await (0,S.fetchItemsDueForRefresh)(1,100)).items.map(k),t=await (0,b.getWorkItems)({page:1,pageSize:100}),r=[...e,...t.items.filter(e=>e.nextRefreshDate||e.lastRefreshedAt).map(k)],n=Array.from(new Map(r.map(e=>[e.id,e])).values());C(n)}catch(e){E(e instanceof Error?e.message:"Failed to load refreshes"),w.logger.error(e,"Error loading refreshes",{tags:{error_type:"refreshes_load_error"}})}finally{v(!1)}},_=e=>{switch(e){case"SCHEDULED":return"blue";case"DUE":return"orange";case"OVERDUE":return"red";case"IN_PROGRESS":return"purple";case"COMPLETED":return"green";default:return"gray"}},B=e=>{switch(e){case"URGENT":return"red";case"HIGH":return"orange";case"MEDIUM":return"blue";case"LOW":return"green";default:return"gray"}},M=e=>{switch(e){case"LOW":return"green";case"MEDIUM":return"orange";case"HIGH":case"CRITICAL":return"red";default:return"gray"}},F=e=>{switch(e){case"ANNUAL":return"blue";case"BIENNIAL":return"orange";case"TRIENNIAL":return"green";case"AD_HOC":return"purple";default:return"gray"}},H=e.filter(e=>{let t=e.companyName.toLowerCase().includes(T.toLowerCase())||e.applicationId.toLowerCase().includes(T.toLowerCase()),r="ALL"===N||e.status===N;return t&&r}),q=e.filter(e=>"OVERDUE"===e.status).length,G=e.filter(e=>"DUE"===e.status).length,V=e.filter(e=>"IN_PROGRESS"===e.status).length,K=e.filter(e=>"COMPLETED"===e.status).length;return I?(0,t.jsxs)(r.Box,{children:[(0,t.jsx)(x.default,{}),(0,t.jsx)(r.Box,{ml:"240px",p:"8",bg:"gray.50",minH:"100vh",children:(0,t.jsx)(o.Flex,{justify:"center",align:"center",h:"400px",children:(0,t.jsx)(l.Spinner,{size:"xl",color:"orange.500"})})})]}):(0,t.jsxs)(r.Box,{children:[(0,t.jsx)(x.default,{}),(0,t.jsx)(r.Box,{ml:"240px",p:"8",bg:"gray.50",minH:"100vh",children:(0,t.jsx)(n.Container,{maxW:"7xl",children:(0,t.jsxs)(i.VStack,{gap:"6",align:"stretch",children:[(0,t.jsxs)(o.Flex,{justify:"space-between",align:"center",children:[(0,t.jsxs)(i.VStack,{align:"start",gap:"1",children:[(0,t.jsx)(u.Typography,{fontSize:"3xl",fontWeight:"bold",color:"gray.800",children:"Refreshes"}),(0,t.jsx)(u.Typography,{color:"gray.600",children:"Manage periodic partner and customer refreshes"})]}),(0,t.jsxs)(s.HStack,{gap:"3",children:[(0,t.jsxs)(d.Button,{variant:"secondary",size:"sm",onClick:$,children:[(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(f.FiRefreshCw,{size:16})}),"Refresh"]}),(0,t.jsxs)(d.Button,{variant:"secondary",size:"sm",onClick:()=>P(!0),children:[(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(f.FiSettings,{size:16})}),"Refresh Settings"]})]})]}),R&&(0,t.jsx)(r.Box,{bg:"red.50",p:"4",borderRadius:"lg",border:"1px",borderColor:"red.200",children:(0,t.jsxs)(u.Typography,{color:"red.800",fontWeight:"semibold",children:["Error: ",R]})}),q>0&&(0,t.jsx)(r.Box,{bg:"red.50",p:"4",borderRadius:"lg",border:"1px",borderColor:"red.200",children:(0,t.jsxs)(s.HStack,{gap:"3",children:[(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(f.FiAlertTriangle,{size:20,color:"#E53E3E"})}),(0,t.jsxs)(i.VStack,{align:"start",gap:"1",children:[(0,t.jsx)(u.Typography,{fontWeight:"semibold",color:"red.800",children:"Overdue Refreshes"}),(0,t.jsxs)(u.Typography,{fontSize:"sm",color:"red.700",children:[q," refreshes are overdue and require immediate attention"]})]})]})}),(0,t.jsxs)(a.SimpleGrid,{columns:{base:1,md:4},gap:"4",children:[(0,t.jsx)(r.Box,{bg:"white",p:"4",borderRadius:"lg",boxShadow:"sm",children:(0,t.jsxs)(i.VStack,{gap:"2",children:[(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(f.FiAlertTriangle,{size:24,color:"#E53E3E"})}),(0,t.jsx)(u.Typography,{fontSize:"2xl",fontWeight:"bold",color:"red.600",children:q}),(0,t.jsx)(u.Typography,{fontSize:"sm",color:"gray.600",textAlign:"center",children:"Overdue"})]})}),(0,t.jsx)(r.Box,{bg:"white",p:"4",borderRadius:"lg",boxShadow:"sm",children:(0,t.jsxs)(i.VStack,{gap:"2",children:[(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(f.FiClock,{size:24,color:"#DD6B20"})}),(0,t.jsx)(u.Typography,{fontSize:"2xl",fontWeight:"bold",color:"orange.600",children:G}),(0,t.jsx)(u.Typography,{fontSize:"sm",color:"gray.600",textAlign:"center",children:"Due Soon"})]})}),(0,t.jsx)(r.Box,{bg:"white",p:"4",borderRadius:"lg",boxShadow:"sm",children:(0,t.jsxs)(i.VStack,{gap:"2",children:[(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(f.FiRefreshCw,{size:24,color:"#805AD5"})}),(0,t.jsx)(u.Typography,{fontSize:"2xl",fontWeight:"bold",color:"purple.600",children:V}),(0,t.jsx)(u.Typography,{fontSize:"sm",color:"gray.600",textAlign:"center",children:"In Progress"})]})}),(0,t.jsx)(r.Box,{bg:"white",p:"4",borderRadius:"lg",boxShadow:"sm",children:(0,t.jsxs)(i.VStack,{gap:"2",children:[(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(f.FiCheckCircle,{size:24,color:"#38A169"})}),(0,t.jsx)(u.Typography,{fontSize:"2xl",fontWeight:"bold",color:"green.600",children:K}),(0,t.jsx)(u.Typography,{fontSize:"sm",color:"gray.600",textAlign:"center",children:"Completed"})]})})]}),(0,t.jsx)(r.Box,{bg:"white",p:"6",borderRadius:"lg",boxShadow:"sm",children:(0,t.jsxs)(s.HStack,{gap:"4",children:[(0,t.jsx)(r.Box,{flex:"1",maxW:"400px",children:(0,t.jsx)(c.Search,{placeholder:"Search by company name or application ID...",onSearchChange:e=>A(e)})}),(0,t.jsxs)("select",{value:N,onChange:e=>D(e.target.value),style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #E2E8F0",backgroundColor:"white"},children:[(0,t.jsx)("option",{value:"ALL",children:"All Status"}),(0,t.jsx)("option",{value:"SCHEDULED",children:"Scheduled"}),(0,t.jsx)("option",{value:"DUE",children:"Due"}),(0,t.jsx)("option",{value:"OVERDUE",children:"Overdue"}),(0,t.jsx)("option",{value:"IN_PROGRESS",children:"In Progress"}),(0,t.jsx)("option",{value:"COMPLETED",children:"Completed"})]})]})}),(0,t.jsx)(a.SimpleGrid,{columns:{base:1,lg:2,xl:3},gap:"6",children:H.map(e=>(0,t.jsx)(r.Box,{bg:"white",p:"6",borderRadius:"lg",boxShadow:"sm",border:"1px",borderColor:"gray.200",_hover:{boxShadow:"md",transform:"translateY(-2px)"},transition:"all 0.2s",children:(0,t.jsxs)(i.VStack,{gap:"4",align:"stretch",children:[(0,t.jsxs)(o.Flex,{justify:"space-between",align:"start",children:[(0,t.jsxs)(i.VStack,{align:"start",gap:"1",children:[(0,t.jsx)(u.Typography,{fontSize:"lg",fontWeight:"bold",color:"gray.800",children:e.companyName}),(0,t.jsx)(u.Typography,{fontSize:"sm",color:"gray.600",children:e.applicationId})]}),(0,t.jsxs)(i.VStack,{gap:"1",align:"end",children:[(0,t.jsx)(p.Tag,{variant:"red"===B(e.priority)?"danger":"orange"===B(e.priority)?"warning":"blue"===B(e.priority)?"info":"success",children:e.priority}),(0,t.jsxs)(p.Tag,{variant:"red"===M(e.riskLevel)?"danger":"orange"===M(e.riskLevel)?"warning":"success",children:[e.riskLevel," RISK"]}),(0,t.jsx)(p.Tag,{variant:"red"===_(e.status)?"danger":"orange"===_(e.status)?"warning":"purple"===_(e.status)?"info":"green"===_(e.status)?"success":"info",children:e.status.replace("_"," ")})]})]}),(0,t.jsxs)(i.VStack,{gap:"2",align:"stretch",children:[(0,t.jsxs)(s.HStack,{justify:"space-between",children:[(0,t.jsx)(u.Typography,{fontSize:"sm",color:"gray.600",children:"Risk Score:"}),(0,t.jsxs)(u.Typography,{fontSize:"sm",fontWeight:"bold",color:`${e.riskScore>=70?"red":e.riskScore>=40?"orange":"green"}.600`,children:[e.riskScore,"/100"]})]}),(0,t.jsx)(r.Box,{width:"100%",height:"6px",bg:"gray.200",borderRadius:"full",overflow:"hidden",children:(0,t.jsx)(r.Box,{width:`${e.riskScore}%`,height:"100%",bg:`${e.riskScore>=70?"red":e.riskScore>=40?"orange":"green"}.400`,borderRadius:"full",transition:"width 0.3s ease"})})]}),(0,t.jsxs)(i.VStack,{gap:"2",align:"stretch",children:[(0,t.jsxs)(s.HStack,{justify:"space-between",children:[(0,t.jsx)(u.Typography,{fontSize:"sm",color:"gray.600",children:"Entity Type:"}),(0,t.jsx)(u.Typography,{fontSize:"sm",fontWeight:"medium",color:"gray.800",children:e.entityType})]}),(0,t.jsxs)(s.HStack,{justify:"space-between",children:[(0,t.jsx)(u.Typography,{fontSize:"sm",color:"gray.600",children:"Country:"}),(0,t.jsx)(u.Typography,{fontSize:"sm",fontWeight:"medium",color:"gray.800",children:e.country})]}),(0,t.jsxs)(s.HStack,{justify:"space-between",children:[(0,t.jsx)(u.Typography,{fontSize:"sm",color:"gray.600",children:"Assigned To:"}),(0,t.jsx)(u.Typography,{fontSize:"sm",fontWeight:"medium",color:"gray.800",children:e.assignedTo})]}),(0,t.jsxs)(s.HStack,{justify:"space-between",children:[(0,t.jsx)(u.Typography,{fontSize:"sm",color:"gray.600",children:"Refresh Cycle:"}),(0,t.jsx)(p.Tag,{variant:"blue"===F(e.refreshCycle)?"info":"orange"===F(e.refreshCycle)?"warning":"green"===F(e.refreshCycle)?"success":"info",children:e.refreshCycle})]})]}),(0,t.jsxs)(i.VStack,{gap:"2",align:"stretch",children:[(0,t.jsxs)(s.HStack,{justify:"space-between",children:[(0,t.jsx)(u.Typography,{fontSize:"sm",color:"gray.600",children:"Last Refresh:"}),(0,t.jsx)(u.Typography,{fontSize:"sm",fontWeight:"medium",color:"gray.800",children:new Date(e.lastRefreshDate).toLocaleDateString()})]}),(0,t.jsxs)(s.HStack,{justify:"space-between",children:[(0,t.jsx)(u.Typography,{fontSize:"sm",color:"gray.600",children:"Next Refresh:"}),(0,t.jsxs)(u.Typography,{fontSize:"sm",fontWeight:"medium",color:new Date(e.nextRefreshDate)<new Date&&"COMPLETED"!==e.status?"red.600":"gray.800",children:[new Date(e.nextRefreshDate).toLocaleDateString(),new Date(e.nextRefreshDate)<new Date&&"COMPLETED"!==e.status&&(0,t.jsx)(u.Typography,{as:"span",color:"red.500",ml:"1",children:"(Overdue)"})]})]})]}),(0,t.jsxs)(s.HStack,{justify:"space-between",children:[(0,t.jsx)(m.default,{href:`/applications/${e.applicationId}`,children:(0,t.jsxs)(d.Button,{size:"sm",variant:"secondary",children:[(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(f.FiUser,{size:16})}),"View Application"]})}),(0,t.jsxs)(d.Button,{size:"sm",variant:"primary",disabled:"COMPLETED"===e.status,onClick:async()=>{if(e.workItemId)try{await (0,S.markForRefreshUseCase)(e.workItemId),await $()}catch(e){w.logger.error(e,"Error marking for refresh",{tags:{error_type:"mark_refresh_error"}}),alert("Failed to start refresh. Please try again.")}},children:[(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(f.FiRefreshCw,{size:16})}),"COMPLETED"===e.status?"Completed":"Start Refresh"]})]})]})},e.id))}),0===H.length&&(0,t.jsx)(r.Box,{bg:"white",p:"12",borderRadius:"lg",textAlign:"center",boxShadow:"sm",children:(0,t.jsxs)(i.VStack,{gap:"4",children:[(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(f.FiRefreshCw,{size:48,color:"#A0AEC0"})}),(0,t.jsx)(u.Typography,{fontSize:"lg",color:"gray.600",children:"No refreshes found"}),(0,t.jsx)(u.Typography,{fontSize:"sm",color:"gray.500",children:"Try adjusting your search criteria or filters"})]})})]})})}),L&&(0,t.jsx)(r.Box,{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",bg:"blackAlpha.600",zIndex:"1000",display:"flex",alignItems:"center",justifyContent:"center",onClick:()=>P(!1),children:(0,t.jsx)(r.Box,{bg:"white",p:"6",borderRadius:"lg",boxShadow:"xl",maxW:"600px",width:"90%",onClick:e=>e.stopPropagation(),children:(0,t.jsxs)(i.VStack,{gap:"4",align:"stretch",children:[(0,t.jsx)(u.Typography,{fontSize:"lg",fontWeight:"bold",color:"gray.900",children:"Refresh Settings"}),(0,t.jsx)(u.Typography,{color:"gray.900",fontSize:"sm",children:"Configure refresh cycles and settings for partner and customer compliance reviews."}),(0,t.jsxs)(r.Box,{children:[(0,t.jsx)(u.Typography,{fontWeight:"semibold",mb:"3",fontSize:"sm",color:"gray.900",children:"Default Refresh Cycles by Risk Level:"}),(0,t.jsxs)(i.VStack,{gap:"3",align:"stretch",children:[(0,t.jsxs)(s.HStack,{justify:"space-between",align:"center",children:[(0,t.jsx)(u.Typography,{fontSize:"sm",color:"gray.900",minW:"120px",children:"Low Risk:"}),(0,t.jsxs)("select",{value:W.lowRiskCycle,onChange:e=>O({...W,lowRiskCycle:e.target.value}),style:{padding:"6px 12px",borderRadius:"6px",border:"1px solid #E2E8F0",backgroundColor:"white",fontSize:"14px",minWidth:"150px",color:"#1A202C"},children:[(0,t.jsx)("option",{value:"ANNUAL",children:"ANNUAL (1 year)"}),(0,t.jsx)("option",{value:"BIENNIAL",children:"BIENNIAL (2 years)"}),(0,t.jsx)("option",{value:"TRIENNIAL",children:"TRIENNIAL (3 years)"})]})]}),(0,t.jsxs)(s.HStack,{justify:"space-between",align:"center",children:[(0,t.jsx)(u.Typography,{fontSize:"sm",color:"gray.900",minW:"120px",children:"Medium Risk:"}),(0,t.jsxs)("select",{value:W.mediumRiskCycle,onChange:e=>O({...W,mediumRiskCycle:e.target.value}),style:{padding:"6px 12px",borderRadius:"6px",border:"1px solid #E2E8F0",backgroundColor:"white",fontSize:"14px",minWidth:"150px",color:"#1A202C"},children:[(0,t.jsx)("option",{value:"ANNUAL",children:"ANNUAL (1 year)"}),(0,t.jsx)("option",{value:"BIENNIAL",children:"BIENNIAL (2 years)"}),(0,t.jsx)("option",{value:"TRIENNIAL",children:"TRIENNIAL (3 years)"})]})]}),(0,t.jsxs)(s.HStack,{justify:"space-between",align:"center",children:[(0,t.jsx)(u.Typography,{fontSize:"sm",color:"gray.900",minW:"120px",children:"High Risk:"}),(0,t.jsxs)("select",{value:W.highRiskCycle,onChange:e=>O({...W,highRiskCycle:e.target.value}),style:{padding:"6px 12px",borderRadius:"6px",border:"1px solid #E2E8F0",backgroundColor:"white",fontSize:"14px",minWidth:"150px",color:"#1A202C"},children:[(0,t.jsx)("option",{value:"ANNUAL",children:"ANNUAL (1 year)"}),(0,t.jsx)("option",{value:"BIENNIAL",children:"BIENNIAL (2 years)"}),(0,t.jsx)("option",{value:"TRIENNIAL",children:"TRIENNIAL (3 years)"})]})]}),(0,t.jsxs)(s.HStack,{justify:"space-between",align:"center",children:[(0,t.jsx)(u.Typography,{fontSize:"sm",color:"gray.900",minW:"120px",children:"Critical Risk:"}),(0,t.jsxs)("select",{value:W.criticalRiskCycle,onChange:e=>O({...W,criticalRiskCycle:e.target.value}),style:{padding:"6px 12px",borderRadius:"6px",border:"1px solid #E2E8F0",backgroundColor:"white",fontSize:"14px",minWidth:"150px",color:"#1A202C"},children:[(0,t.jsx)("option",{value:"ANNUAL",children:"ANNUAL (1 year)"}),(0,t.jsx)("option",{value:"BIENNIAL",children:"BIENNIAL (2 years)"}),(0,t.jsx)("option",{value:"TRIENNIAL",children:"TRIENNIAL (3 years)"})]})]})]})]}),(0,t.jsxs)(r.Box,{children:[(0,t.jsx)(u.Typography,{fontWeight:"semibold",mb:"2",fontSize:"sm",color:"gray.900",children:"Due Date Notification Threshold:"}),(0,t.jsxs)(s.HStack,{align:"center",gap:"2",children:[(0,t.jsx)(u.Typography,{fontSize:"sm",color:"gray.900",children:'Mark items as "Due"'}),(0,t.jsx)(g.Input,{type:"number",value:W.dueDaysThreshold,onChange:e=>O({...W,dueDaysThreshold:parseInt(e.target.value)||30})}),(0,t.jsx)(u.Typography,{fontSize:"sm",color:"gray.900",children:"days before refresh date"})]})]}),(0,t.jsx)(r.Box,{children:(0,t.jsxs)(s.HStack,{justify:"space-between",align:"center",children:[(0,t.jsxs)(i.VStack,{align:"start",gap:"0",children:[(0,t.jsx)(u.Typography,{fontWeight:"semibold",fontSize:"sm",color:"gray.900",children:"Enable Automatic Refresh Process:"}),(0,t.jsx)(u.Typography,{fontSize:"xs",color:"gray.900",children:"Scheduled job runs daily to identify items due for refresh"})]}),(0,t.jsx)(d.Button,{size:"sm",variant:W.enableAutoRefresh?"primary":"secondary",onClick:()=>O({...W,enableAutoRefresh:!W.enableAutoRefresh}),children:W.enableAutoRefresh?"Enabled":"Disabled"})]})}),W.enableAutoRefresh&&(0,t.jsx)(r.Box,{bg:"blue.50",p:"3",borderRadius:"md",border:"1px",borderColor:"blue.200",children:(0,t.jsxs)(u.Typography,{fontSize:"xs",color:"gray.900",children:[(0,t.jsx)(u.Typography,{as:"span",fontWeight:"semibold",children:"Schedule:"})," Daily at 2 AM UTC",(0,t.jsx)("br",{}),(0,t.jsx)(u.Typography,{as:"span",fontWeight:"semibold",children:"Cron:"})," ",W.refreshJobSchedule]})}),(0,t.jsxs)(s.HStack,{justify:"flex-end",mt:"4",gap:"2",children:[(0,t.jsx)(d.Button,{variant:"secondary",onClick:()=>P(!1),children:"Cancel"}),(0,t.jsx)(d.Button,{colorScheme:"orange",onClick:async()=>{z(!0);try{let e=await fetch("/api/proxy/api/v1/refresh-settings",{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(W)});if(!e.ok){let t=await e.text();throw Error(t||`Failed to save settings: ${e.status}`)}await j.SweetAlert.success("Settings Saved","Refresh settings have been saved successfully!"),P(!1)}catch(t){w.logger.error(t,"Error saving settings",{tags:{error_type:"settings_save_error"}});let e=t instanceof Error?t.message:"Failed to save settings. Please try again.";await j.SweetAlert.error("Save Failed",e)}finally{z(!1)}},loading:U,loadingText:"Saving...",children:"Save Settings"})]})]})})})]})}e.s(["default",()=>C])},535485,e=>{e.v(t=>Promise.all(["static/chunks/357d3a57e18aad09.js"].map(t=>e.l(t))).then(()=>t(332915)))},8947,e=>{e.v(e=>Promise.resolve().then(()=>e(817684)))}]);

//# debugId=7876c3f6-655f-880b-512b-378e920ec164
//# sourceMappingURL=83fcf2acae93b722.js.map