;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="8846e324-0507-03c4-7af9-dc6377ac6ae9")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,233525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return i}});let i=e=>{}},343827,e=>{"use strict";var t=e.i(843476),r=e.i(618566),i=e.i(526732);e.i(643983);var n=e.i(307167),s=e.i(44999),a=e.i(843011),o=e.i(361035),l=e.i(761869),u=e.i(299753),c=e.i(192199),d=e.i(617029);function p(){let e=(0,r.useRouter)(),{data:p}=(0,i.useSession)(),{condensed:h,setCondensed:y}=(0,d.useSidebar)(),f=p?.user?.name||"Admin",m=p?.user?.email||"admin@mukuru.com";return f.split(" ")[0]?.toLowerCase(),(0,t.jsx)(a.Box,{position:"fixed",top:"0",left:h?"72px":"280px",right:"0",height:"90px",bg:"white",zIndex:"999",px:"6",py:"4",pl:"6",transition:"left 0.3s ease, width 0.3s ease",className:"portal-header",borderBottom:"1px solid",borderColor:"rgba(55, 58, 54, 0.15)",children:(0,t.jsxs)(l.Flex,{justify:"space-between",align:"center",width:"full",height:"full",children:[(0,t.jsx)(o.HStack,{gap:"4",align:"center",children:(0,t.jsx)(u.Button,{variant:"ghost",onClick:()=>y(!h),p:"2",borderRadius:"full",minW:"40px",h:"40px",bg:"gray.100",_hover:{bg:"gray.200"},"aria-label":"Toggle sidebar",border:"none",_focus:{boxShadow:"none",outline:"none"},_active:{bg:"gray.200"},children:(0,t.jsx)(s.IconWrapper,{children:(0,t.jsx)(c.FiArrowLeft,{size:20,color:"#F05423"})})})}),(0,t.jsx)(o.HStack,{gap:"4",align:"center",children:(0,t.jsx)(n.ProfileMenu,{user:f,menuItems:[{id:0,label:m,value:"email"},{id:1,label:"My Profile",value:"profile",onSelect:()=>e.push("/profile")},{id:2,label:"Settings",value:"settings",onSelect:()=>e.push("/settings")},{id:3,label:"Log Out",value:"logout",onSelect:()=>e.push("/api/auth/logout")}]})})]})})}e.s(["default",()=>p])},618566,(e,t,r)=>{t.exports=e.r(976562)},862873,e=>{"use strict";var t=e.i(843476),r=e.i(271645),i=e.i(618566);e.i(643983);var n=e.i(355569),s=e.i(111977),a=e.i(134590),o=e.i(179243),l=e.i(119192),u=e.i(307124),c=e.i(857692),d=e.i(194741),p=e.i(489312),h=e.i(357441),y=e.i(843011),f=e.i(617029);function m(){let e=(0,i.usePathname)(),m=(0,i.useRouter)(),{condensed:g,setCondensed:b}=(0,f.useSidebar)(),[x,v]=(0,r.useState)("dashboard");(0,r.useEffect)(()=>{"/dashboard"===e?v("dashboard"):e?.startsWith("/work-queue")?v("work-queue"):e?.startsWith("/applications")?v("applications"):e?.startsWith("/review")||e?.startsWith("/risk-review")||e?.startsWith("/approvals")?v("reviews"):e?.startsWith("/documents")?v("documents"):e?.startsWith("/requirements")?v("requirements"):e?.startsWith("/entity-types")?v("entity-types"):e?.startsWith("/checklists")?v("checklists"):e?.startsWith("/wizard-configurations")?v("wizard-configurations"):e?.startsWith("/rules-and-permissions")?v("rules-and-permissions"):e?.startsWith("/audit-log")?v("audit-log"):e?.startsWith("/messages")?v("messages"):e?.startsWith("/notifications")?v("notifications"):e?.startsWith("/data-migration")?v("data-migration"):e?.startsWith("/refreshes")?v("refreshes"):e?.startsWith("/reports")?v("reports"):e?.startsWith("/profile")?v("profile"):e?.startsWith("/settings")&&v("settings")},[e]);let w=(0,r.useMemo)(()=>[{id:"dashboard",label:"Dashboard",icon:(0,t.jsx)(s.ProductIcon,{width:"20",height:"20"}),onClick:()=>{v("dashboard"),m.push("/dashboard")}},{id:"work-queue",label:"Work Queue",icon:(0,t.jsx)(p.FilterIcon,{width:"20",height:"20"}),onClick:()=>{v("work-queue"),m.push("/work-queue")}},{id:"applications",label:"Applications",icon:(0,t.jsx)(c.AppIcon,{width:"20",height:"20"}),onClick:()=>{v("applications"),m.push("/applications")}},{id:"reviews",label:"Reviews",icon:(0,t.jsx)(o.DocumentIcon,{width:"20",height:"20"}),onClick:()=>{v("reviews"),m.push("/review")},subItems:[{id:"risk-review",label:"Risk Review",onClick:()=>{v("reviews"),m.push("/risk-review")}},{id:"approvals",label:"Approvals",onClick:()=>{v("reviews"),m.push("/approvals")}}]},{id:"documents",label:"Documents",icon:(0,t.jsx)(d.FileOpenIcon,{width:"20",height:"20"}),onClick:()=>{v("documents"),m.push("/documents")}},{id:"configuration",label:"Configuration",icon:(0,t.jsx)(l.SettingsIcon,{width:"20",height:"20"}),onClick:()=>{v("configuration"),m.push("/requirements")},subItems:[{id:"requirements",label:"Requirements",onClick:()=>{v("configuration"),m.push("/requirements")}},{id:"entity-types",label:"Entity Types",onClick:()=>{v("configuration"),m.push("/entity-types")}},{id:"checklists",label:"Checklists",onClick:()=>{v("configuration"),m.push("/checklists")}},{id:"wizard-configurations",label:"Wizard Configurations",onClick:()=>{v("configuration"),m.push("/wizard-configurations")}},{id:"rules-and-permissions",label:"Rules & Permissions",onClick:()=>{v("configuration"),m.push("/rules-and-permissions")}}]},{id:"system",label:"System",icon:(0,t.jsx)(h.WarningIcon,{width:"20",height:"20"}),onClick:()=>{v("system"),m.push("/audit-log")},subItems:[{id:"audit-log",label:"Audit Log",onClick:()=>{v("system"),m.push("/audit-log")}},{id:"messages",label:"Messages",onClick:()=>{v("system"),m.push("/messages")}},{id:"notifications",label:"Notifications",onClick:()=>{v("system"),m.push("/notifications")}},{id:"data-migration",label:"Data Migration",onClick:()=>{v("system"),m.push("/data-migration")}},{id:"refreshes",label:"Refreshes",onClick:()=>{v("system"),m.push("/refreshes")}}]},{id:"reports",label:"Reports",icon:(0,t.jsx)(o.DocumentIcon,{width:"20",height:"20"}),onClick:()=>{v("reports"),m.push("/reports")}},{id:"profile",label:"Profile",icon:(0,t.jsx)(a.UserIcon,{width:"20",height:"20"}),onClick:()=>{v("profile"),m.push("/profile")}}],[m]),q={id:"help-centre",label:"Help Centre",icon:(0,t.jsx)(u.HelpIcon,{width:"20",height:"20"}),onClick:()=>{console.log("Help Centre")}};return(0,t.jsx)(y.Box,{position:"fixed",left:"0",top:"0",height:"100vh",width:g?"72px":"280px",borderRight:"1px solid",borderColor:"rgba(55, 58, 54, 0.15)",zIndex:"1000",className:"sidebar-wrapper",bg:"#F9FAFB",overflowY:"auto",transition:"width 0.3s ease",children:(0,t.jsx)(n.PortalNavigationSidebar,{navigationItems:w,helpCentreItem:q,activeItemId:x,condensed:g,onToggleCollapse:b,onLogoClick:()=>{v("dashboard"),m.push("/dashboard")},expandedWidth:"280px",condensedWidth:"72px"})})}e.s(["default",()=>m])},297630,e=>{"use strict";let{withContext:t,PropsProvider:r}=(0,e.i(552887).createRecipeContext)({key:"container"}),i=t("div");e.s(["Container",()=>i])},337880,e=>{"use strict";e.i(247167).default.env.NEXT_PUBLIC_ENTITY_CONFIG_API_BASE_URL;let t=new class{async getAuthHeaders(){let t={"Content-Type":"application/json"};try{let e=await fetch("/api/auth/session"),r=await e.json();r?.user?.email&&(t["X-User-Email"]=r.user.email),r?.user?.name&&(t["X-User-Name"]=r.user.name)}catch(t){{let{clientSentry:r}=await e.A(661405);r.reportError(t,{tags:{error_type:"entity_config_api",operation:"get_session"},level:"warning"})}}return t}async request(e,t){let r,i;e.startsWith("/requirements")?(r="/api/requirements",i=""):(e.startsWith("/wizardconfigurations")||e.startsWith("/entity-types"),r="/api/rules-and-permissions",i=e);let n=`${r}${i}`,s=await this.getAuthHeaders();try{let e=new Promise((e,t)=>{setTimeout(()=>t(Error("Request timeout")),1e4)}),r=fetch(n,{...t,headers:{...s,...t?.headers}}),i=await Promise.race([r,e]);if(!i.ok){let e=await i.text(),t=`Entity Config API request failed: ${i.status} ${i.statusText}`;try{let r=JSON.parse(e);r.message?t=r.message:r.error&&(t=r.error)}catch{e&&e.trim().length>0&&(t=e.length>200?e.substring(0,200)+"...":e)}throw Error(t)}if(204===i.status)return null;return i.json()}catch(e){if(e instanceof TypeError||e instanceof Error&&e.message.includes("timeout"))throw Error("Unable to connect to Entity Configuration service");throw e}}async getEntityTypes(e=!1,t=!0){let r=new URLSearchParams;e&&r.append("includeInactive","true"),t&&r.append("includeRequirements","true");let i=r.toString();return(await this.request(`/entity-types${i?`?${i}`:""}`)).map(e=>{let t=e.requirements||e.Requirements||[];return Array.isArray(t)&&t.length>0&&(t=t.map(e=>({id:e.id||e.Id,requirementId:e.requirementId||e.RequirementId||e.requirement_id,isRequired:void 0!==e.isRequired?e.isRequired:void 0!==e.IsRequired?e.IsRequired:void 0!==e.is_required&&e.is_required,displayOrder:e.displayOrder||e.DisplayOrder||e.display_order||0,requirement:e.requirement||e.Requirement}))),{id:e.id||e.Id,code:e.code||e.Code,displayName:e.displayName||e.DisplayName||e.display_name||e.code||"Unnamed",description:e.description||e.Description||e.description||"",icon:e.icon||e.Icon,isActive:void 0!==e.isActive?e.isActive:void 0!==e.IsActive?e.IsActive:void 0===e.is_active||e.is_active,createdAt:e.createdAt||e.CreatedAt||e.created_at||"",updatedAt:e.updatedAt||e.UpdatedAt||e.updated_at||"",requirements:t}})}async getEntityType(e,t=!0){let r=t?`/entity-types/${e}?includeRequirements=true`:`/entity-types/${e}`;return this.request(r)}async getEntityTypeByCode(t,r=!0){let i=t.trim();console.log("[EntityConfigAPI] Fetching entity type by code (as-is from application):",i);try{let e=await this.request(`/entity-types/by-code/${encodeURIComponent(i)}`);return console.log("[EntityConfigAPI] âœ… Successfully fetched entity type:",e?.code),e}catch(t){{let{clientSentry:r}=await e.A(661405);r.reportError(t,{tags:{error_type:"entity_config_api",operation:"fetch_entity_type_by_code"},extra:{code:i},level:"error"})}return null}}async createEntityType(e){return this.request("/entity-types",{method:"POST",body:JSON.stringify(e)})}async updateEntityType(e,t){return this.request(`/entity-types/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteEntityType(e){return this.request(`/entity-types/${e}`,{method:"DELETE"})}async getRequirements(e=!1){return(await this.request(`/requirements${e?"?includeInactive=true":""}`)).map(e=>({id:e.id||e.Id,code:e.code||e.Code,displayName:e.displayName||e.DisplayName||e.display_name||e.code||"Unnamed",description:e.description||e.Description||e.description||"",type:e.type||e.Type||e.type||"",fieldType:e.fieldType||e.FieldType||e.field_type||"",validationRules:e.validationRules||e.ValidationRules||e.validation_rules,helpText:e.helpText||e.HelpText||e.help_text,isActive:void 0!==e.isActive?e.isActive:void 0!==e.IsActive?e.IsActive:void 0===e.is_active||e.is_active,createdAt:e.createdAt||e.CreatedAt||e.created_at||"",updatedAt:e.updatedAt||e.UpdatedAt||e.updated_at||"",options:e.options||e.Options||[]}))}async getRequirement(e){return this.request(`/requirements/${e}`)}async createRequirement(e){return this.request("/requirements",{method:"POST",body:JSON.stringify(e)})}async updateRequirement(e,t){return this.request(`/requirements/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteRequirement(e){return this.request(`/requirements/${e}`,{method:"DELETE"})}async getRequirementsMetadata(){return this.request("/requirements/metadata")}async getRequirementOptions(e){return this.request(`/requirements/${e}/options`)}async addRequirementOption(e,t){return this.request(`/requirements/${e}/options`,{method:"POST",body:JSON.stringify(t)})}async updateRequirementOption(e,t,r){return this.request(`/requirements/${e}/options/${t}`,{method:"PUT",body:JSON.stringify(r)})}async deleteRequirementOption(e,t){return this.request(`/requirements/${e}/options/${t}`,{method:"DELETE"})}async addRequirementToEntityType(e,t){return this.request(`/entity-types/${e}/requirements`,{method:"POST",body:JSON.stringify(t)})}async removeRequirementFromEntityType(e,t){return this.request(`/entity-types/${e}/requirements/${t}`,{method:"DELETE"})}async getWizardConfigurations(e=!1){return(await this.request(`/wizardconfigurations${e?"?includeInactive=true":""}`)).map(e=>({id:e.id,entityTypeId:e.entity_type_id||e.entityTypeId,entityTypeDisplayName:e.entity_type_display_name||e.entityTypeDisplayName,isActive:void 0!==e.is_active?e.is_active:e.isActive,createdAt:e.created_at||e.createdAt,updatedAt:e.updated_at||e.updatedAt,steps:(e.steps||[]).map(e=>({id:e.id,title:e.title,subtitle:e.subtitle,requirementTypes:e.requirement_types||e.requirementTypes||[],checklistCategory:e.checklist_category||e.checklistCategory||"",stepNumber:e.step_number||e.stepNumber||0,isActive:void 0!==e.is_active?e.is_active:e.isActive}))}))}async getWizardConfiguration(e){let t=await this.request(`/wizardconfigurations/${e}`);return{id:t.id,entityTypeId:t.entity_type_id||t.entityTypeId,entityTypeDisplayName:t.entity_type_display_name||t.entityTypeDisplayName,isActive:void 0!==t.is_active?t.is_active:t.isActive,createdAt:t.created_at||t.createdAt,updatedAt:t.updated_at||t.updatedAt,steps:(t.steps||[]).map(e=>({id:e.id,title:e.title,subtitle:e.subtitle,requirementTypes:e.requirement_types||e.requirementTypes||[],checklistCategory:e.checklist_category||e.checklistCategory||"",stepNumber:e.step_number||e.stepNumber||0,isActive:void 0!==e.is_active?e.is_active:e.isActive}))}}async getWizardConfigurationByEntityType(t){try{return this.request(`/wizardconfigurations/by-entity-type/${t}`)}catch(r){{let{clientSentry:i}=await e.A(661405);i.reportError(r,{tags:{error_type:"entity_config_api",operation:"fetch_wizard_config"},extra:{entityTypeId:t},level:"error"})}return null}}async createWizardConfiguration(e){return this.request("/wizardconfigurations",{method:"POST",body:JSON.stringify(e)})}async updateWizardConfiguration(e,t){return this.request(`/wizardconfigurations/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteWizardConfiguration(e){return this.request(`/wizardconfigurations/${e}`,{method:"DELETE"})}};e.s(["FieldType",0,{Text:"Text",Email:"Email",Phone:"Phone",Number:"Number",Date:"Date",Select:"Select",MultiSelect:"MultiSelect",Radio:"Radio",Checkbox:"Checkbox",Textarea:"Textarea",File:"File",Country:"Country",Currency:"Currency",Address:"Address"},"RequirementType",0,{Information:1,Document:2,ProofOfIdentity:3,ProofOfAddress:4,OwnershipStructure:5,BoardDirectors:6,AuthorizedSignatories:7},"entityConfigApiService",0,t])},998183,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={assign:function(){return l},searchParamsToUrlQuery:function(){return s},urlQueryToSearchParams:function(){return o}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});function s(e){let t={};for(let[r,i]of e.entries()){let e=t[r];void 0===e?t[r]=i:Array.isArray(e)?e.push(i):t[r]=[e,i]}return t}function a(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function o(e){let t=new URLSearchParams;for(let[r,i]of Object.entries(e))if(Array.isArray(i))for(let e of i)t.append(r,a(e));else t.set(r,a(i));return t}function l(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,i]of r.entries())e.append(t,i)}return e}},195057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={formatUrl:function(){return o},formatWithValidation:function(){return u},urlObjectKeys:function(){return l}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s=e.r(190809)._(e.r(998183)),a=/https?|ftp|gopher|file/;function o(e){let{auth:t,hostname:r}=e,i=e.protocol||"",n=e.pathname||"",o=e.hash||"",l=e.query||"",u=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?u=t+e.host:r&&(u=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(u+=":"+e.port)),l&&"object"==typeof l&&(l=String(s.urlQueryToSearchParams(l)));let c=e.search||l&&`?${l}`||"";return i&&!i.endsWith(":")&&(i+=":"),e.slashes||(!i||a.test(i))&&!1!==u?(u="//"+(u||""),n&&"/"!==n[0]&&(n="/"+n)):u||(u=""),o&&"#"!==o[0]&&(o="#"+o),c&&"?"!==c[0]&&(c="?"+c),n=n.replace(/[?#]/g,encodeURIComponent),c=c.replace("#","%23"),`${i}${u}${n}${c}${o}`}let l=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function u(e){return o(e)}},818581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return n}});let i=e.r(271645);function n(e,t){let r=(0,i.useRef)(null),n=(0,i.useRef)(null);return(0,i.useCallback)(i=>{if(null===i){let e=r.current;e&&(r.current=null,e());let t=n.current;t&&(n.current=null,t())}else e&&(r.current=s(e,i)),t&&(n.current=s(t,i))},[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},718967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={DecodeError:function(){return g},MiddlewareNotFoundError:function(){return w},MissingStaticPage:function(){return v},NormalizeError:function(){return b},PageNotFoundError:function(){return x},SP:function(){return f},ST:function(){return m},WEB_VITALS:function(){return s},execOnce:function(){return a},getDisplayName:function(){return d},getLocationOrigin:function(){return u},getURL:function(){return c},isAbsoluteUrl:function(){return l},isResSent:function(){return p},loadGetInitialProps:function(){return y},normalizeRepeatedSlashes:function(){return h},stringifyError:function(){return q}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s=["CLS","FCP","FID","INP","LCP","TTFB"];function a(e){let t,r=!1;return(...i)=>(r||(r=!0,t=e(...i)),t)}let o=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>o.test(e);function u(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function c(){let{href:e}=window.location,t=u();return e.substring(t.length)}function d(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function p(e){return e.finished||e.headersSent}function h(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function y(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await y(t.Component,t.ctx)}:{};let i=await e.getInitialProps(t);if(r&&p(r))return i;if(!i)throw Object.defineProperty(Error(`"${d(e)}.getInitialProps()" should resolve to an object. But found "${i}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return i}let f="undefined"!=typeof performance,m=f&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class g extends Error{}class b extends Error{}class x extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class v extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class w extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function q(e){return JSON.stringify({message:e.message,stack:e.stack})}},573668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return s}});let i=e.r(718967),n=e.r(652817);function s(e){if(!(0,i.isAbsoluteUrl)(e))return!0;try{let t=(0,i.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,n.hasBasePath)(r.pathname)}catch(e){return!1}}},284508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return i}});let i=e=>{}},522016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={default:function(){return g},useLinkStatus:function(){return x}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s=e.r(190809),a=e.r(843476),o=s._(e.r(271645)),l=e.r(195057),u=e.r(8372),c=e.r(818581),d=e.r(718967),p=e.r(405550);e.r(233525);let h=e.r(769688),y=e.r(573668),f=e.r(509396);function m(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}function g(t){var r;let i,n,s,[l,g]=(0,o.useOptimistic)(h.IDLE_LINK_STATUS),x=(0,o.useRef)(null),{href:v,as:w,children:q,prefetch:C=null,passHref:T,replace:j,shallow:_,scroll:S,onClick:E,onMouseEnter:A,onTouchStart:k,legacyBehavior:R=!1,onNavigate:P,ref:I,unstable_dynamicOnHover:O,...N}=t;i=q,R&&("string"==typeof i||"number"==typeof i)&&(i=(0,a.jsx)("a",{children:i}));let W=o.default.useContext(u.AppRouterContext),$=!1!==C,F=!1!==C?null===(r=C)||"auto"===r?f.FetchStrategy.PPR:f.FetchStrategy.Full:f.FetchStrategy.PPR,{href:L,as:B}=o.default.useMemo(()=>{let e=m(v);return{href:e,as:w?m(w):e}},[v,w]);if(R){if(i?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});n=o.default.Children.only(i)}let D=R?n&&"object"==typeof n&&n.ref:I,z=o.default.useCallback(e=>(null!==W&&(x.current=(0,h.mountLinkInstance)(e,L,W,F,$,g)),()=>{x.current&&((0,h.unmountLinkForCurrentNavigation)(x.current),x.current=null),(0,h.unmountPrefetchableInstance)(e)}),[$,L,W,F,g]),U={ref:(0,c.useMergedRef)(z,D),onClick(t){R||"function"!=typeof E||E(t),R&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(t),!W||t.defaultPrevented||function(t,r,i,n,s,a,l){if("undefined"!=typeof window){let u,{nodeName:c}=t.currentTarget;if("A"===c.toUpperCase()&&((u=t.currentTarget.getAttribute("target"))&&"_self"!==u||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,y.isLocalURL)(r)){s&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),l){let e=!1;if(l({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:d}=e.r(699781);o.default.startTransition(()=>{d(i||r,s?"replace":"push",a??!0,n.current)})}}(t,L,B,x,j,S,P)},onMouseEnter(e){R||"function"!=typeof A||A(e),R&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),W&&$&&(0,h.onNavigationIntent)(e.currentTarget,!0===O)},onTouchStart:function(e){R||"function"!=typeof k||k(e),R&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),W&&$&&(0,h.onNavigationIntent)(e.currentTarget,!0===O)}};return(0,d.isAbsoluteUrl)(B)?U.href=B:R&&!T&&("a"!==n.type||"href"in n.props)||(U.href=(0,p.addBasePath)(B)),s=R?o.default.cloneElement(n,U):(0,a.jsx)("a",{...N,...U,children:i}),(0,a.jsx)(b.Provider,{value:l,children:s})}e.r(284508);let b=(0,o.createContext)(h.IDLE_LINK_STATUS),x=()=>(0,o.useContext)(b);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},560882,e=>{"use strict";var t=e.i(843476),r=e.i(843011),i=e.i(297630),n=e.i(53545),s=e.i(361035),a=e.i(761869);e.i(643983);var o=e.i(825402),l=e.i(554646),u=e.i(613056),c=e.i(191348),d=e.i(44999),p=e.i(312569),h=e.i(927561),y=e.i(228427),f=e.i(192199),m=e.i(862873),g=e.i(343827),b=e.i(617029),x=e.i(522016),v=e.i(271645),w=e.i(337880),q=e.i(178849);function C(){let{condensed:e}=(0,b.useSidebar)(),[C,T]=(0,v.useState)([]),[j,_]=(0,v.useState)(!1),[S,E]=(0,v.useState)(null),[A,k]=(0,v.useState)(null),[R,P]=(0,v.useState)(""),[I,O]=(0,v.useState)("all"),[N,W]=(0,v.useState)(0),$=(0,v.useCallback)(async()=>{try{_(!0),E(null),console.log("[Requirements Page] Loading requirements with filters:",{status:I,search:R});let e=await w.entityConfigApiService.getRequirements(!1);console.log("[Requirements Page] Requirements loaded:",e.length),e.length>0&&console.log("[Requirements Page] Sample requirement:",{code:e[0].code,fieldType:e[0].fieldType,type:e[0].type}),T(e)}catch(e){E(e instanceof Error?e.message:"Failed to load requirements"),console.error("[Requirements Page] Error loading requirements:",e)}finally{_(!1)}},[I,R]);(0,v.useEffect)(()=>{$()},[$]);let F=async e=>{if((await q.SweetAlert.confirm("Delete Requirement","Are you sure you want to delete this requirement? This action cannot be undone.","Yes, delete it!","Cancel")).isConfirmed)try{k(e),q.SweetAlert.loading("Deleting...","Please wait while we delete the requirement."),await w.entityConfigApiService.deleteRequirement(e),T(t=>t.filter(t=>t.id!==e)),W(e=>e+1),q.SweetAlert.close(),q.SweetAlert.success("Deleted!","Requirement has been deleted successfully.")}catch(e){q.SweetAlert.close(),q.SweetAlert.error("Delete Failed","Failed to delete requirement. Please try again."),console.error("Error deleting requirement:",e)}finally{k(null)}},L=(0,v.useCallback)(e=>{P(e)},[]),B=C.filter(e=>{if("all"!==I){let t="active"===I;if(e.isActive!==t)return!1}if(R.trim()){let t=R.toLowerCase();return e.displayName.toLowerCase().includes(t)||e.code.toLowerCase().includes(t)||e.description?.toLowerCase().includes(t)}return!0}),D=[{field:"displayName",header:"Requirement",sortable:!0,minWidth:"250px",render:(e,r)=>(0,t.jsxs)(n.VStack,{align:"start",gap:"4px",children:[(0,t.jsx)(l.Typography,{fontSize:"14px",fontWeight:"500",color:"#111827",children:r.displayName}),(0,t.jsx)(l.Typography,{fontSize:"12px",color:"#6B7280",maxW:"300px",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:r.description||"No description provided"})]})},{field:"code",header:"Code",sortable:!0,minWidth:"150px",render:e=>(0,t.jsx)(l.Typography,{fontSize:"14px",fontFamily:"mono",color:"#374151",children:String(e||"")})},{field:"type",header:"Type",sortable:!0,minWidth:"120px",render:e=>(0,t.jsx)(u.Tag,{variant:"info",children:String(e||"")})},{field:"fieldType",header:"Field Type",sortable:!0,minWidth:"120px",render:(e,r)=>{let i=r.fieldType||r.field_type||e;return i?(0,t.jsx)(u.Tag,{variant:"info",style:{fontSize:"12px",padding:"4px 8px"},children:String(i)}):(0,t.jsx)(l.Typography,{fontSize:"14px",color:"#6B7280",children:"-"})}},{field:"isActive",header:"Status",sortable:!0,minWidth:"100px",render:e=>(0,t.jsx)(u.Tag,{variant:e?"success":"inactive",children:e?"Active":"Inactive"})},{field:"id",header:"Actions",sortable:!1,width:"150px",minWidth:"150px",render:(e,i)=>(0,t.jsx)(r.Box,{display:"flex",alignItems:"center",justifyContent:"center",h:"100%",w:"100%",children:(0,t.jsxs)(s.HStack,{gap:"6px",justify:"center",align:"center",children:[(0,t.jsx)(y.Tooltip,{content:"Edit requirement",children:(0,t.jsx)(x.default,{href:`/requirements/edit/${i.id}`,style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,t.jsx)("button",{style:{padding:"6px 10px",border:"1px solid #E5E7EB",background:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"6px",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.background="#F9FAFB",e.currentTarget.style.borderColor="#F05423",e.currentTarget.style.color="#F05423"},onMouseLeave:e=>{e.currentTarget.style.background="white",e.currentTarget.style.borderColor="#E5E7EB",e.currentTarget.style.color="#374151"},children:(0,t.jsx)(d.IconWrapper,{children:(0,t.jsx)(f.FiEdit3,{size:16,color:"inherit"})})})})}),(0,t.jsx)(y.Tooltip,{content:"Delete requirement",children:(0,t.jsx)("button",{onClick:()=>F(i.id),disabled:A===i.id,style:{padding:"6px 10px",border:"1px solid #E5E7EB",background:"white",cursor:A===i.id?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"6px",opacity:A===i.id?.5:1,transition:"all 0.2s ease"},onMouseEnter:e=>{A!==i.id&&(e.currentTarget.style.background="#FEF2F2",e.currentTarget.style.borderColor="#EF4444",e.currentTarget.style.color="#EF4444")},onMouseLeave:e=>{e.currentTarget.style.background="white",e.currentTarget.style.borderColor="#E5E7EB",e.currentTarget.style.color="#374151"},children:(0,t.jsx)(d.IconWrapper,{children:(0,t.jsx)(f.FiTrash2,{size:16,color:"inherit"})})})})]})})}];return(0,t.jsxs)(a.Flex,{minH:"100vh",bg:"gray.50",children:[(0,t.jsx)(m.default,{}),(0,t.jsx)(g.default,{}),(0,t.jsx)(r.Box,{ml:e?"72px":"280px",mt:"90px",minH:"calc(100vh - 90px)",width:e?"calc(100% - 72px)":"calc(100% - 280px)",bg:"gray.50",overflowX:"hidden",transition:"margin-left 0.3s ease, width 0.3s ease",children:(0,t.jsxs)(n.VStack,{gap:"4",align:"stretch",w:"100%",children:[(0,t.jsx)(i.Container,{maxW:"100%",px:"8",py:"6",width:"full",children:(0,t.jsxs)(a.Flex,{justify:"space-between",align:"center",mb:"4",children:[(0,t.jsxs)(r.Box,{children:[(0,t.jsx)(l.Typography,{fontSize:"28px",fontWeight:"600",color:"#111827",mb:"4px",children:"KYB Requirements"}),(0,t.jsx)(l.Typography,{fontSize:"14px",color:"#6B7280",children:"Define and manage requirements for business verification"})]}),(0,t.jsx)(x.default,{href:"/requirements/create",children:(0,t.jsxs)(c.Button,{variant:"primary",className:"mukuru-primary-button",children:[(0,t.jsx)(d.IconWrapper,{children:(0,t.jsx)(f.FiPlus,{size:16})}),"New Requirement"]})})]})}),S&&(0,t.jsx)(i.Container,{maxW:"100%",px:"8",width:"full",children:(0,t.jsx)(h.AlertBar,{status:"error",title:"Error loading requirements",description:S})}),(0,t.jsx)(i.Container,{maxW:"100%",px:"8",width:"full",children:(0,t.jsxs)(n.VStack,{gap:"4",align:"stretch",children:[(0,t.jsx)(r.Box,{width:"100%",maxW:"800px",children:(0,t.jsx)(o.Search,{placeholder:"Search by name, code, description, or type...",onSearchChange:L})}),(0,t.jsxs)(s.HStack,{gap:"2",mb:"2",children:[(0,t.jsx)(c.Button,{variant:"primary",className:"mukuru-primary-button",onClick:()=>O("all"),style:{opacity:"all"===I?1:.7},children:"All"}),(0,t.jsx)(c.Button,{variant:"primary",className:"mukuru-primary-button",onClick:()=>O("active"),style:{opacity:"active"===I?1:.7},children:"Active"}),(0,t.jsx)(c.Button,{variant:"primary",className:"mukuru-primary-button",onClick:()=>O("inactive"),style:{opacity:"inactive"===I?1:.7},children:"Inactive"})]})]})}),(0,t.jsx)(i.Container,{maxW:"100%",px:"8",py:"8",width:"full",children:(0,t.jsx)(r.Box,{className:"work-queue-table-wrapper",children:(0,t.jsx)(p.DataTable,{data:B,columns:D,emptyState:{message:R||"all"!==I?"No matching requirements found. Try adjusting your search criteria or filters.":"No requirements yet. Get started by creating your first requirement."}},`requirements-${I}-${R}-${N}`)})})]})})]})}e.s(["default",()=>C])},661405,e=>{e.v(t=>Promise.all(["static/chunks/f478692b842c0428.js"].map(t=>e.l(t))).then(()=>t(819252)))}]);

//# debugId=8846e324-0507-03c4-7af9-dc6377ac6ae9
//# sourceMappingURL=e46b56786d2fe46d.js.map