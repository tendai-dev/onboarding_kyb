;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="ff10bedb-7618-d3af-7e07-722f0080fb5d")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,343827,e=>{"use strict";var t=e.i(843476),i=e.i(618566),r=e.i(526732);e.i(643983);var a=e.i(307167),s=e.i(44999),n=e.i(843011),o=e.i(361035),l=e.i(761869),c=e.i(299753),d=e.i(192199),p=e.i(617029);function h(){let e=(0,i.useRouter)(),{data:h}=(0,r.useSession)(),{condensed:g,setCondensed:u}=(0,p.useSidebar)(),x=h?.user?.name||"Admin",m=h?.user?.email||"admin@mukuru.com";return x.split(" ")[0]?.toLowerCase(),(0,t.jsx)(n.Box,{position:"fixed",top:"0",left:g?"72px":"280px",right:"0",height:"90px",bg:"white",zIndex:"999",px:"6",py:"4",pl:"6",transition:"left 0.3s ease, width 0.3s ease",className:"portal-header",borderBottom:"1px solid",borderColor:"rgba(55, 58, 54, 0.15)",children:(0,t.jsxs)(l.Flex,{justify:"space-between",align:"center",width:"full",height:"full",children:[(0,t.jsx)(o.HStack,{gap:"4",align:"center",children:(0,t.jsx)(c.Button,{variant:"ghost",onClick:()=>u(!g),p:"2",borderRadius:"full",minW:"40px",h:"40px",bg:"gray.100",_hover:{bg:"gray.200"},"aria-label":"Toggle sidebar",border:"none",_focus:{boxShadow:"none",outline:"none"},_active:{bg:"gray.200"},children:(0,t.jsx)(s.IconWrapper,{children:(0,t.jsx)(d.FiArrowLeft,{size:20,color:"#F05423"})})})}),(0,t.jsx)(o.HStack,{gap:"4",align:"center",children:(0,t.jsx)(a.ProfileMenu,{user:x,menuItems:[{id:0,label:m,value:"email"},{id:1,label:"My Profile",value:"profile",onSelect:()=>e.push("/profile")},{id:2,label:"Settings",value:"settings",onSelect:()=>e.push("/settings")},{id:3,label:"Log Out",value:"logout",onSelect:()=>e.push("/api/auth/logout")}]})})]})})}e.s(["default",()=>h])},618566,(e,t,i)=>{t.exports=e.r(976562)},862873,e=>{"use strict";var t=e.i(843476),i=e.i(271645),r=e.i(618566);e.i(643983);var a=e.i(355569),s=e.i(111977),n=e.i(134590),o=e.i(179243),l=e.i(119192),c=e.i(307124),d=e.i(857692),p=e.i(194741),h=e.i(489312),g=e.i(357441),u=e.i(843011),x=e.i(617029);function m(){let e=(0,r.usePathname)(),m=(0,r.useRouter)(),{condensed:f,setCondensed:y}=(0,x.useSidebar)(),[w,j]=(0,i.useState)("dashboard");(0,i.useEffect)(()=>{"/dashboard"===e?j("dashboard"):e?.startsWith("/work-queue")?j("work-queue"):e?.startsWith("/applications")?j("applications"):e?.startsWith("/review")||e?.startsWith("/risk-review")||e?.startsWith("/approvals")?j("reviews"):e?.startsWith("/documents")?j("documents"):e?.startsWith("/requirements")?j("requirements"):e?.startsWith("/entity-types")?j("entity-types"):e?.startsWith("/checklists")?j("checklists"):e?.startsWith("/wizard-configurations")?j("wizard-configurations"):e?.startsWith("/rules-and-permissions")?j("rules-and-permissions"):e?.startsWith("/audit-log")?j("audit-log"):e?.startsWith("/messages")?j("messages"):e?.startsWith("/notifications")?j("notifications"):e?.startsWith("/data-migration")?j("data-migration"):e?.startsWith("/refreshes")?j("refreshes"):e?.startsWith("/reports")?j("reports"):e?.startsWith("/profile")?j("profile"):e?.startsWith("/settings")&&j("settings")},[e]);let b=(0,i.useMemo)(()=>[{id:"dashboard",label:"Dashboard",icon:(0,t.jsx)(s.ProductIcon,{width:"20",height:"20"}),onClick:()=>{j("dashboard"),m.push("/dashboard")}},{id:"work-queue",label:"Work Queue",icon:(0,t.jsx)(h.FilterIcon,{width:"20",height:"20"}),onClick:()=>{j("work-queue"),m.push("/work-queue")}},{id:"applications",label:"Applications",icon:(0,t.jsx)(d.AppIcon,{width:"20",height:"20"}),onClick:()=>{j("applications"),m.push("/applications")}},{id:"reviews",label:"Reviews",icon:(0,t.jsx)(o.DocumentIcon,{width:"20",height:"20"}),onClick:()=>{j("reviews"),m.push("/review")},subItems:[{id:"risk-review",label:"Risk Review",onClick:()=>{j("reviews"),m.push("/risk-review")}},{id:"approvals",label:"Approvals",onClick:()=>{j("reviews"),m.push("/approvals")}}]},{id:"documents",label:"Documents",icon:(0,t.jsx)(p.FileOpenIcon,{width:"20",height:"20"}),onClick:()=>{j("documents"),m.push("/documents")}},{id:"configuration",label:"Configuration",icon:(0,t.jsx)(l.SettingsIcon,{width:"20",height:"20"}),onClick:()=>{j("configuration"),m.push("/requirements")},subItems:[{id:"requirements",label:"Requirements",onClick:()=>{j("configuration"),m.push("/requirements")}},{id:"entity-types",label:"Entity Types",onClick:()=>{j("configuration"),m.push("/entity-types")}},{id:"checklists",label:"Checklists",onClick:()=>{j("configuration"),m.push("/checklists")}},{id:"wizard-configurations",label:"Wizard Configurations",onClick:()=>{j("configuration"),m.push("/wizard-configurations")}},{id:"rules-and-permissions",label:"Rules & Permissions",onClick:()=>{j("configuration"),m.push("/rules-and-permissions")}}]},{id:"system",label:"System",icon:(0,t.jsx)(g.WarningIcon,{width:"20",height:"20"}),onClick:()=>{j("system"),m.push("/audit-log")},subItems:[{id:"audit-log",label:"Audit Log",onClick:()=>{j("system"),m.push("/audit-log")}},{id:"messages",label:"Messages",onClick:()=>{j("system"),m.push("/messages")}},{id:"notifications",label:"Notifications",onClick:()=>{j("system"),m.push("/notifications")}},{id:"data-migration",label:"Data Migration",onClick:()=>{j("system"),m.push("/data-migration")}},{id:"refreshes",label:"Refreshes",onClick:()=>{j("system"),m.push("/refreshes")}}]},{id:"reports",label:"Reports",icon:(0,t.jsx)(o.DocumentIcon,{width:"20",height:"20"}),onClick:()=>{j("reports"),m.push("/reports")}},{id:"profile",label:"Profile",icon:(0,t.jsx)(n.UserIcon,{width:"20",height:"20"}),onClick:()=>{j("profile"),m.push("/profile")}}],[m]),S={id:"help-centre",label:"Help Centre",icon:(0,t.jsx)(c.HelpIcon,{width:"20",height:"20"}),onClick:()=>{console.log("Help Centre")}};return(0,t.jsx)(u.Box,{position:"fixed",left:"0",top:"0",height:"100vh",width:f?"72px":"280px",borderRight:"1px solid",borderColor:"rgba(55, 58, 54, 0.15)",zIndex:"1000",className:"sidebar-wrapper",bg:"#F9FAFB",overflowY:"auto",transition:"width 0.3s ease",children:(0,t.jsx)(a.PortalNavigationSidebar,{navigationItems:b,helpCentreItem:S,activeItemId:w,condensed:f,onToggleCollapse:y,onLogoClick:()=>{j("dashboard"),m.push("/dashboard")},expandedWidth:"280px",condensedWidth:"72px"})})}e.s(["default",()=>m])},891825,e=>{"use strict";var t=e.i(843476),i=e.i(271645),r=e.i(441305),a=e.i(95966),s=e.i(920755);let n=(0,i.forwardRef)(function(e,i){var n,o,l;let{columns:c,minChildWidth:d,...p}=e,h=(0,r.useChakraContext)(),g=d?(n=d,o=h,(0,a.mapObject)(n,e=>{let t=o.tokens.getVar(`sizes.${e}`,"number"==typeof e?`${e}px`:e);return null===e?null:`repeat(auto-fit, minmax(${t}, 1fr))`})):(l=c,(0,a.mapObject)(l,e=>null===e?null:`repeat(${e}, minmax(0, 1fr))`));return(0,t.jsx)(s.Grid,{ref:i,templateColumns:g,...p})});e.s(["SimpleGrid",()=>n])},778497,e=>{"use strict";var t=e.i(967079);let i=new class{isDevelopment=!1;isProduction=!0;debug(e,...t){this.isDevelopment&&console.debug(`[DEBUG] ${e}`,...t)}info(e,...i){this.isDevelopment&&console.info(`[INFO] ${e}`,...i),this.isProduction&&(0,t.addBreadcrumb)(e,"info","info",{args:i})}warn(e,i){console.warn(`[WARN] ${e}`),this.isProduction&&(0,t.reportWarning)(e,{tags:i?.tags,extra:i?.extra})}error(e,i,r){let a=i||(e instanceof Error?e.message:String(e));console.error(`[ERROR] ${a}`,e);let s=r?.level==="warn"?"warning":r?.level==="error"?"error":r?.level==="info"?"info":"error";(0,t.reportError)(e,{tags:r?.tags,extra:r?.extra,level:s})}log(e,i,r="info"){if(this.isDevelopment&&console.log(`[${r.toUpperCase()}] ${e}`,i||""),this.isProduction&&"debug"!==r){let a="warn"===r?"warning":"error"===r?"error":"info";(0,t.addBreadcrumb)(e,"log",a,i)}}};e.s(["logger",0,i])},817684,e=>{"use strict";function t(e){return{id:e.workItemNumber||e.id,workItemId:e.id,legalName:e.applicantName,entityType:e.entityType,country:e.country,status:({New:"SUBMITTED",Assigned:"IN PROGRESS",InProgress:"IN PROGRESS",PendingApproval:"RISK REVIEW",Approved:"COMPLETE",Completed:"COMPLETE",Declined:"DECLINED",Cancelled:"DECLINED",DueForRefresh:"IN PROGRESS"})[e.status]||"IN PROGRESS",backendStatus:e.status,created:e.createdAt,updated:e.updatedAt||e.createdAt,submittedBy:e.assignedToName||e.assignedTo||"Unknown",riskScore:({Low:25,Medium:50,High:75,Critical:95})[e.riskLevel]||50,workItemNumber:e.workItemNumber,applicationId:e.applicationId,priority:e.priority,riskLevel:e.riskLevel,assignedTo:e.assignedTo,assignedToName:e.assignedToName,assignedAt:e.assignedAt,requiresApproval:e.requiresApproval,approvedBy:e.approvedBy,approvedByName:e.approvedByName,approvedAt:e.approvedAt,rejectionReason:e.rejectionReason,dueDate:e.dueDate,isOverdue:e.isOverdue,nextRefreshDate:e.nextRefreshDate,lastRefreshedAt:e.lastRefreshedAt,refreshCount:e.refreshCount}}function i(e){return e.map(t)}e.s(["mapWorkItemToApplication",()=>t,"mapWorkItemsToApplications",()=>i])},670357,592622,82349,576699,571408,e=>{"use strict";async function t(e=1,i=20,r,a){let s=new URLSearchParams({page:e.toString(),pageSize:i.toString()});r&&s.append("searchTerm",r),a&&s.append("status",a);let n=await fetch(`/api/applications?${s.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!n.ok)throw Error(`Failed to fetch applications: ${n.status} ${n.statusText}`);let o=await n.json();return{items:o.items||o.data||[],totalCount:o.total_count||o.totalCount||o.total||0,page:o.page||e,pageSize:o.page_size||o.pageSize||i}}async function i(e){let t=new URLSearchParams;e&&t.append("partnerId",e);let i=await fetch(`/api/entity-type-distribution?${t.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!i.ok)throw Error(`Failed to fetch entity type distribution: ${i.status} ${i.statusText}`);let r=await i.json();return Array.isArray(r)?r:r.items||r.data||[]}async function r(e=7,t){let i=new URLSearchParams({days:e.toString()});t&&i.append("partnerId",t);let a=await fetch(`/api/trends?${i.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!a.ok)throw Error(`Failed to fetch application trends: ${a.status} ${a.statusText}`);let s=await a.json();return Array.isArray(s)?s:s.items||s.data||[]}async function a(e){let t=new URLSearchParams;e&&t.append("partnerId",e);let i=await fetch(`/api/dashboard?${t.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!i.ok)throw Error(`Failed to fetch dashboard projection: ${i.status} ${i.statusText}`);return i.json()}async function s(){let e={"Content-Type":"application/json"};try{let t=await fetch("/api/auth/session"),i=await t.json();i?.user?.email&&(e["X-User-Email"]=i.user.email),i?.user?.name&&(e["X-User-Name"]=i.user.name),i?.user?.role&&(e["X-User-Role"]=i.user.role)}catch(e){}return e}async function n(e,t){let i=e;e.startsWith("?")?i=e:e.startsWith("/")||(i=`/${e}`);let r=`/api/workqueue${i}`,a=await s(),n=await fetch(r,{...t,headers:{...a,...t?.headers}});if(!n.ok){let e=`Work Queue API request failed: ${n.status} ${n.statusText}`;try{let t=await n.json();e=t.message||t.error||e}catch{}throw Error(e)}let o=await n.text();return o&&""!==o.trim()?JSON.parse(o):null}async function o(e){let t=new URLSearchParams;e?.status&&"ALL"!==e.status&&t.append("status",e.status),e?.searchTerm&&t.append("searchTerm",e.searchTerm),e?.country&&t.append("country",e.country),e?.riskLevel&&t.append("riskLevel",e.riskLevel);let i=e?.page||1,r=e?.pageSize||100;t.append("page",i.toString()),t.append("pageSize",r.toString());let a=await n(`?${t.toString()}`);return{items:a.items||a.data||[],totalCount:a.totalCount||a.total_count||0,page:i,pageSize:r}}async function l(e){try{return await n(`/${e}`)}catch(e){if(e instanceof Error&&e.message.includes("404"))return null;throw e}}async function c(e=1,t=20){let i=new URLSearchParams({page:e.toString(),pageSize:t.toString()}),r=await n(`/my-items?${i.toString()}`);return{items:r.items||r.data||[],totalCount:r.totalCount||r.total_count||0,page:e,pageSize:t}}async function d(e=1,t=20){let i=new URLSearchParams({page:e.toString(),pageSize:t.toString()}),r=await n(`/pending-approvals?${i.toString()}`);return{items:r.items||r.data||[],totalCount:r.totalCount||r.total_count||0,page:e,pageSize:t}}async function p(e=1,t=100,i){let r=new URLSearchParams({page:e.toString(),pageSize:t.toString()});return i&&r.append("asOfDate",i.toISOString()),await n(`/due-for-refresh?${r.toString()}`)}async function h(e,t,i){let r;if(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t))r=t;else{let e=0;for(let i=0;i<t.length;i++)e=(e<<5)-e+t.charCodeAt(i),e&=e;let i=Math.abs(e).toString(16).padStart(32,"0");r=`${i.substring(0,8)}-${i.substring(8,12)}-${i.substring(12,16)}-${i.substring(16,20)}-${i.substring(20,32)}`}await n(`/${e}/assign`,{method:"POST",body:JSON.stringify({AssignedToUserId:r,AssignedToUserName:i})})}async function g(e){await n(`/${e}/unassign`,{method:"POST"})}async function u(e){await n(`/${e}/start-review`,{method:"POST"})}async function x(e,t){await n(`/${e}/submit-for-approval`,{method:"POST",body:JSON.stringify({notes:t||""})})}async function m(e,t){await n(`/${e}/approve`,{method:"POST",body:JSON.stringify({notes:t||""})})}async function f(e,t){await n(`/${e}/decline`,{method:"POST",body:JSON.stringify({reason:t})})}async function y(e,t){await n(`/${e}/complete`,{method:"POST",body:JSON.stringify({notes:t||""})})}async function w(e){await n(`/${e}/mark-for-refresh`,{method:"POST"})}async function j(e,t){await n(`/${e}/comments`,{method:"POST",body:JSON.stringify({text:t})})}async function b(e){return await n(`/${e}/comments`)}async function S(e){return await n(`/${e}/history`)}function C(e){let t=e.businessLegalName||`${e.applicantFirstName} ${e.applicantLastName}`.trim()||"Unknown",i=e.businessCountryOfRegistration||e.applicantCountry||"Unknown",r=e.type||(e.businessLegalName?"Business":"Individual")||"Unknown",a=e.assignedToName||e.assignedTo||"Unassigned",s=e.submittedAt||e.createdAt,n=Math.round(e.progressPercentage||0);return{id:e.caseId||e.id,companyName:t,entityType:r,status:({Draft:"IN_PROGRESS",InProgress:"IN_PROGRESS",PendingReview:"RISK_REVIEW",Submitted:"SUBMITTED",Approved:"COMPLETE",Rejected:"DECLINED",Cancelled:"DECLINED"})[e.status]||"IN_PROGRESS",submittedDate:s,assignedTo:a,riskLevel:({Low:"LOW",MediumLow:"LOW",Medium:"MEDIUM",MediumHigh:"HIGH",High:"HIGH"})[e.riskLevel]||"MEDIUM",country:i,progress:n}}e.s(["addComment",()=>j,"approveWorkItem",()=>m,"assignWorkItem",()=>h,"completeWorkItem",()=>y,"declineWorkItem",()=>f,"getItemsDueForRefresh",()=>p,"getMyWorkItems",()=>c,"getPendingApprovals",()=>d,"getWorkItemById",()=>l,"getWorkItemComments",()=>b,"getWorkItemHistory",()=>S,"getWorkItems",()=>o,"markForRefresh",()=>w,"startReview",()=>u,"submitForApproval",()=>x,"unassignWorkItem",()=>g],592622);var I=e.i(817684);async function v(e=1,i=20,r,a){let s=await t(e,i,r,a);return{items:s.items.map(C),totalCount:s.totalCount,page:s.page,pageSize:s.pageSize}}async function k(t){let i=await v(1,1e4,t?.search,t?.status),{escapeCsvField:r,createCsvBlob:a}=await e.A(535485);return a(["Application ID","Company Name","Entity Type","Country","Status","Risk Level","Assigned To","Progress","Submitted Date"],i.items.map(e=>[r(e.id),r(e.companyName),r(e.entityType),r(e.country),r(e.status),r(e.riskLevel),r(e.assignedTo),r(`${e.progress}%`),r(new Date(e.submittedDate).toLocaleDateString())]))}async function T(e){let t=await a(e);return{totalApplications:t.cases.totalCases,pendingReview:t.cases.pendingReviewCases,riskReview:t.risk.casesRequiringManualReview,completed:t.cases.completedCases,incomplete:t.cases.activeCases-t.cases.pendingReviewCases,declined:t.cases.rejectedCases,avgProcessingTime:Number(t.performance.averageCompletionTimeHours/24),successRate:Number(t.performance.completionRate)}}async function R(e){return(await i(e)).map(e=>({type:e.name,count:e.value}))}async function W(e=7,t){return r(e,t)}async function A(e){return a(e)}function F(e){return({SUBMITTED:"New","IN PROGRESS":"InProgress","RISK REVIEW":"PendingApproval",COMPLETE:"Completed",DECLINED:"Declined"})[e]||e}async function E(e){let t=e?{...e,status:e.status&&"ALL"!==e.status?F(e.status):void 0}:void 0,i=await o(t);return{items:(0,I.mapWorkItemsToApplications)(i.items),totalCount:i.totalCount,page:i.page,pageSize:i.pageSize}}async function P(e=1,t=20){let i=await c(e,t);return{items:(0,I.mapWorkItemsToApplications)(i.items),totalCount:i.totalCount,page:i.page,pageSize:i.pageSize}}async function D(e=1,t=20){return d(e,t)}async function z(e=1,t=100,i){return p(e,t,i)}async function L(e,t,i){if(!e)throw Error("Work item ID is required");if(!t)throw Error("User ID is required");if(!i)throw Error("User name is required");await h(e,t,i)}async function N(e){if(!e)throw Error("Work item ID is required");await g(e)}async function $(e){if(!e)throw Error("Work item ID is required");await u(e)}async function B(e,t){if(!e)throw Error("Work item ID is required");await x(e,t)}async function H(e,t){if(!e)throw Error("Work item ID is required");await m(e,t)}async function O(e,t){if(!e)throw Error("Work item ID is required");if(!t||0===t.trim().length)throw Error("Rejection reason is required");await f(e,t)}async function U(e,t){if(!e)throw Error("Work item ID is required");await y(e,t)}async function M(e){if(!e)throw Error("Work item ID is required");await w(e)}async function q(e,t){if(!e)throw Error("Work item ID is required");if(!t||0===t.trim().length)throw Error("Comment text is required");await j(e,t)}async function G(e){if(!e)throw Error("Work item ID is required");return b(e)}async function _(e){if(!e)throw Error("Work item ID is required");return S(e)}async function V(t){let i=t?{...t,status:t.status&&"ALL"!==t.status?F(t.status):void 0}:void 0,r=await o({...i,page:1,pageSize:1e4}),{escapeCsvField:a,createCsvBlob:s}=await e.A(535485),{mapWorkItemToApplication:n}=await e.A(8947);return s(["Application ID","Work Item Number","Legal Name","Entity Type","Country","Status","Priority","Risk Level","Assigned To","Created Date","Updated Date"],r.items.map(e=>{let t=n(e);return[a(t.id),a(e.workItemNumber),a(t.legalName),a(t.entityType),a(t.country),a(t.status),a(e.priority),a(e.riskLevel),a(e.assignedToName||e.assignedTo),a(new Date(t.created).toLocaleDateString()),a(new Date(t.updated).toLocaleDateString())]}))}e.s(["exportApplications",()=>k,"fetchApplications",()=>v],82349),e.s(["fetchApplicationTrends",()=>W,"fetchDashboardProjection",()=>A,"fetchDashboardStats",()=>T,"fetchEntityTypeDistribution",()=>R],576699),e.s(["addCommentUseCase",()=>q,"approveWorkItemUseCase",()=>H,"assignWorkItemUseCase",()=>L,"completeWorkItemUseCase",()=>U,"declineWorkItemUseCase",()=>O,"exportWorkItems",()=>V,"fetchItemsDueForRefresh",()=>z,"fetchMyWorkItems",()=>P,"fetchPendingApprovals",()=>D,"fetchWorkItemComments",()=>G,"fetchWorkItemHistory",()=>_,"fetchWorkItems",()=>E,"markForRefreshUseCase",()=>M,"startReviewUseCase",()=>$,"submitForApprovalUseCase",()=>B,"unassignWorkItemUseCase",()=>N],571408),e.s([],670357)},330257,e=>{"use strict";var t=e.i(843476),i=e.i(843011),r=e.i(53545),a=e.i(361035),s=e.i(891825),n=e.i(761869),o=e.i(300713),l=e.i(522207);e.i(643983);var c=e.i(554646),d=e.i(827296),p=e.i(927561),h=e.i(44999),g=e.i(932536),u=e.i(179243),x=e.i(357441),m=e.i(271645),f=e.i(526732),y=e.i(862873),w=e.i(343827),j=e.i(617029),b=e.i(192199),S=e.i(194121);e.i(670357);var C=e.i(576699),I=e.i(778497);function v(){let{data:e,status:v}=(0,f.useSession)(),{condensed:k}=(0,j.useSidebar)();(0,m.useEffect)(()=>{},[e,v]);let T=e?.user?.name||e?.user?.email||"Admin",R="admin";if(T.includes("@")){let e=T.split("@")[0];R=e.split(".")[0]?.toLowerCase()||e.toLowerCase()}else R=T.split(" ")[0]?.toLowerCase()||"admin";let[W,A]=(0,m.useState)({totalApplications:0,pendingReview:0,riskReview:0,completed:0,incomplete:0,declined:0,avgProcessingTime:0,successRate:0}),[F,E]=(0,m.useState)([]),[P,D]=(0,m.useState)([]),[z,L]=(0,m.useState)(!0),[N,$]=(0,m.useState)(null),[B,H]=(0,m.useState)(null);(0,m.useEffect)(()=>{O()},[]);let O=async()=>{try{L(!0),$(null);let[e,t,i,r]=await Promise.allSettled([(0,C.fetchDashboardStats)(),(0,C.fetchEntityTypeDistribution)(),(0,C.fetchApplicationTrends)(7),(0,C.fetchDashboardProjection)()]);"fulfilled"===e.status?A(e.value):(I.logger.error(e.reason,"Failed to load dashboard stats",{tags:{error_type:"dashboard_stats_error"}}),$(e.reason?.message||"Failed to load dashboard statistics")),"fulfilled"===t.status?E(t.value):I.logger.error(t.reason,"Failed to load entity types",{tags:{error_type:"entity_types_error"}}),"fulfilled"===i.status?D(i.value):I.logger.error(i.reason,"Failed to load trends",{tags:{error_type:"trends_error"}}),"fulfilled"===r.status?H(r.value):console.error("Failed to load full dashboard:",r.reason)}catch(e){console.error("Failed to load dashboard data:",e),$(e instanceof Error?e.message:"Failed to load dashboard data. Please ensure the backend services are running.")}finally{L(!1)}},U=[{name:"Pending Review",value:W.pendingReview,color:"#3182ce"},{name:"Completed",value:W.completed,color:"#38a169"},{name:"Incomplete",value:W.incomplete,color:"#dd6b20"},{name:"Risk Review",value:W.riskReview,color:"#e53e3e"},{name:"Declined",value:W.declined,color:"#718096"}].filter(e=>e.value>0);return"loading"===v?(0,t.jsxs)(n.Flex,{minH:"100vh",bg:"gray.50",children:[(0,t.jsx)(y.default,{}),(0,t.jsx)(w.default,{}),(0,t.jsx)(i.Box,{flex:"1",ml:k?"72px":"280px",mt:"90px",display:"flex",alignItems:"center",justifyContent:"center",transition:"margin-left 0.3s ease",children:(0,t.jsxs)(r.VStack,{gap:"4",children:[(0,t.jsx)(o.Spinner,{size:"xl",color:"orange.500"}),(0,t.jsx)(c.Typography,{color:"gray.600",children:"Loading session..."})]})})]}):z?(0,t.jsxs)(n.Flex,{minH:"100vh",bg:"gray.50",children:[(0,t.jsx)(y.default,{}),(0,t.jsx)(w.default,{}),(0,t.jsx)(i.Box,{flex:"1",ml:k?"72px":"280px",mt:"90px",display:"flex",alignItems:"center",justifyContent:"center",transition:"margin-left 0.3s ease",children:(0,t.jsxs)(r.VStack,{gap:"4",children:[(0,t.jsx)(o.Spinner,{size:"xl",color:"orange.500"}),(0,t.jsx)(c.Typography,{color:"gray.600",children:"Loading dashboard..."})]})})]}):(0,t.jsxs)(n.Flex,{minH:"100vh",bg:"gray.50",children:[(0,t.jsx)(y.default,{}),(0,t.jsx)(w.default,{}),(0,t.jsx)(i.Box,{flex:"1",ml:k?"72px":"280px",mt:"90px",minH:"calc(100vh - 90px)",width:k?"calc(100% - 72px)":"calc(100% - 280px)",bg:"gray.50",overflowX:"hidden",transition:"margin-left 0.3s ease, width 0.3s ease",children:(0,t.jsx)(i.Box,{width:"full",px:"6",py:"8",children:(0,t.jsxs)(r.VStack,{gap:"8",align:"stretch",width:"full",children:[N&&(0,t.jsx)(p.AlertBar,{status:"error",title:"API request failed",description:N}),(0,t.jsx)(i.Box,{mb:"6",children:(0,t.jsxs)(r.VStack,{align:"start",gap:"2",children:[(0,t.jsxs)(c.Typography,{fontSize:"3xl",fontWeight:"bold",color:"#111827",children:["Hello ",R]}),(0,t.jsx)(c.Typography,{fontSize:"md",color:"#374151",children:"Here you'll find everything you need to manage your services, teams and partners"})]})}),(0,t.jsx)(i.Box,{width:"full",children:(0,t.jsxs)(s.SimpleGrid,{columns:{base:1,sm:2,md:3,lg:4,xl:6},gap:"4",width:"full",mb:"6",children:[(0,t.jsxs)(d.Card,{width:"full",bg:"white",children:[(0,t.jsxs)(n.Flex,{alignItems:"center",justifyContent:"space-between",w:"100%",h:"100%",mb:"4",children:[(0,t.jsxs)(n.Flex,{alignItems:"center",gap:"12px",my:"auto",children:[(0,t.jsx)(l.Avatar.Root,{bg:"mukuru.orange.100/20",height:"36px",width:"36px",display:"flex",alignItems:"center",justifyContent:"center",children:(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(u.DocumentIcon,{color:"#F05423",height:"24px",width:"24px"})})}),(0,t.jsx)(c.Typography,{color:"gray.800",fontSize:"16px",fontWeight:"black",lineHeight:"24px",children:"Total Applications"})]}),(0,t.jsx)(i.Box,{justifySelf:"flex-end",children:(0,t.jsx)(g.ChevronRightIcon,{color:"#F05423",width:"20px",height:"20px"})})]}),(0,t.jsx)(c.Typography,{color:"gray.800",fontFamily:"Madera",fontSize:"30px",fontWeight:"black",letterSpacing:"0%",lineHeight:"40px",children:W.totalApplications.toLocaleString()})]}),(0,t.jsxs)(d.Card,{width:"full",bg:"white",children:[(0,t.jsxs)(n.Flex,{alignItems:"center",justifyContent:"space-between",w:"100%",h:"100%",mb:"4",children:[(0,t.jsxs)(n.Flex,{alignItems:"center",gap:"12px",my:"auto",children:[(0,t.jsx)(l.Avatar.Root,{bg:"blue.100",height:"36px",width:"36px",display:"flex",alignItems:"center",justifyContent:"center",children:(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(b.FiClock,{size:24,color:"#3182CE"})})}),(0,t.jsx)(c.Typography,{color:"gray.800",fontSize:"16px",fontWeight:"black",lineHeight:"24px",children:"Pending Review"})]}),(0,t.jsx)(i.Box,{justifySelf:"flex-end",children:(0,t.jsx)(g.ChevronRightIcon,{color:"#F05423",width:"20px",height:"20px"})})]}),(0,t.jsx)(c.Typography,{color:"blue.600",fontFamily:"Madera",fontSize:"30px",fontWeight:"black",letterSpacing:"0%",lineHeight:"40px",children:W.pendingReview.toLocaleString()})]}),(0,t.jsxs)(d.Card,{width:"full",bg:"white",children:[(0,t.jsxs)(n.Flex,{alignItems:"center",justifyContent:"space-between",w:"100%",h:"100%",mb:"4",children:[(0,t.jsxs)(n.Flex,{alignItems:"center",gap:"12px",my:"auto",children:[(0,t.jsx)(l.Avatar.Root,{bg:"mukuru.orange.100/20",height:"36px",width:"36px",display:"flex",alignItems:"center",justifyContent:"center",children:(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(x.WarningIcon,{color:"#F05423",height:"24px",width:"24px"})})}),(0,t.jsx)(c.Typography,{color:"gray.800",fontSize:"16px",fontWeight:"black",lineHeight:"24px",children:"Risk Review"})]}),(0,t.jsx)(i.Box,{justifySelf:"flex-end",children:(0,t.jsx)(g.ChevronRightIcon,{color:"#F05423",width:"20px",height:"20px"})})]}),(0,t.jsx)(c.Typography,{color:"orange.600",fontFamily:"Madera",fontSize:"30px",fontWeight:"black",letterSpacing:"0%",lineHeight:"40px",children:W.riskReview.toLocaleString()})]}),(0,t.jsxs)(d.Card,{width:"full",bg:"white",children:[(0,t.jsxs)(n.Flex,{alignItems:"center",justifyContent:"space-between",w:"100%",h:"100%",mb:"4",children:[(0,t.jsxs)(n.Flex,{alignItems:"center",gap:"12px",my:"auto",children:[(0,t.jsx)(l.Avatar.Root,{bg:"green.100",height:"36px",width:"36px",display:"flex",alignItems:"center",justifyContent:"center",children:(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(b.FiCheckCircle,{size:24,color:"#38A169"})})}),(0,t.jsx)(c.Typography,{color:"gray.800",fontSize:"16px",fontWeight:"black",lineHeight:"24px",children:"Completed"})]}),(0,t.jsx)(i.Box,{justifySelf:"flex-end",children:(0,t.jsx)(g.ChevronRightIcon,{color:"#F05423",width:"20px",height:"20px"})})]}),(0,t.jsx)(c.Typography,{color:"green.600",fontFamily:"Madera",fontSize:"30px",fontWeight:"black",letterSpacing:"0%",lineHeight:"40px",children:W.completed.toLocaleString()})]}),(0,t.jsxs)(d.Card,{width:"full",bg:"white",children:[(0,t.jsxs)(n.Flex,{alignItems:"center",justifyContent:"space-between",w:"100%",h:"100%",mb:"4",children:[(0,t.jsxs)(n.Flex,{alignItems:"center",gap:"12px",my:"auto",children:[(0,t.jsx)(l.Avatar.Root,{bg:"mukuru.orange.100/20",height:"36px",width:"36px",display:"flex",alignItems:"center",justifyContent:"center",children:(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(u.DocumentIcon,{color:"#F05423",height:"24px",width:"24px"})})}),(0,t.jsx)(c.Typography,{color:"gray.800",fontSize:"16px",fontWeight:"black",lineHeight:"24px",children:"Incomplete"})]}),(0,t.jsx)(i.Box,{justifySelf:"flex-end",children:(0,t.jsx)(g.ChevronRightIcon,{color:"#F05423",width:"20px",height:"20px"})})]}),(0,t.jsx)(c.Typography,{color:"orange.600",fontFamily:"Madera",fontSize:"30px",fontWeight:"black",letterSpacing:"0%",lineHeight:"40px",children:W.incomplete.toLocaleString()})]}),(0,t.jsxs)(d.Card,{width:"full",bg:"white",children:[(0,t.jsxs)(n.Flex,{alignItems:"center",justifyContent:"space-between",w:"100%",h:"100%",mb:"4",children:[(0,t.jsxs)(n.Flex,{alignItems:"center",gap:"12px",my:"auto",children:[(0,t.jsx)(l.Avatar.Root,{bg:"red.100",height:"36px",width:"36px",display:"flex",alignItems:"center",justifyContent:"center",children:(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(b.FiXCircle,{size:24,color:"#E53E3E"})})}),(0,t.jsx)(c.Typography,{color:"gray.800",fontSize:"16px",fontWeight:"black",lineHeight:"24px",children:"Declined"})]}),(0,t.jsx)(i.Box,{justifySelf:"flex-end",children:(0,t.jsx)(g.ChevronRightIcon,{color:"#F05423",width:"20px",height:"20px"})})]}),(0,t.jsx)(c.Typography,{color:"red.600",fontFamily:"Madera",fontSize:"30px",fontWeight:"black",letterSpacing:"0%",lineHeight:"40px",children:W.declined.toLocaleString()})]})]})}),(0,t.jsx)(i.Box,{width:"full",children:(0,t.jsxs)(s.SimpleGrid,{columns:{base:1,sm:2,md:2,lg:4},gap:"4",width:"full",children:[(0,t.jsxs)(d.Card,{width:"full",bg:"white",children:[(0,t.jsxs)(n.Flex,{alignItems:"center",justifyContent:"space-between",w:"100%",h:"100%",mb:"4",children:[(0,t.jsxs)(n.Flex,{alignItems:"center",gap:"12px",my:"auto",children:[(0,t.jsx)(l.Avatar.Root,{bg:"gray.100",height:"36px",width:"36px",display:"flex",alignItems:"center",justifyContent:"center",children:(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(b.FiClock,{size:24,color:"#9CA3AF"})})}),(0,t.jsx)(c.Typography,{color:"gray.800",fontSize:"16px",fontWeight:"black",lineHeight:"24px",children:"Avg Processing Time"})]}),(0,t.jsx)(i.Box,{justifySelf:"flex-end",children:(0,t.jsx)(g.ChevronRightIcon,{color:"#F05423",width:"20px",height:"20px"})})]}),(0,t.jsx)(c.Typography,{color:"gray.800",fontFamily:"Madera",fontSize:"30px",fontWeight:"black",letterSpacing:"0%",lineHeight:"40px",children:W.avgProcessingTime>0?`${W.avgProcessingTime.toFixed(1)} days`:"N/A"})]}),(0,t.jsxs)(d.Card,{width:"full",bg:"white",children:[(0,t.jsxs)(n.Flex,{alignItems:"center",justifyContent:"space-between",w:"100%",h:"100%",mb:"4",children:[(0,t.jsxs)(n.Flex,{alignItems:"center",gap:"12px",my:"auto",children:[(0,t.jsx)(l.Avatar.Root,{bg:"green.100",height:"36px",width:"36px",display:"flex",alignItems:"center",justifyContent:"center",children:(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(b.FiTrendingUp,{size:24,color:"#38A169"})})}),(0,t.jsx)(c.Typography,{color:"gray.800",fontSize:"16px",fontWeight:"black",lineHeight:"24px",children:"Success Rate"})]}),(0,t.jsx)(i.Box,{justifySelf:"flex-end",children:(0,t.jsx)(g.ChevronRightIcon,{color:"#F05423",width:"20px",height:"20px"})})]}),(0,t.jsx)(c.Typography,{color:"green.600",fontFamily:"Madera",fontSize:"30px",fontWeight:"black",letterSpacing:"0%",lineHeight:"40px",children:W.successRate>0?`${(100*W.successRate).toFixed(1)}%`:"0%"})]}),(0,t.jsxs)(d.Card,{width:"full",bg:"white",children:[(0,t.jsxs)(n.Flex,{alignItems:"center",justifyContent:"space-between",w:"100%",h:"100%",mb:"4",children:[(0,t.jsxs)(n.Flex,{alignItems:"center",gap:"12px",my:"auto",children:[(0,t.jsx)(l.Avatar.Root,{bg:"blue.100",height:"36px",width:"36px",display:"flex",alignItems:"center",justifyContent:"center",children:(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(b.FiZap,{size:24,color:"#3182CE"})})}),(0,t.jsx)(c.Typography,{color:"gray.800",fontSize:"16px",fontWeight:"black",lineHeight:"24px",children:"New This Month"})]}),(0,t.jsx)(i.Box,{justifySelf:"flex-end",children:(0,t.jsx)(g.ChevronRightIcon,{color:"#F05423",width:"20px",height:"20px"})})]}),(0,t.jsx)(c.Typography,{color:"blue.600",fontFamily:"Madera",fontSize:"30px",fontWeight:"black",letterSpacing:"0%",lineHeight:"40px",children:B?.cases?.newCasesThisMonth?.toLocaleString()||"0"}),B?.cases?.newCasesGrowthPercentage!==void 0&&(0,t.jsxs)(a.HStack,{gap:"1",mt:"2",children:[(0,t.jsx)(b.FiTrendingUp,{size:14,color:B.cases.newCasesGrowthPercentage>=0?"#38A169":"#E53E3E"}),(0,t.jsxs)(c.Typography,{fontSize:"xs",color:B.cases.newCasesGrowthPercentage>=0?"green.600":"red.600",children:[B.cases.newCasesGrowthPercentage>=0?"+":"",B.cases.newCasesGrowthPercentage.toFixed(1),"% vs last month"]})]})]}),(0,t.jsxs)(d.Card,{width:"full",bg:"white",children:[(0,t.jsxs)(n.Flex,{alignItems:"center",justifyContent:"space-between",w:"100%",h:"100%",mb:"4",children:[(0,t.jsxs)(n.Flex,{alignItems:"center",gap:"12px",my:"auto",children:[(0,t.jsx)(l.Avatar.Root,{bg:"green.100",height:"36px",width:"36px",display:"flex",alignItems:"center",justifyContent:"center",children:(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(b.FiBarChart,{size:24,color:"#38A169"})})}),(0,t.jsx)(c.Typography,{color:"gray.800",fontSize:"16px",fontWeight:"black",lineHeight:"24px",children:"Approval Rate"})]}),(0,t.jsx)(i.Box,{justifySelf:"flex-end",children:(0,t.jsx)(g.ChevronRightIcon,{color:"#F05423",width:"20px",height:"20px"})})]}),(0,t.jsx)(c.Typography,{color:"green.600",fontFamily:"Madera",fontSize:"30px",fontWeight:"black",letterSpacing:"0%",lineHeight:"40px",children:B?.performance?.approvalRate?`${(100*B.performance.approvalRate).toFixed(1)}%`:W.totalApplications>0?`${(W.completed/W.totalApplications*100).toFixed(1)}%`:"0%"})]})]})}),(0,t.jsxs)(s.SimpleGrid,{columns:{base:1,lg:2},gap:"6",width:"full",children:[(0,t.jsx)(d.Card,{width:"full",bg:"white",style:{width:"100%",height:"auto"},children:(0,t.jsxs)(r.VStack,{align:"start",gap:"6",width:"full",p:"6",children:[(0,t.jsxs)(r.VStack,{align:"start",gap:"1",width:"full",children:[(0,t.jsx)(c.Typography,{fontSize:"lg",fontWeight:"semibold",color:"gray.900",children:"Application Status Distribution"}),(0,t.jsx)(c.Typography,{fontSize:"sm",color:"gray.600",children:"Current status breakdown of all applications"})]}),U.length>0?(0,t.jsx)(i.Box,{width:"100%",height:"320px",style:{minWidth:"300px",minHeight:"320px"},children:(0,t.jsx)(S.StatusPieChart,{data:U})}):(0,t.jsx)(i.Box,{width:"100%",height:"320px",display:"flex",alignItems:"center",justifyContent:"center",bg:"gray.50",borderRadius:"md",children:(0,t.jsxs)(r.VStack,{gap:"2",children:[(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(b.FiFileText,{size:32,color:"#9CA3AF"})}),(0,t.jsx)(c.Typography,{color:"gray.500",fontSize:"sm",children:"No application status data available"})]})})]})}),(0,t.jsx)(d.Card,{width:"full",bg:"white",style:{width:"100%",height:"auto"},children:(0,t.jsxs)(r.VStack,{align:"start",gap:"6",width:"full",p:"6",children:[(0,t.jsxs)(r.VStack,{align:"start",gap:"1",width:"full",children:[(0,t.jsx)(c.Typography,{fontSize:"lg",fontWeight:"semibold",color:"gray.900",children:"Applications by Entity Type"}),(0,t.jsx)(c.Typography,{fontSize:"sm",color:"gray.600",children:"Distribution across business types"})]}),F.length>0?(0,t.jsx)(i.Box,{width:"100%",height:"320px",style:{minWidth:"300px",minHeight:"320px"},children:(0,t.jsx)(S.EntityTypeChart,{data:F,height:320})}):(0,t.jsx)(i.Box,{width:"100%",height:"320px",display:"flex",alignItems:"center",justifyContent:"center",bg:"gray.50",borderRadius:"md",children:(0,t.jsxs)(r.VStack,{gap:"2",children:[(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(b.FiBarChart,{size:32,color:"#9CA3AF"})}),(0,t.jsx)(c.Typography,{color:"gray.500",fontSize:"sm",children:"No entity type data available"})]})})]})})]}),(0,t.jsx)(d.Card,{width:"full",bg:"white",style:{width:"100%",height:"auto"},children:(0,t.jsxs)(r.VStack,{align:"start",gap:"6",width:"full",p:"6",children:[(0,t.jsxs)(r.VStack,{align:"start",gap:"1",width:"full",children:[(0,t.jsx)(c.Typography,{fontSize:"lg",fontWeight:"semibold",color:"gray.900",children:"Application Trend"}),(0,t.jsx)(c.Typography,{fontSize:"sm",color:"gray.600",children:"New applications over the last 7 days"})]}),P.length>0?(0,t.jsxs)(i.Box,{width:"100%",height:"300px",style:{minWidth:"300px",minHeight:"300px"},children:[(0,t.jsx)(S.ApplicationTrendsChart,{data:P}),(0,t.jsx)(i.Box,{mt:"4",children:(0,t.jsx)(S.ChartLegend,{items:[{name:"Applications",color:"#dd6b20"},{name:"Completed",color:"#38a169"}]})})]}):(0,t.jsx)(i.Box,{width:"100%",height:"300px",display:"flex",alignItems:"center",justifyContent:"center",bg:"gray.50",borderRadius:"md",children:(0,t.jsxs)(r.VStack,{gap:"2",children:[(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(b.FiTrendingUp,{size:32,color:"#9CA3AF"})}),(0,t.jsx)(c.Typography,{color:"gray.500",fontSize:"sm",children:"No trend data available"})]})})]})})]})})})]})}e.s(["default",()=>v])},535485,e=>{e.v(t=>Promise.all(["static/chunks/357d3a57e18aad09.js"].map(t=>e.l(t))).then(()=>t(332915)))},8947,e=>{e.v(e=>Promise.resolve().then(()=>e(817684)))}]);

//# debugId=ff10bedb-7618-d3af-7e07-722f0080fb5d
//# sourceMappingURL=2842798cd734b14c.js.map