;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="60dcdbd7-368f-bf20-ad97-afa8b8cacff5")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,618566,(e,i,t)=>{i.exports=e.r(976562)},297630,e=>{"use strict";let{withContext:i,PropsProvider:t}=(0,e.i(552887).createRecipeContext)({key:"container"}),n=i("div");e.s(["Container",()=>n])},952683,e=>{"use strict";var i=e.i(843476),t=e.i(843011),n=e.i(297630),o=e.i(53545),a=e.i(361035),r=e.i(761869),s=e.i(300713),l=e.i(299753),c=e.i(126299);e.i(605065);var d=e.i(554646),h=e.i(267860),g=e.i(846932),p=e.i(526732),u=e.i(618566),x=e.i(271645),y=e.i(192199);let m=(0,g.motion)(t.Box);function f(){let{data:e,status:g}=(0,p.useSession)(),f=(0,u.useRouter)(),[b,w]=(0,x.useState)(!1),[S,j]=(0,x.useState)(null);(0,x.useEffect)(()=>{let i=new URLSearchParams(window.location.search).get("callbackUrl"),t="/dashboard";if(i)try{let e=decodeURIComponent(i);if(e.startsWith("http://")||e.startsWith("https://")){let i=new URL(e);t=i.pathname+i.search}else e.startsWith("/"),t=e}catch(e){console.error("Error parsing callbackUrl:",e),t="/dashboard"}if(i){if(console.log("CallbackUrl detected after Azure AD auth, redirecting...",{callbackUrl:i,redirectPath:t,status:g}),"authenticated"===g&&e){console.log("Session authenticated, redirecting to:",t),window.location.replace(t);return}if((0,p.getSession)().then(e=>{console.log("Session check result:",{hasSession:!!e,status:g}),e&&(console.log("Session found via getSession, redirecting to:",t),window.location.replace(t))}).catch(e=>{console.error("Error checking session:",e)}),"loading"===g){console.log("Status is loading, waiting for session...");let e=setTimeout(()=>{(0,p.getSession)().then(e=>{e?console.log("Session found after wait, redirecting to:",t):console.log("No session found but callbackUrl present, attempting redirect anyway"),window.location.replace(t)})},500);return()=>clearTimeout(e)}return void("unauthenticated"===g&&(console.log("Status unauthenticated but callbackUrl present, redirecting anyway"),setTimeout(()=>{window.location.replace(t)},100)))}if("authenticated"===g&&e){console.log("Authenticated, redirecting to:",t),window.location.pathname!==t.split("?")[0]&&window.location.replace(t);return}{let e=new URLSearchParams(window.location.search).get("error");if(e){let i={Configuration:"There is a problem with the server configuration. Please contact support.",AccessDenied:"You do not have permission to sign in.",Verification:"The verification token has expired or has already been used.",OAuthCallbackError:"An error occurred during the authentication callback. This may be due to a configuration issue. Please try signing in again.",OAuthSignin:"An error occurred while signing in. Please try again.",OAuthCreateAccount:"Could not create an account. Please contact support.",EmailCreateAccount:"Could not create an account with this email.",Callback:"An error occurred in the authentication callback.",OAuthAccountNotLinked:"An account with this email already exists. Please sign in with your original provider.",EmailSignin:"An error occurred sending the email. Please try again.",CredentialsSignin:"Invalid credentials provided.",SessionRequired:"Please sign in to access this page.",Default:"An error occurred during authentication. Please try again or contact support if the problem persists."};j(i[e]||i.Default)}}},[g,e,f]);let A=async()=>{try{w(!0),j(null),await (0,p.signIn)("azure-ad",{callbackUrl:"/dashboard",redirect:!0})}catch(e){j("Failed to sign in. Please try again."),w(!1)}};return"loading"===g?(0,i.jsx)(t.Box,{minH:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bg:"gray.50",children:(0,i.jsx)(s.Spinner,{size:"xl",color:"orange.500"})}):"authenticated"===g?null:(0,i.jsxs)(t.Box,{minH:"100vh",bg:"gray.50",position:"relative",children:[(0,i.jsx)(m,{position:"absolute",top:"0",right:"0",width:"50%",height:"100%",bg:"linear-gradient(135deg, #F05423 0%, #DD4A1F 100%)",clipPath:"polygon(30% 0%, 100% 0%, 100% 100%, 0% 100%)",initial:{opacity:0,x:100},animate:{opacity:1,x:0},transition:{duration:.8}}),(0,i.jsx)(n.Container,{maxW:"7xl",minH:"100vh",display:"flex",alignItems:"center",children:(0,i.jsxs)(r.Flex,{width:"100%",alignItems:"center",gap:"12",children:[(0,i.jsxs)(m,{flex:"1",maxW:"500px",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},children:[(0,i.jsx)(t.Box,{mb:"8",children:(0,i.jsx)(h.MukuruLogo,{height:"60px"})}),(0,i.jsx)(m,{bg:"white",boxShadow:"2xl",borderRadius:"2xl",overflow:"hidden",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:(0,i.jsx)(t.Box,{p:"10",children:(0,i.jsxs)(o.VStack,{gap:"6",align:"stretch",children:[(0,i.jsxs)(o.VStack,{gap:"2",align:"start",children:[(0,i.jsx)(d.Typography,{as:"h1",fontSize:"3xl",fontWeight:"bold",color:"gray.800",children:"Admin Access"}),(0,i.jsx)(d.Typography,{color:"gray.600",mt:"2",children:"Secure administrative portal with Azure AD authentication"})]}),S&&(0,i.jsx)(t.Box,{p:"3",bg:"red.50",border:"1px",borderColor:"red.200",borderRadius:"md",color:"red.700",children:(0,i.jsx)(d.Typography,{fontSize:"sm",children:S})}),(0,i.jsxs)(o.VStack,{gap:"4",align:"stretch",children:[(0,i.jsx)(l.Button,{onClick:A,width:"100%",disabled:b,bg:"#F05423",color:"white",size:"md",fontWeight:"semibold",fontSize:"md",_hover:{bg:"#DD4A1F"},_active:{bg:"#CA401B"},loading:b,loadingText:"Signing in...",children:(0,i.jsxs)(a.HStack,{gap:"2",children:[(0,i.jsx)(c.Icon,{as:y.FiShield,boxSize:"20px",color:"white"}),(0,i.jsx)(d.Typography,{color:"white",fontWeight:"semibold",children:"Sign in with Microsoft"})]})}),(0,i.jsx)(d.Typography,{color:"gray.500",fontSize:"sm",textAlign:"center",mt:"2",children:"Use your Microsoft account to access the admin portal"})]}),(0,i.jsx)(o.VStack,{gap:"4",mt:"4",children:(0,i.jsx)(d.Typography,{color:"gray.500",fontSize:"sm",textAlign:"center",children:"Authorized personnel only"})})]})})})]}),(0,i.jsx)(m,{flex:"1",color:"white",zIndex:"10",position:"relative",display:"flex",alignItems:"center",justifyContent:"flex-end",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.6,delay:.6},children:(0,i.jsxs)(o.VStack,{gap:"8",align:"start",maxW:"400px",pr:"8",ml:"8",children:[(0,i.jsx)(d.Typography,{as:"h2",fontSize:"4xl",fontWeight:"bold",lineHeight:"1.2",color:"white",children:"Administrative Portal"}),(0,i.jsx)(d.Typography,{as:"p",fontSize:"xl",opacity:"0.9",lineHeight:"1.6",color:"white",children:"Secure access to manage applications, monitor compliance, and oversee the digital onboarding process."}),(0,i.jsxs)(o.VStack,{gap:"4",align:"start",children:[(0,i.jsxs)(a.HStack,{gap:"3",children:[(0,i.jsx)(t.Box,{width:"32px",height:"32px",borderRadius:"50%",bg:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",children:(0,i.jsx)(c.Icon,{as:y.FiLock,boxSize:"18px",color:"white"})}),(0,i.jsx)(d.Typography,{fontSize:"lg",color:"white",children:"Azure AD authentication"})]}),(0,i.jsxs)(a.HStack,{gap:"3",children:[(0,i.jsx)(t.Box,{width:"32px",height:"32px",borderRadius:"50%",bg:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",children:(0,i.jsx)(c.Icon,{as:y.FiBarChart2,boxSize:"18px",color:"white"})}),(0,i.jsx)(d.Typography,{fontSize:"lg",color:"white",children:"Application management"})]}),(0,i.jsxs)(a.HStack,{gap:"3",children:[(0,i.jsx)(t.Box,{width:"32px",height:"32px",borderRadius:"50%",bg:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",children:(0,i.jsx)(c.Icon,{as:y.FiZap,boxSize:"18px",color:"white"})}),(0,i.jsx)(d.Typography,{fontSize:"lg",color:"white",children:"Real-time monitoring"})]})]})]})})]})})]})}e.s(["default",()=>f])}]);

//# debugId=60dcdbd7-368f-bf20-ad97-afa8b8cacff5
//# sourceMappingURL=f10b4741f4be0570.js.map