;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="1968392e-ea29-6c8d-fb85-dc3a7f551d69")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,233525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return i}});let i=e=>{}},618566,(e,t,r)=>{t.exports=e.r(976562)},862873,e=>{"use strict";var t=e.i(843476),r=e.i(271645),i=e.i(618566);e.i(643983);var n=e.i(355569),s=e.i(111977),o=e.i(134590),a=e.i(179243),l=e.i(119192),c=e.i(307124),u=e.i(857692),d=e.i(194741),p=e.i(489312),h=e.i(357441),f=e.i(843011),g=e.i(617029);function x(){let e=(0,i.usePathname)(),x=(0,i.useRouter)(),{condensed:m,setCondensed:y}=(0,g.useSidebar)(),[b,C]=(0,r.useState)("dashboard");(0,r.useEffect)(()=>{"/dashboard"===e?C("dashboard"):e?.startsWith("/work-queue")?C("work-queue"):e?.startsWith("/applications")?C("applications"):e?.startsWith("/review")||e?.startsWith("/risk-review")||e?.startsWith("/approvals")?C("reviews"):e?.startsWith("/documents")?C("documents"):e?.startsWith("/requirements")?C("requirements"):e?.startsWith("/entity-types")?C("entity-types"):e?.startsWith("/checklists")?C("checklists"):e?.startsWith("/wizard-configurations")?C("wizard-configurations"):e?.startsWith("/rules-and-permissions")?C("rules-and-permissions"):e?.startsWith("/audit-log")?C("audit-log"):e?.startsWith("/messages")?C("messages"):e?.startsWith("/notifications")?C("notifications"):e?.startsWith("/data-migration")?C("data-migration"):e?.startsWith("/refreshes")?C("refreshes"):e?.startsWith("/reports")?C("reports"):e?.startsWith("/profile")?C("profile"):e?.startsWith("/settings")&&C("settings")},[e]);let w=(0,r.useMemo)(()=>[{id:"dashboard",label:"Dashboard",icon:(0,t.jsx)(s.ProductIcon,{width:"20",height:"20"}),onClick:()=>{C("dashboard"),x.push("/dashboard")}},{id:"work-queue",label:"Work Queue",icon:(0,t.jsx)(p.FilterIcon,{width:"20",height:"20"}),onClick:()=>{C("work-queue"),x.push("/work-queue")}},{id:"applications",label:"Applications",icon:(0,t.jsx)(u.AppIcon,{width:"20",height:"20"}),onClick:()=>{C("applications"),x.push("/applications")}},{id:"reviews",label:"Reviews",icon:(0,t.jsx)(a.DocumentIcon,{width:"20",height:"20"}),onClick:()=>{C("reviews"),x.push("/review")},subItems:[{id:"risk-review",label:"Risk Review",onClick:()=>{C("reviews"),x.push("/risk-review")}},{id:"approvals",label:"Approvals",onClick:()=>{C("reviews"),x.push("/approvals")}}]},{id:"documents",label:"Documents",icon:(0,t.jsx)(d.FileOpenIcon,{width:"20",height:"20"}),onClick:()=>{C("documents"),x.push("/documents")}},{id:"configuration",label:"Configuration",icon:(0,t.jsx)(l.SettingsIcon,{width:"20",height:"20"}),onClick:()=>{C("configuration"),x.push("/requirements")},subItems:[{id:"requirements",label:"Requirements",onClick:()=>{C("configuration"),x.push("/requirements")}},{id:"entity-types",label:"Entity Types",onClick:()=>{C("configuration"),x.push("/entity-types")}},{id:"checklists",label:"Checklists",onClick:()=>{C("configuration"),x.push("/checklists")}},{id:"wizard-configurations",label:"Wizard Configurations",onClick:()=>{C("configuration"),x.push("/wizard-configurations")}},{id:"rules-and-permissions",label:"Rules & Permissions",onClick:()=>{C("configuration"),x.push("/rules-and-permissions")}}]},{id:"system",label:"System",icon:(0,t.jsx)(h.WarningIcon,{width:"20",height:"20"}),onClick:()=>{C("system"),x.push("/audit-log")},subItems:[{id:"audit-log",label:"Audit Log",onClick:()=>{C("system"),x.push("/audit-log")}},{id:"messages",label:"Messages",onClick:()=>{C("system"),x.push("/messages")}},{id:"notifications",label:"Notifications",onClick:()=>{C("system"),x.push("/notifications")}},{id:"data-migration",label:"Data Migration",onClick:()=>{C("system"),x.push("/data-migration")}},{id:"refreshes",label:"Refreshes",onClick:()=>{C("system"),x.push("/refreshes")}}]},{id:"reports",label:"Reports",icon:(0,t.jsx)(a.DocumentIcon,{width:"20",height:"20"}),onClick:()=>{C("reports"),x.push("/reports")}},{id:"profile",label:"Profile",icon:(0,t.jsx)(o.UserIcon,{width:"20",height:"20"}),onClick:()=>{C("profile"),x.push("/profile")}}],[x]),k={id:"help-centre",label:"Help Centre",icon:(0,t.jsx)(c.HelpIcon,{width:"20",height:"20"}),onClick:()=>{console.log("Help Centre")}};return(0,t.jsx)(f.Box,{position:"fixed",left:"0",top:"0",height:"100vh",width:m?"72px":"280px",borderRight:"1px solid",borderColor:"rgba(55, 58, 54, 0.15)",zIndex:"1000",className:"sidebar-wrapper",bg:"#F9FAFB",overflowY:"auto",transition:"width 0.3s ease",children:(0,t.jsx)(n.PortalNavigationSidebar,{navigationItems:w,helpCentreItem:k,activeItemId:b,condensed:m,onToggleCollapse:y,onLogoClick:()=>{C("dashboard"),x.push("/dashboard")},expandedWidth:"280px",condensedWidth:"72px"})})}e.s(["default",()=>x])},297630,e=>{"use strict";let{withContext:t,PropsProvider:r}=(0,e.i(552887).createRecipeContext)({key:"container"}),i=t("div");e.s(["Container",()=>i])},891825,e=>{"use strict";var t=e.i(843476),r=e.i(271645),i=e.i(441305),n=e.i(95966),s=e.i(920755);let o=(0,r.forwardRef)(function(e,r){var o,a,l;let{columns:c,minChildWidth:u,...d}=e,p=(0,i.useChakraContext)(),h=u?(o=u,a=p,(0,n.mapObject)(o,e=>{let t=a.tokens.getVar(`sizes.${e}`,"number"==typeof e?`${e}px`:e);return null===e?null:`repeat(auto-fit, minmax(${t}, 1fr))`})):(l=c,(0,n.mapObject)(l,e=>null===e?null:`repeat(${e}, minmax(0, 1fr))`));return(0,t.jsx)(s.Grid,{ref:r,templateColumns:h,...d})});e.s(["SimpleGrid",()=>o])},343827,e=>{"use strict";var t=e.i(843476),r=e.i(618566),i=e.i(526732);e.i(643983);var n=e.i(307167),s=e.i(44999),o=e.i(843011),a=e.i(361035),l=e.i(761869),c=e.i(299753),u=e.i(192199),d=e.i(617029);function p(){let e=(0,r.useRouter)(),{data:p}=(0,i.useSession)(),{condensed:h,setCondensed:f}=(0,d.useSidebar)(),g=p?.user?.name||"Admin",x=p?.user?.email||"admin@mukuru.com";return g.split(" ")[0]?.toLowerCase(),(0,t.jsx)(o.Box,{position:"fixed",top:"0",left:h?"72px":"280px",right:"0",height:"90px",bg:"white",zIndex:"999",px:"6",py:"4",pl:"6",transition:"left 0.3s ease, width 0.3s ease",className:"portal-header",borderBottom:"1px solid",borderColor:"rgba(55, 58, 54, 0.15)",children:(0,t.jsxs)(l.Flex,{justify:"space-between",align:"center",width:"full",height:"full",children:[(0,t.jsx)(a.HStack,{gap:"4",align:"center",children:(0,t.jsx)(c.Button,{variant:"ghost",onClick:()=>f(!h),p:"2",borderRadius:"full",minW:"40px",h:"40px",bg:"gray.100",_hover:{bg:"gray.200"},"aria-label":"Toggle sidebar",border:"none",_focus:{boxShadow:"none",outline:"none"},_active:{bg:"gray.200"},children:(0,t.jsx)(s.IconWrapper,{children:(0,t.jsx)(u.FiArrowLeft,{size:20,color:"#F05423"})})})}),(0,t.jsx)(a.HStack,{gap:"4",align:"center",children:(0,t.jsx)(n.ProfileMenu,{user:g,menuItems:[{id:0,label:x,value:"email"},{id:1,label:"My Profile",value:"profile",onSelect:()=>e.push("/profile")},{id:2,label:"Settings",value:"settings",onSelect:()=>e.push("/settings")},{id:3,label:"Log Out",value:"logout",onSelect:()=>e.push("/api/auth/logout")}]})})]})})}e.s(["default",()=>p])},998183,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={assign:function(){return l},searchParamsToUrlQuery:function(){return s},urlQueryToSearchParams:function(){return a}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});function s(e){let t={};for(let[r,i]of e.entries()){let e=t[r];void 0===e?t[r]=i:Array.isArray(e)?e.push(i):t[r]=[e,i]}return t}function o(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function a(e){let t=new URLSearchParams;for(let[r,i]of Object.entries(e))if(Array.isArray(i))for(let e of i)t.append(r,o(e));else t.set(r,o(i));return t}function l(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,i]of r.entries())e.append(t,i)}return e}},195057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={formatUrl:function(){return a},formatWithValidation:function(){return c},urlObjectKeys:function(){return l}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s=e.r(190809)._(e.r(998183)),o=/https?|ftp|gopher|file/;function a(e){let{auth:t,hostname:r}=e,i=e.protocol||"",n=e.pathname||"",a=e.hash||"",l=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),l&&"object"==typeof l&&(l=String(s.urlQueryToSearchParams(l)));let u=e.search||l&&`?${l}`||"";return i&&!i.endsWith(":")&&(i+=":"),e.slashes||(!i||o.test(i))&&!1!==c?(c="//"+(c||""),n&&"/"!==n[0]&&(n="/"+n)):c||(c=""),a&&"#"!==a[0]&&(a="#"+a),u&&"?"!==u[0]&&(u="?"+u),n=n.replace(/[?#]/g,encodeURIComponent),u=u.replace("#","%23"),`${i}${c}${n}${u}${a}`}let l=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return a(e)}},818581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return n}});let i=e.r(271645);function n(e,t){let r=(0,i.useRef)(null),n=(0,i.useRef)(null);return(0,i.useCallback)(i=>{if(null===i){let e=r.current;e&&(r.current=null,e());let t=n.current;t&&(n.current=null,t())}else e&&(r.current=s(e,i)),t&&(n.current=s(t,i))},[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},718967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={DecodeError:function(){return m},MiddlewareNotFoundError:function(){return w},MissingStaticPage:function(){return C},NormalizeError:function(){return y},PageNotFoundError:function(){return b},SP:function(){return g},ST:function(){return x},WEB_VITALS:function(){return s},execOnce:function(){return o},getDisplayName:function(){return d},getLocationOrigin:function(){return c},getURL:function(){return u},isAbsoluteUrl:function(){return l},isResSent:function(){return p},loadGetInitialProps:function(){return f},normalizeRepeatedSlashes:function(){return h},stringifyError:function(){return k}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s=["CLS","FCP","FID","INP","LCP","TTFB"];function o(e){let t,r=!1;return(...i)=>(r||(r=!0,t=e(...i)),t)}let a=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>a.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function u(){let{href:e}=window.location,t=c();return e.substring(t.length)}function d(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function p(e){return e.finished||e.headersSent}function h(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function f(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await f(t.Component,t.ctx)}:{};let i=await e.getInitialProps(t);if(r&&p(r))return i;if(!i)throw Object.defineProperty(Error(`"${d(e)}.getInitialProps()" should resolve to an object. But found "${i}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return i}let g="undefined"!=typeof performance,x=g&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class m extends Error{}class y extends Error{}class b extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class C extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class w extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function k(e){return JSON.stringify({message:e.message,stack:e.stack})}},573668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return s}});let i=e.r(718967),n=e.r(652817);function s(e){if(!(0,i.isAbsoluteUrl)(e))return!0;try{let t=(0,i.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,n.hasBasePath)(r.pathname)}catch(e){return!1}}},284508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return i}});let i=e=>{}},522016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={default:function(){return m},useLinkStatus:function(){return b}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let s=e.r(190809),o=e.r(843476),a=s._(e.r(271645)),l=e.r(195057),c=e.r(8372),u=e.r(818581),d=e.r(718967),p=e.r(405550);e.r(233525);let h=e.r(769688),f=e.r(573668),g=e.r(509396);function x(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}function m(t){var r;let i,n,s,[l,m]=(0,a.useOptimistic)(h.IDLE_LINK_STATUS),b=(0,a.useRef)(null),{href:C,as:w,children:k,prefetch:j=null,passHref:v,replace:S,shallow:P,scroll:A,onClick:E,onMouseEnter:T,onTouchStart:I,legacyBehavior:O=!1,onNavigate:_,ref:R,unstable_dynamicOnHover:N,...W}=t;i=k,O&&("string"==typeof i||"number"==typeof i)&&(i=(0,o.jsx)("a",{children:i}));let F=a.default.useContext(c.AppRouterContext),B=!1!==j,L=!1!==j?null===(r=j)||"auto"===r?g.FetchStrategy.PPR:g.FetchStrategy.Full:g.FetchStrategy.PPR,{href:D,as:z}=a.default.useMemo(()=>{let e=x(C);return{href:e,as:w?x(w):e}},[C,w]);if(O){if(i?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});n=a.default.Children.only(i)}let M=O?n&&"object"==typeof n&&n.ref:R,q=a.default.useCallback(e=>(null!==F&&(b.current=(0,h.mountLinkInstance)(e,D,F,L,B,m)),()=>{b.current&&((0,h.unmountLinkForCurrentNavigation)(b.current),b.current=null),(0,h.unmountPrefetchableInstance)(e)}),[B,D,F,L,m]),U={ref:(0,u.useMergedRef)(q,M),onClick(t){O||"function"!=typeof E||E(t),O&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(t),!F||t.defaultPrevented||function(t,r,i,n,s,o,l){if("undefined"!=typeof window){let c,{nodeName:u}=t.currentTarget;if("A"===u.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,f.isLocalURL)(r)){s&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),l){let e=!1;if(l({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:d}=e.r(699781);a.default.startTransition(()=>{d(i||r,s?"replace":"push",o??!0,n.current)})}}(t,D,z,b,S,A,_)},onMouseEnter(e){O||"function"!=typeof T||T(e),O&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),F&&B&&(0,h.onNavigationIntent)(e.currentTarget,!0===N)},onTouchStart:function(e){O||"function"!=typeof I||I(e),O&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),F&&B&&(0,h.onNavigationIntent)(e.currentTarget,!0===N)}};return(0,d.isAbsoluteUrl)(z)?U.href=z:O&&!v&&("a"!==n.type||"href"in n.props)||(U.href=(0,p.addBasePath)(z)),s=O?a.default.cloneElement(n,U):(0,o.jsx)("a",{...W,...U,children:i}),(0,o.jsx)(y.Provider,{value:l,children:s})}e.r(284508);let y=(0,a.createContext)(h.IDLE_LINK_STATUS),b=()=>(0,a.useContext)(y);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},153963,e=>{"use strict";var t=e.i(526732);let r=new class{async getAuthHeaders(){let e=await (0,t.getSession)(),r={"Content-Type":"application/json"};return e?.user?.email&&(r["X-User-Email"]=e.user.email),e?.user?.name&&(r["X-User-Name"]=e.user.name),e?.user?.role&&(r["X-User-Role"]=e.user.role),r}async request(e,t){let r=await this.getAuthHeaders();try{let i=new Promise((e,t)=>{setTimeout(()=>t(Error("Request timeout")),15e3)}),n=fetch(e,{...t,headers:{...r,...t?.headers}}),s=await Promise.race([n,i]);if(!s.ok){let e=await s.text(),t=`Checklist API request failed: ${s.status} ${s.statusText}`;try{let r=JSON.parse(e);r.message?t=r.message:r.error&&(t=r.error)}catch{e&&e.trim().length>0&&(t=e.length>200?e.substring(0,200)+"...":e)}throw Error(t)}if(204===s.status)return null;return s.json()}catch(e){if(e instanceof TypeError||e instanceof Error&&e.message.includes("timeout"))throw Error("Unable to connect to Checklist service. Please ensure the service is running.");throw e}}mapChecklistDto(e){let t=e.caseId||e.case_id||"",r=e.createdAt||e.created_at||new Date().toISOString(),i=e.completedAt||e.completed_at,n=e.type||"";console.log("[ChecklistApi] Mapping DTO:",{id:e.id,caseId:t,type:n,rawCaseId:e.caseId,rawCase_id:e.case_id});let s=this.extractEntityType(n,t);console.log("[ChecklistApi] Extracted entity type:",s,"from caseId:",t,"type:",n);let o=`${s} Checklist`,a=`Checklist for ${s.toLowerCase()} onboarding`,l=(e.items||[]).map(e=>({id:e.id,description:e.description||e.name,isRequired:e.isRequired,category:e.category,order:e.order,guidelines:e.notes||void 0})),c=i||r;try{let e=new Date(c);c=isNaN(e.getTime())?new Date().toISOString():e.toISOString()}catch{c=new Date().toISOString()}return{id:e.id,name:o,entityType:s,description:a,items:l,lastUpdated:c,isActive:"Completed"!==e.status&&"Cancelled"!==e.status,version:this.calculateVersion(r),createdBy:"System"}}extractEntityType(e,t){if(t&&t.trim()){let e=t.toUpperCase().trim();if(console.log("[extractEntityType] Checking case ID:",t,"->",e),e.includes("CASE-NPO")||e.includes("-NPO-"))return console.log("[extractEntityType] Matched NPO from case ID"),"NPO";if(e.includes("CASE-GOV")||e.includes("-GOV-"))return console.log("[extractEntityType] Matched Government from case ID"),"Government";if(e.includes("CASE-PUBLIC")||e.includes("-PUBLIC-"))return console.log("[extractEntityType] Matched Publicly Listed from case ID"),"Publicly Listed";if(e.includes("CASE-PRIVATE")||e.includes("-PRIVATE-"))return console.log("[extractEntityType] Matched Private Company from case ID"),"Private Company";if(e.includes("NPO")&&!e.includes("NONPROFIT")&&!e.includes("PRIVATE"))return console.log("[extractEntityType] Matched NPO from substring"),"NPO";if(e.includes("GOV")&&!e.includes("PRIVATE"))return console.log("[extractEntityType] Matched Government from substring"),"Government";if(e.includes("PUBLIC")&&!e.includes("PRIVATE"))return console.log("[extractEntityType] Matched Publicly Listed from substring"),"Publicly Listed";if(e.includes("PRIVATE"))return console.log("[extractEntityType] Matched Private Company from substring"),"Private Company";console.warn("[extractEntityType] No match found for case ID:",t)}let r=(e||"").toUpperCase().trim();return(console.log("[extractEntityType] Falling back to type:",e,"->",r),r.includes("PRIVATE")||r.includes("COMPANY")&&!r.includes("PUBLIC"))?"Private Company":r.includes("NPO")||r.includes("NONPROFIT")?"NPO":r.includes("GOVERNMENT")||r.includes("GOV")?"Government":r.includes("PUBLICLY")||r.includes("LISTED")||r.includes("PUBLIC")&&r.includes("COMPANY")?"Publicly Listed":(r.includes("CORPORATE")?console.warn("[extractEntityType] Corporate type found, defaulting to Private Company"):console.warn("[extractEntityType] No match found, defaulting to Private Company"),"Private Company")}calculateVersion(e){try{let t=new Date(e);if(isNaN(t.getTime()))return"1.0";let r=Math.floor(t.getTime()/864e5),i=Math.floor(r/1e3)+1;return`${i}.${(r%100/10).toFixed(1)}`}catch{return"1.0"}}transformBackendDto(e){return{id:e.id||e.Id,caseId:e.caseId||e.case_id||e.CaseId,case_id:e.case_id||e.caseId,type:e.type||e.Type,status:e.status||e.Status,partnerId:e.partnerId||e.partner_id||e.PartnerId,partner_id:e.partner_id||e.partnerId,createdAt:e.createdAt||e.created_at||e.CreatedAt,created_at:e.created_at||e.createdAt,completedAt:e.completedAt||e.completed_at||e.CompletedAt,completed_at:e.completed_at||e.completedAt,completionPercentage:e.completionPercentage||e.completion_percentage||e.CompletionPercentage||0,completion_percentage:e.completion_percentage||e.completionPercentage,requiredCompletionPercentage:e.requiredCompletionPercentage||e.required_completion_percentage||e.RequiredCompletionPercentage||0,required_completion_percentage:e.required_completion_percentage||e.requiredCompletionPercentage,items:(e.items||[]).map(e=>({id:e.id||e.Id,name:e.name||e.Name,description:e.description||e.Description,category:e.category||e.Category,isRequired:void 0!==e.isRequired?e.isRequired:void 0!==e.is_required&&e.is_required,order:e.order||e.Order||0,status:e.status||e.Status,createdAt:e.createdAt||e.created_at||e.CreatedAt,completedAt:e.completedAt||e.completed_at||e.CompletedAt,completedBy:e.completedBy||e.completed_by||e.CompletedBy,notes:e.notes||e.Notes,skipReason:e.skipReason||e.skip_reason||e.SkipReason}))}}async getAllChecklists(){try{let e=await this.request("/api/checklist/checklists");if(console.log("[ChecklistApi] getAllChecklists - Raw response:",e),!e||!Array.isArray(e))return console.log("[ChecklistApi] No response or not an array"),[];let t=e.map(e=>{let t=this.transformBackendDto(e);console.log("[ChecklistApi] Transformed DTO:",{raw:e,transformed:t});let r=this.mapChecklistDto(t);return console.log("[ChecklistApi] Mapped checklist:",{originalCaseId:t.caseId||t.case_id,originalType:t.type,mappedEntityType:r.entityType,mappedName:r.name}),r});return console.log("[ChecklistApi] Final mapped checklists:",t),t}catch(e){if(e instanceof Error&&(e.message.includes("404")||e.message.includes("500")))return console.warn("No checklists found or service error:",e.message),[];throw e}}async getChecklistById(e){let t=`/api/checklist/checklists/${e}`;try{let e=await this.request(t);return this.mapChecklistDto(e)}catch(e){if(e instanceof Error&&e.message.includes("404"))return null;throw e}}async getChecklistByCase(e){let t=`/api/checklist/checklists/case/${encodeURIComponent(e)}`;try{let e=await this.request(t);return this.mapChecklistDto(e)}catch(e){if(e instanceof Error&&e.message.includes("404"))return null;throw e}}};e.s(["checklistApiService",0,r])},626013,e=>{"use strict";var t=e.i(843476),r=e.i(843011),i=e.i(297630),n=e.i(53545),s=e.i(361035),o=e.i(761869),a=e.i(300713),l=e.i(891825);e.i(643983);var c=e.i(825402),u=e.i(554646),d=e.i(191348),p=e.i(613056),h=e.i(44999),f=e.i(419511),g=e.i(827296),x=e.i(927561),m=e.i(192199),y=e.i(271645),b=e.i(178849),C=e.i(862873),w=e.i(343827),k=e.i(617029),j=e.i(153963),v=e.i(618566),S=e.i(522016);let P=[{value:"ALL",label:"All Entity Types"},{value:"Private Company",label:"Private Company"},{value:"NPO",label:"NPO"},{value:"Government",label:"Government"},{value:"Publicly Listed",label:"Publicly Listed"}];function A(){let{condensed:e}=(0,k.useSidebar)(),A=(0,v.useRouter)(),[E,T]=(0,y.useState)([]),[I,O]=(0,y.useState)(!0),[_,R]=(0,y.useState)(null),[N,W]=(0,y.useState)(""),[F,B]=(0,y.useState)("ALL"),[L,D]=(0,y.useState)(null);(0,y.useEffect)(()=>{z()},[]);let z=async()=>{try{O(!0),R(null);let e=await j.checklistApiService.getAllChecklists();console.log("[ChecklistsPage] Loaded checklists:",e),console.log("[ChecklistsPage] Entity types:",e.map(e=>({id:e.id,name:e.name,entityType:e.entityType}))),T(e)}catch(e){console.error("Failed to load checklists:",e),R(e instanceof Error?e.message:"Failed to load checklists. Please ensure the backend services are running."),T([])}finally{O(!1)}},M=E.filter(e=>{let t=e.name.toLowerCase().includes(N.toLowerCase())||e.description.toLowerCase().includes(N.toLowerCase()),r="ALL"===F||e.entityType===F;return t&&r}),q=async(e,t)=>{if((await b.SweetAlert.confirm("Delete Checklist",`Are you sure you want to delete "${t}"? This action cannot be undone.`,"Yes, delete it!","Cancel")).isConfirmed)try{D(e),b.SweetAlert.loading("Deleting...","Please wait while we delete the checklist."),T(t=>t.filter(t=>t.id!==e)),b.SweetAlert.close(),await b.SweetAlert.success("Deleted!","Checklist has been deleted successfully.")}catch(t){b.SweetAlert.close();let e=t instanceof Error?t.message:"Failed to delete checklist";R(e),console.error("Error deleting checklist:",t),await b.SweetAlert.error("Delete Failed",e)}finally{D(null)}};return I?(0,t.jsxs)(o.Flex,{minH:"100vh",bg:"gray.50",children:[(0,t.jsx)(C.default,{}),(0,t.jsxs)(r.Box,{ml:e?"72px":"280px",mt:"90px",minH:"calc(100vh - 90px)",width:e?"calc(100% - 72px)":"calc(100% - 280px)",bg:"gray.50",transition:"margin-left 0.3s ease, width 0.3s ease",children:[(0,t.jsx)(w.default,{}),(0,t.jsx)(o.Flex,{justify:"center",align:"center",h:"400px",children:(0,t.jsxs)(n.VStack,{gap:"4",children:[(0,t.jsx)(a.Spinner,{size:"xl",color:"#F05423"}),(0,t.jsx)(u.Typography,{color:"gray.600",children:"Loading checklists..."})]})})]})]}):(0,t.jsxs)(o.Flex,{minH:"100vh",bg:"gray.50",children:[(0,t.jsx)(C.default,{}),(0,t.jsx)(w.default,{}),(0,t.jsx)(r.Box,{ml:e?"72px":"280px",mt:"90px",minH:"calc(100vh - 90px)",width:e?"calc(100% - 72px)":"calc(100% - 280px)",bg:"gray.50",overflowX:"hidden",transition:"margin-left 0.3s ease, width 0.3s ease",children:(0,t.jsxs)(n.VStack,{gap:"6",align:"stretch",w:"100%",pb:"8",children:[(0,t.jsx)(r.Box,{px:"8",pt:"6",width:"full",bg:"gray.50",children:(0,t.jsx)(i.Container,{maxW:"1400px",mx:"auto",px:"0",width:"full",children:(0,t.jsxs)(o.Flex,{justify:"space-between",align:"center",width:"full",children:[(0,t.jsxs)(n.VStack,{align:"start",gap:"1",children:[(0,t.jsx)(u.Typography,{fontSize:"32px",fontWeight:"700",color:"#111827",letterSpacing:"-0.02em",children:"Checklists"}),(0,t.jsx)(u.Typography,{fontSize:"15px",color:"#6B7280",fontWeight:"400",children:"Manage entity-specific onboarding checklists"})]}),(0,t.jsxs)(d.Button,{variant:"primary",className:"mukuru-primary-button",size:"md",fontWeight:"600",style:{padding:"10px 20px",height:"40px"},children:[(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(m.FiPlus,{size:18})}),"New Checklist"]})]})})}),_&&(0,t.jsx)(r.Box,{px:"8",width:"full",children:(0,t.jsx)(i.Container,{maxW:"1400px",mx:"auto",px:"0",width:"full",children:(0,t.jsx)(x.AlertBar,{status:"error",title:"Error loading checklists",description:_})})}),(0,t.jsx)(r.Box,{px:"8",width:"full",children:(0,t.jsx)(i.Container,{maxW:"1400px",mx:"auto",px:"0",width:"full",children:(0,t.jsx)(g.Card,{p:"6",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",border:"1px solid",borderColor:"#E5E7EB",width:"full",bg:"white",borderRadius:"12px",children:(0,t.jsxs)(s.HStack,{gap:"4",align:"flex-end",width:"full",children:[(0,t.jsx)(r.Box,{flex:"1",minW:"0",children:(0,t.jsx)(c.Search,{placeholder:"Search checklists by name or description...",onSearchChange:W})}),(0,t.jsx)(r.Box,{minW:"240px",maxW:"300px",flexShrink:0,children:(0,t.jsx)(f.Dropdown,{label:"Entity Type",placeholder:"All Entity Types",items:P.map(e=>({label:e.label,value:e.value})),defaultValue:F,onSelectionChange:e=>B(e)})})]})})})}),(0,t.jsx)(r.Box,{px:"8",width:"full",flex:"1",children:(0,t.jsx)(i.Container,{maxW:"1400px",mx:"auto",px:"0",width:"full",children:0===M.length?(0,t.jsx)(g.Card,{p:"16",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",border:"1px solid",borderColor:"#E5E7EB",width:"full",bg:"white",minH:"500px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px",children:(0,t.jsxs)(n.VStack,{gap:"6",align:"center",width:"full",py:"8",children:[(0,t.jsx)(r.Box,{p:"10",borderRadius:"2xl",bg:"linear-gradient(135deg, #F9FAFB 0%, #F3F4F6 100%)",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid",borderColor:"#E5E7EB",boxShadow:"inset 0 2px 4px 0 rgba(0, 0, 0, 0.06)",children:(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(m.FiFileText,{size:72,color:"#9CA3AF"})})}),(0,t.jsxs)(n.VStack,{gap:"3",align:"center",maxW:"600px",width:"full",px:"4",children:[(0,t.jsx)(u.Typography,{fontSize:"24px",fontWeight:"700",color:"#111827",textAlign:"center",letterSpacing:"-0.01em",children:"No checklists found"}),(0,t.jsx)(u.Typography,{color:"#6B7280",fontSize:"15px",textAlign:"center",lineHeight:"1.6",width:"full",fontWeight:"400",children:0===E.length?"Get started by creating your first checklist to manage entity-specific onboarding requirements and streamline your workflow.":"No checklists match your search criteria. Try adjusting your filters or search terms."})]}),(0,t.jsxs)(d.Button,{variant:"primary",size:"md",mt:"2",fontWeight:"600",className:"mukuru-primary-button",style:{padding:"10px 24px",height:"44px"},children:[(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(m.FiPlus,{size:18})}),"Create Your First Checklist"]})]})}):(0,t.jsx)(l.SimpleGrid,{columns:{base:1,md:2,lg:3,xl:4},gap:"6",width:"full",children:M.map(e=>(0,t.jsxs)(g.Card,{p:"0",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",border:"1px solid",borderColor:"#E5E7EB",bg:"white",borderRadius:"12px",overflow:"hidden",_hover:{boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",borderColor:"#F05423",transform:"translateY(-2px)"},transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",onClick:()=>A.push(`/checklists/${e.id}`),position:"relative",height:"100%",display:"flex",flexDirection:"column",children:[(0,t.jsx)(r.Box,{h:"4px",bg:e.isActive?"#22C55E":"#9CA3AF",width:"100%"}),(0,t.jsxs)(n.VStack,{gap:"0",align:"stretch",width:"full",flex:"1",p:"6",children:[(0,t.jsxs)(n.VStack,{align:"start",gap:"3",mb:"4",width:"full",children:[(0,t.jsx)(s.HStack,{gap:"2",align:"center",w:"full",justify:"space-between",children:(0,t.jsxs)(s.HStack,{gap:"2",align:"center",flex:"1",minW:"0",children:[(0,t.jsx)(r.Box,{w:"40px",h:"40px",borderRadius:"10px",bg:"#FFF4ED",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,children:(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(m.FiCheckSquare,{size:20,color:"#F05423"})})}),(0,t.jsxs)(n.VStack,{align:"start",gap:"1",flex:"1",minW:"0",children:[(0,t.jsxs)(s.HStack,{gap:"2",align:"center",w:"full",children:[(0,t.jsx)(u.Typography,{fontSize:"16px",fontWeight:"600",color:"#111827",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"100%"},children:e.name}),e.isActive&&(0,t.jsx)(r.Box,{w:"8px",h:"8px",borderRadius:"full",bg:"#22C55E",boxShadow:"0 0 0 2px rgba(34, 197, 94, 0.2)",flexShrink:0})]}),(0,t.jsx)(u.Typography,{fontSize:"13px",color:"#6B7280",lineHeight:"1.5",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",width:"100%"},children:e.description})]})]})}),(0,t.jsxs)(s.HStack,{gap:"2",flexWrap:"wrap",width:"full",children:[(0,t.jsx)(p.Tag,{variant:(e=>{switch(e){case"Private Company":default:return"info";case"NPO":return"success";case"Government":return"warning";case"Publicly Listed":return"danger"}})(e.entityType),style:{color:"#111827",fontSize:"12px",fontWeight:"500",padding:"4px 10px",borderRadius:"6px"},children:e.entityType}),(0,t.jsx)(p.Tag,{variant:e.isActive?"success":"inactive",style:{color:e.isActive?"#111827":"#6B7280",fontSize:"12px",fontWeight:"500",padding:"4px 10px",borderRadius:"6px"},children:e.isActive?"Active":"Inactive"})]})]}),(0,t.jsx)(r.Box,{pt:"4",pb:"4",borderTop:"1px solid",borderColor:"#E5E7EB",width:"full",children:(0,t.jsx)(s.HStack,{gap:"4",justify:"space-between",align:"center",width:"full",flexWrap:"wrap",children:(0,t.jsxs)(n.VStack,{align:"start",gap:"1",flex:"1",minW:"0",children:[(0,t.jsxs)(s.HStack,{gap:"1.5",align:"center",children:[(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(m.FiCheckSquare,{size:14,color:"#6B7280"})}),(0,t.jsxs)(u.Typography,{fontSize:"13px",color:"#6B7280",fontWeight:"500",children:[(0,t.jsx)("strong",{style:{color:"#111827",fontWeight:"600"},children:e.items.length})," items"]})]}),(0,t.jsxs)(s.HStack,{gap:"1.5",align:"center",ml:"5",children:[(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(m.FiCheckSquare,{size:14,color:"#F05423"})}),(0,t.jsxs)(u.Typography,{fontSize:"13px",color:"#6B7280",fontWeight:"500",children:[(0,t.jsx)("strong",{style:{color:"#111827",fontWeight:"600"},children:e.items.filter(e=>e.isRequired).length})," required"]})]})]})})}),(0,t.jsx)(r.Box,{pt:"4",borderTop:"1px solid",borderColor:"#E5E7EB",width:"full",mt:"auto",children:(0,t.jsxs)(s.HStack,{justify:"space-between",align:"center",width:"full",children:[(0,t.jsxs)(s.HStack,{gap:"1.5",align:"center",fontSize:"12px",color:"#9CA3AF",children:[(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(m.FiClock,{size:12,color:"#9CA3AF"})}),(0,t.jsx)(u.Typography,{fontSize:"12px",color:"#9CA3AF",fontWeight:"400",children:(()=>{try{let t=new Date(e.lastUpdated);if(isNaN(t.getTime()))return"N/A";return t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch{return"N/A"}})()})]}),(0,t.jsxs)(s.HStack,{gap:"2",flexShrink:0,children:[(0,t.jsx)(S.default,{href:`/checklists/${e.id}`,onClick:e=>e.stopPropagation(),children:(0,t.jsxs)(d.Button,{size:"sm",variant:"secondary",className:"mukuru-secondary-button",style:{padding:"6px 12px",height:"28px",fontSize:"12px",fontWeight:"500"},children:[(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(m.FiEdit,{size:12})}),"View"]})}),(0,t.jsx)(d.Button,{size:"sm",variant:"ghost",onClick:t=>{t.stopPropagation(),q(e.id,e.name)},disabled:L===e.id,_hover:{bg:"#FEF2F2"},style:{color:L===e.id?"#9CA3AF":"#DC2626",padding:"6px",height:"28px",minWidth:"28px"},children:(0,t.jsx)(h.IconWrapper,{children:(0,t.jsx)(m.FiTrash2,{size:14,color:L===e.id?"#9CA3AF":"#DC2626"})})})]})]})})]})]},e.id))})})})]})})]})}e.s(["default",()=>A])}]);

//# debugId=1968392e-ea29-6c8d-fb85-dc3a7f551d69
//# sourceMappingURL=bc7c49693fd1c453.js.map