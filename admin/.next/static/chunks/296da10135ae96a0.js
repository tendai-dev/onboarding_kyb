;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="6da25987-4f31-d231-b9f9-56de451148ff")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,343827,e=>{"use strict";var t=e.i(843476),s=e.i(618566),i=e.i(526732);e.i(643983);var a=e.i(307167),r=e.i(44999),n=e.i(843011),o=e.i(361035),l=e.i(761869),c=e.i(299753),d=e.i(192199),p=e.i(617029);function u(){let e=(0,s.useRouter)(),{data:u}=(0,i.useSession)(),{condensed:h,setCondensed:m}=(0,p.useSidebar)(),g=u?.user?.name||"Admin",y=u?.user?.email||"admin@mukuru.com";return g.split(" ")[0]?.toLowerCase(),(0,t.jsx)(n.Box,{position:"fixed",top:"0",left:h?"72px":"280px",right:"0",height:"90px",bg:"white",zIndex:"999",px:"6",py:"4",pl:"6",transition:"left 0.3s ease, width 0.3s ease",className:"portal-header",borderBottom:"1px solid",borderColor:"rgba(55, 58, 54, 0.15)",children:(0,t.jsxs)(l.Flex,{justify:"space-between",align:"center",width:"full",height:"full",children:[(0,t.jsx)(o.HStack,{gap:"4",align:"center",children:(0,t.jsx)(c.Button,{variant:"ghost",onClick:()=>m(!h),p:"2",borderRadius:"full",minW:"40px",h:"40px",bg:"gray.100",_hover:{bg:"gray.200"},"aria-label":"Toggle sidebar",border:"none",_focus:{boxShadow:"none",outline:"none"},_active:{bg:"gray.200"},children:(0,t.jsx)(r.IconWrapper,{children:(0,t.jsx)(d.FiArrowLeft,{size:20,color:"#F05423"})})})}),(0,t.jsx)(o.HStack,{gap:"4",align:"center",children:(0,t.jsx)(a.ProfileMenu,{user:g,menuItems:[{id:0,label:y,value:"email"},{id:1,label:"My Profile",value:"profile",onSelect:()=>e.push("/profile")},{id:2,label:"Settings",value:"settings",onSelect:()=>e.push("/settings")},{id:3,label:"Log Out",value:"logout",onSelect:()=>e.push("/api/auth/logout")}]})})]})})}e.s(["default",()=>u])},618566,(e,t,s)=>{t.exports=e.r(976562)},862873,e=>{"use strict";var t=e.i(843476),s=e.i(271645),i=e.i(618566);e.i(643983);var a=e.i(355569),r=e.i(111977),n=e.i(134590),o=e.i(179243),l=e.i(119192),c=e.i(307124),d=e.i(857692),p=e.i(194741),u=e.i(489312),h=e.i(357441),m=e.i(843011),g=e.i(617029);function y(){let e=(0,i.usePathname)(),y=(0,i.useRouter)(),{condensed:f,setCondensed:k}=(0,g.useSidebar)(),[x,w]=(0,s.useState)("dashboard");(0,s.useEffect)(()=>{"/dashboard"===e?w("dashboard"):e?.startsWith("/work-queue")?w("work-queue"):e?.startsWith("/applications")?w("applications"):e?.startsWith("/review")||e?.startsWith("/risk-review")||e?.startsWith("/approvals")?w("reviews"):e?.startsWith("/documents")?w("documents"):e?.startsWith("/requirements")?w("requirements"):e?.startsWith("/entity-types")?w("entity-types"):e?.startsWith("/checklists")?w("checklists"):e?.startsWith("/wizard-configurations")?w("wizard-configurations"):e?.startsWith("/rules-and-permissions")?w("rules-and-permissions"):e?.startsWith("/audit-log")?w("audit-log"):e?.startsWith("/messages")?w("messages"):e?.startsWith("/notifications")?w("notifications"):e?.startsWith("/data-migration")?w("data-migration"):e?.startsWith("/refreshes")?w("refreshes"):e?.startsWith("/reports")?w("reports"):e?.startsWith("/profile")?w("profile"):e?.startsWith("/settings")&&w("settings")},[e]);let I=(0,s.useMemo)(()=>[{id:"dashboard",label:"Dashboard",icon:(0,t.jsx)(r.ProductIcon,{width:"20",height:"20"}),onClick:()=>{w("dashboard"),y.push("/dashboard")}},{id:"work-queue",label:"Work Queue",icon:(0,t.jsx)(u.FilterIcon,{width:"20",height:"20"}),onClick:()=>{w("work-queue"),y.push("/work-queue")}},{id:"applications",label:"Applications",icon:(0,t.jsx)(d.AppIcon,{width:"20",height:"20"}),onClick:()=>{w("applications"),y.push("/applications")}},{id:"reviews",label:"Reviews",icon:(0,t.jsx)(o.DocumentIcon,{width:"20",height:"20"}),onClick:()=>{w("reviews"),y.push("/review")},subItems:[{id:"risk-review",label:"Risk Review",onClick:()=>{w("reviews"),y.push("/risk-review")}},{id:"approvals",label:"Approvals",onClick:()=>{w("reviews"),y.push("/approvals")}}]},{id:"documents",label:"Documents",icon:(0,t.jsx)(p.FileOpenIcon,{width:"20",height:"20"}),onClick:()=>{w("documents"),y.push("/documents")}},{id:"configuration",label:"Configuration",icon:(0,t.jsx)(l.SettingsIcon,{width:"20",height:"20"}),onClick:()=>{w("configuration"),y.push("/requirements")},subItems:[{id:"requirements",label:"Requirements",onClick:()=>{w("configuration"),y.push("/requirements")}},{id:"entity-types",label:"Entity Types",onClick:()=>{w("configuration"),y.push("/entity-types")}},{id:"checklists",label:"Checklists",onClick:()=>{w("configuration"),y.push("/checklists")}},{id:"wizard-configurations",label:"Wizard Configurations",onClick:()=>{w("configuration"),y.push("/wizard-configurations")}},{id:"rules-and-permissions",label:"Rules & Permissions",onClick:()=>{w("configuration"),y.push("/rules-and-permissions")}}]},{id:"system",label:"System",icon:(0,t.jsx)(h.WarningIcon,{width:"20",height:"20"}),onClick:()=>{w("system"),y.push("/audit-log")},subItems:[{id:"audit-log",label:"Audit Log",onClick:()=>{w("system"),y.push("/audit-log")}},{id:"messages",label:"Messages",onClick:()=>{w("system"),y.push("/messages")}},{id:"notifications",label:"Notifications",onClick:()=>{w("system"),y.push("/notifications")}},{id:"data-migration",label:"Data Migration",onClick:()=>{w("system"),y.push("/data-migration")}},{id:"refreshes",label:"Refreshes",onClick:()=>{w("system"),y.push("/refreshes")}}]},{id:"reports",label:"Reports",icon:(0,t.jsx)(o.DocumentIcon,{width:"20",height:"20"}),onClick:()=>{w("reports"),y.push("/reports")}},{id:"profile",label:"Profile",icon:(0,t.jsx)(n.UserIcon,{width:"20",height:"20"}),onClick:()=>{w("profile"),y.push("/profile")}}],[y]),v={id:"help-centre",label:"Help Centre",icon:(0,t.jsx)(c.HelpIcon,{width:"20",height:"20"}),onClick:()=>{console.log("Help Centre")}};return(0,t.jsx)(m.Box,{position:"fixed",left:"0",top:"0",height:"100vh",width:f?"72px":"280px",borderRight:"1px solid",borderColor:"rgba(55, 58, 54, 0.15)",zIndex:"1000",className:"sidebar-wrapper",bg:"#F9FAFB",overflowY:"auto",transition:"width 0.3s ease",children:(0,t.jsx)(a.PortalNavigationSidebar,{navigationItems:I,helpCentreItem:v,activeItemId:x,condensed:f,onToggleCollapse:k,onLogoClick:()=>{w("dashboard"),y.push("/dashboard")},expandedWidth:"280px",condensedWidth:"72px"})})}e.s(["default",()=>y])},297630,e=>{"use strict";let{withContext:t,PropsProvider:s}=(0,e.i(552887).createRecipeContext)({key:"container"}),i=t("div");e.s(["Container",()=>i])},891825,e=>{"use strict";var t=e.i(843476),s=e.i(271645),i=e.i(441305),a=e.i(95966),r=e.i(920755);let n=(0,s.forwardRef)(function(e,s){var n,o,l;let{columns:c,minChildWidth:d,...p}=e,u=(0,i.useChakraContext)(),h=d?(n=d,o=u,(0,a.mapObject)(n,e=>{let t=o.tokens.getVar(`sizes.${e}`,"number"==typeof e?`${e}px`:e);return null===e?null:`repeat(auto-fit, minmax(${t}, 1fr))`})):(l=c,(0,a.mapObject)(l,e=>null===e?null:`repeat(${e}, minmax(0, 1fr))`));return(0,t.jsx)(r.Grid,{ref:s,templateColumns:h,...p})});e.s(["SimpleGrid",()=>n])},571798,e=>{"use strict";var t=e.i(37410);let{withContext:s,PropsProvider:i}=(0,e.i(552887).createRecipeContext)({key:"textarea"}),a=s(t.Field.Textarea);e.s(["Textarea",()=>a])},778497,e=>{"use strict";var t=e.i(967079);let s=new class{isDevelopment=!1;isProduction=!0;debug(e,...t){this.isDevelopment&&console.debug(`[DEBUG] ${e}`,...t)}info(e,...s){this.isDevelopment&&console.info(`[INFO] ${e}`,...s),this.isProduction&&(0,t.addBreadcrumb)(e,"info","info",{args:s})}warn(e,s){console.warn(`[WARN] ${e}`),this.isProduction&&(0,t.reportWarning)(e,{tags:s?.tags,extra:s?.extra})}error(e,s,i){let a=s||(e instanceof Error?e.message:String(e));console.error(`[ERROR] ${a}`,e);let r=i?.level==="warn"?"warning":i?.level==="error"?"error":i?.level==="info"?"info":"error";(0,t.reportError)(e,{tags:i?.tags,extra:i?.extra,level:r})}log(e,s,i="info"){if(this.isDevelopment&&console.log(`[${i.toUpperCase()}] ${e}`,s||""),this.isProduction&&"debug"!==i){let a="warn"===i?"warning":"error"===i?"error":"info";(0,t.addBreadcrumb)(e,"log",a,s)}}};e.s(["logger",0,s])},817684,e=>{"use strict";function t(e){return{id:e.workItemNumber||e.id,workItemId:e.id,legalName:e.applicantName,entityType:e.entityType,country:e.country,status:({New:"SUBMITTED",Assigned:"IN PROGRESS",InProgress:"IN PROGRESS",PendingApproval:"RISK REVIEW",Approved:"COMPLETE",Completed:"COMPLETE",Declined:"DECLINED",Cancelled:"DECLINED",DueForRefresh:"IN PROGRESS"})[e.status]||"IN PROGRESS",backendStatus:e.status,created:e.createdAt,updated:e.updatedAt||e.createdAt,submittedBy:e.assignedToName||e.assignedTo||"Unknown",riskScore:({Low:25,Medium:50,High:75,Critical:95})[e.riskLevel]||50,workItemNumber:e.workItemNumber,applicationId:e.applicationId,priority:e.priority,riskLevel:e.riskLevel,assignedTo:e.assignedTo,assignedToName:e.assignedToName,assignedAt:e.assignedAt,requiresApproval:e.requiresApproval,approvedBy:e.approvedBy,approvedByName:e.approvedByName,approvedAt:e.approvedAt,rejectionReason:e.rejectionReason,dueDate:e.dueDate,isOverdue:e.isOverdue,nextRefreshDate:e.nextRefreshDate,lastRefreshedAt:e.lastRefreshedAt,refreshCount:e.refreshCount}}function s(e){return e.map(t)}e.s(["mapWorkItemToApplication",()=>t,"mapWorkItemsToApplications",()=>s])},670357,592622,82349,576699,571408,e=>{"use strict";async function t(e=1,s=20,i,a){let r=new URLSearchParams({page:e.toString(),pageSize:s.toString()});i&&r.append("searchTerm",i),a&&r.append("status",a);let n=await fetch(`/api/applications?${r.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!n.ok)throw Error(`Failed to fetch applications: ${n.status} ${n.statusText}`);let o=await n.json();return{items:o.items||o.data||[],totalCount:o.total_count||o.totalCount||o.total||0,page:o.page||e,pageSize:o.page_size||o.pageSize||s}}async function s(e){let t=new URLSearchParams;e&&t.append("partnerId",e);let s=await fetch(`/api/entity-type-distribution?${t.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!s.ok)throw Error(`Failed to fetch entity type distribution: ${s.status} ${s.statusText}`);let i=await s.json();return Array.isArray(i)?i:i.items||i.data||[]}async function i(e=7,t){let s=new URLSearchParams({days:e.toString()});t&&s.append("partnerId",t);let a=await fetch(`/api/trends?${s.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!a.ok)throw Error(`Failed to fetch application trends: ${a.status} ${a.statusText}`);let r=await a.json();return Array.isArray(r)?r:r.items||r.data||[]}async function a(e){let t=new URLSearchParams;e&&t.append("partnerId",e);let s=await fetch(`/api/dashboard?${t.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!s.ok)throw Error(`Failed to fetch dashboard projection: ${s.status} ${s.statusText}`);return s.json()}async function r(){let e={"Content-Type":"application/json"};try{let t=await fetch("/api/auth/session"),s=await t.json();s?.user?.email&&(e["X-User-Email"]=s.user.email),s?.user?.name&&(e["X-User-Name"]=s.user.name),s?.user?.role&&(e["X-User-Role"]=s.user.role)}catch(e){}return e}async function n(e,t){let s=e;e.startsWith("?")?s=e:e.startsWith("/")||(s=`/${e}`);let i=`/api/workqueue${s}`,a=await r(),n=await fetch(i,{...t,headers:{...a,...t?.headers}});if(!n.ok){let e=`Work Queue API request failed: ${n.status} ${n.statusText}`;try{let t=await n.json();e=t.message||t.error||e}catch{}throw Error(e)}let o=await n.text();return o&&""!==o.trim()?JSON.parse(o):null}async function o(e){let t=new URLSearchParams;e?.status&&"ALL"!==e.status&&t.append("status",e.status),e?.searchTerm&&t.append("searchTerm",e.searchTerm),e?.country&&t.append("country",e.country),e?.riskLevel&&t.append("riskLevel",e.riskLevel);let s=e?.page||1,i=e?.pageSize||100;t.append("page",s.toString()),t.append("pageSize",i.toString());let a=await n(`?${t.toString()}`);return{items:a.items||a.data||[],totalCount:a.totalCount||a.total_count||0,page:s,pageSize:i}}async function l(e){try{return await n(`/${e}`)}catch(e){if(e instanceof Error&&e.message.includes("404"))return null;throw e}}async function c(e=1,t=20){let s=new URLSearchParams({page:e.toString(),pageSize:t.toString()}),i=await n(`/my-items?${s.toString()}`);return{items:i.items||i.data||[],totalCount:i.totalCount||i.total_count||0,page:e,pageSize:t}}async function d(e=1,t=20){let s=new URLSearchParams({page:e.toString(),pageSize:t.toString()}),i=await n(`/pending-approvals?${s.toString()}`);return{items:i.items||i.data||[],totalCount:i.totalCount||i.total_count||0,page:e,pageSize:t}}async function p(e=1,t=100,s){let i=new URLSearchParams({page:e.toString(),pageSize:t.toString()});return s&&i.append("asOfDate",s.toISOString()),await n(`/due-for-refresh?${i.toString()}`)}async function u(e,t,s){let i;if(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t))i=t;else{let e=0;for(let s=0;s<t.length;s++)e=(e<<5)-e+t.charCodeAt(s),e&=e;let s=Math.abs(e).toString(16).padStart(32,"0");i=`${s.substring(0,8)}-${s.substring(8,12)}-${s.substring(12,16)}-${s.substring(16,20)}-${s.substring(20,32)}`}await n(`/${e}/assign`,{method:"POST",body:JSON.stringify({AssignedToUserId:i,AssignedToUserName:s})})}async function h(e){await n(`/${e}/unassign`,{method:"POST"})}async function m(e){await n(`/${e}/start-review`,{method:"POST"})}async function g(e,t){await n(`/${e}/submit-for-approval`,{method:"POST",body:JSON.stringify({notes:t||""})})}async function y(e,t){await n(`/${e}/approve`,{method:"POST",body:JSON.stringify({notes:t||""})})}async function f(e,t){await n(`/${e}/decline`,{method:"POST",body:JSON.stringify({reason:t})})}async function k(e,t){await n(`/${e}/complete`,{method:"POST",body:JSON.stringify({notes:t||""})})}async function x(e){await n(`/${e}/mark-for-refresh`,{method:"POST"})}async function w(e,t){await n(`/${e}/comments`,{method:"POST",body:JSON.stringify({text:t})})}async function I(e){return await n(`/${e}/comments`)}async function v(e){return await n(`/${e}/history`)}function S(e){let t=e.businessLegalName||`${e.applicantFirstName} ${e.applicantLastName}`.trim()||"Unknown",s=e.businessCountryOfRegistration||e.applicantCountry||"Unknown",i=e.type||(e.businessLegalName?"Business":"Individual")||"Unknown",a=e.assignedToName||e.assignedTo||"Unassigned",r=e.submittedAt||e.createdAt,n=Math.round(e.progressPercentage||0);return{id:e.caseId||e.id,companyName:t,entityType:i,status:({Draft:"IN_PROGRESS",InProgress:"IN_PROGRESS",PendingReview:"RISK_REVIEW",Submitted:"SUBMITTED",Approved:"COMPLETE",Rejected:"DECLINED",Cancelled:"DECLINED"})[e.status]||"IN_PROGRESS",submittedDate:r,assignedTo:a,riskLevel:({Low:"LOW",MediumLow:"LOW",Medium:"MEDIUM",MediumHigh:"HIGH",High:"HIGH"})[e.riskLevel]||"MEDIUM",country:s,progress:n}}e.s(["addComment",()=>w,"approveWorkItem",()=>y,"assignWorkItem",()=>u,"completeWorkItem",()=>k,"declineWorkItem",()=>f,"getItemsDueForRefresh",()=>p,"getMyWorkItems",()=>c,"getPendingApprovals",()=>d,"getWorkItemById",()=>l,"getWorkItemComments",()=>I,"getWorkItemHistory",()=>v,"getWorkItems",()=>o,"markForRefresh",()=>x,"startReview",()=>m,"submitForApproval",()=>g,"unassignWorkItem",()=>h],592622);var C=e.i(817684);async function b(e=1,s=20,i,a){let r=await t(e,s,i,a);return{items:r.items.map(S),totalCount:r.totalCount,page:r.page,pageSize:r.pageSize}}async function j(t){let s=await b(1,1e4,t?.search,t?.status),{escapeCsvField:i,createCsvBlob:a}=await e.A(535485);return a(["Application ID","Company Name","Entity Type","Country","Status","Risk Level","Assigned To","Progress","Submitted Date"],s.items.map(e=>[i(e.id),i(e.companyName),i(e.entityType),i(e.country),i(e.status),i(e.riskLevel),i(e.assignedTo),i(`${e.progress}%`),i(new Date(e.submittedDate).toLocaleDateString())]))}async function T(e){let t=await a(e);return{totalApplications:t.cases.totalCases,pendingReview:t.cases.pendingReviewCases,riskReview:t.risk.casesRequiringManualReview,completed:t.cases.completedCases,incomplete:t.cases.activeCases-t.cases.pendingReviewCases,declined:t.cases.rejectedCases,avgProcessingTime:Number(t.performance.averageCompletionTimeHours/24),successRate:Number(t.performance.completionRate)}}async function R(e){return(await s(e)).map(e=>({type:e.name,count:e.value}))}async function L(e=7,t){return i(e,t)}async function N(e){return a(e)}function E(e){return({SUBMITTED:"New","IN PROGRESS":"InProgress","RISK REVIEW":"PendingApproval",COMPLETE:"Completed",DECLINED:"Declined"})[e]||e}async function A(e){let t=e?{...e,status:e.status&&"ALL"!==e.status?E(e.status):void 0}:void 0,s=await o(t);return{items:(0,C.mapWorkItemsToApplications)(s.items),totalCount:s.totalCount,page:s.page,pageSize:s.pageSize}}async function W(e=1,t=20){let s=await c(e,t);return{items:(0,C.mapWorkItemsToApplications)(s.items),totalCount:s.totalCount,page:s.page,pageSize:s.pageSize}}async function D(e=1,t=20){return d(e,t)}async function P(e=1,t=100,s){return p(e,t,s)}async function U(e,t,s){if(!e)throw Error("Work item ID is required");if(!t)throw Error("User ID is required");if(!s)throw Error("User name is required");await u(e,t,s)}async function O(e){if(!e)throw Error("Work item ID is required");await h(e)}async function $(e){if(!e)throw Error("Work item ID is required");await m(e)}async function z(e,t){if(!e)throw Error("Work item ID is required");await g(e,t)}async function F(e,t){if(!e)throw Error("Work item ID is required");await y(e,t)}async function M(e,t){if(!e)throw Error("Work item ID is required");if(!t||0===t.trim().length)throw Error("Rejection reason is required");await f(e,t)}async function H(e,t){if(!e)throw Error("Work item ID is required");await k(e,t)}async function B(e){if(!e)throw Error("Work item ID is required");await x(e)}async function q(e,t){if(!e)throw Error("Work item ID is required");if(!t||0===t.trim().length)throw Error("Comment text is required");await w(e,t)}async function G(e){if(!e)throw Error("Work item ID is required");return I(e)}async function _(e){if(!e)throw Error("Work item ID is required");return v(e)}async function J(t){let s=t?{...t,status:t.status&&"ALL"!==t.status?E(t.status):void 0}:void 0,i=await o({...s,page:1,pageSize:1e4}),{escapeCsvField:a,createCsvBlob:r}=await e.A(535485),{mapWorkItemToApplication:n}=await e.A(8947);return r(["Application ID","Work Item Number","Legal Name","Entity Type","Country","Status","Priority","Risk Level","Assigned To","Created Date","Updated Date"],i.items.map(e=>{let t=n(e);return[a(t.id),a(e.workItemNumber),a(t.legalName),a(t.entityType),a(t.country),a(t.status),a(e.priority),a(e.riskLevel),a(e.assignedToName||e.assignedTo),a(new Date(t.created).toLocaleDateString()),a(new Date(t.updated).toLocaleDateString())]}))}e.s(["exportApplications",()=>j,"fetchApplications",()=>b],82349),e.s(["fetchApplicationTrends",()=>L,"fetchDashboardProjection",()=>N,"fetchDashboardStats",()=>T,"fetchEntityTypeDistribution",()=>R],576699),e.s(["addCommentUseCase",()=>q,"approveWorkItemUseCase",()=>F,"assignWorkItemUseCase",()=>U,"completeWorkItemUseCase",()=>H,"declineWorkItemUseCase",()=>M,"exportWorkItems",()=>J,"fetchItemsDueForRefresh",()=>P,"fetchMyWorkItems",()=>W,"fetchPendingApprovals",()=>D,"fetchWorkItemComments",()=>G,"fetchWorkItemHistory",()=>_,"fetchWorkItems",()=>A,"markForRefreshUseCase",()=>B,"startReviewUseCase",()=>$,"submitForApprovalUseCase",()=>z,"unassignWorkItemUseCase",()=>O],571408),e.s([],670357)},856459,e=>{"use strict";var t=e.i(526732);let s=new class{async getAuthHeaders(){let e=await (0,t.getSession)(),s={"Content-Type":"application/json"};return e?.user?.email&&(s["X-User-Email"]=e.user.email),e?.user?.name&&(s["X-User-Name"]=e.user.name),e?.user?.role&&(s["X-User-Role"]=e.user.role),s}async request(e,t){let s=await this.getAuthHeaders();try{let i=new Promise((e,t)=>{setTimeout(()=>t(Error("Request timeout")),15e3)}),a=fetch(e,{...t,headers:{...s,...t?.headers}}),r=await Promise.race([a,i]);if(!r.ok){let e=await r.text(),t=`Risk API request failed: ${r.status} ${r.statusText}`;try{let s=JSON.parse(e);s.message?t=s.message:s.error&&(t=s.error)}catch{e&&e.trim().length>0&&(t=e.length>200?e.substring(0,200)+"...":e)}throw Error(t)}if(204===r.status)return null;return r.json()}catch(e){if(e instanceof TypeError||e instanceof Error&&e.message.includes("timeout"))throw Error("Unable to connect to Risk service. Please ensure the service is running.");throw e}}async getCaseDetails(e){try{let t=await this.getAuthHeaders(),s=`http://127.0.0.1:8007/api/v1/cases/${encodeURIComponent(e)}`,i=await fetch(s,{headers:t});if(!i.ok){if(404===i.status)return null;throw Error(`Failed to fetch case details: ${i.statusText}`)}return i.json()}catch(t){return console.warn(`Failed to fetch case details for ${e}:`,t),null}}mapRiskLevel(e,t){let s=e.toUpperCase();return"UNKNOWN"!==s&&e&&""!==e.trim()?"LOW"===s||"MEDIUMLOW"===s?"LOW":"MEDIUM"===s||"MEDIUMHIGH"===s?"MEDIUM":"HIGH"===s?void 0!==t&&t>=90?"CRITICAL":"HIGH":"CRITICAL"===s?"CRITICAL":"UNKNOWN":"UNKNOWN"}mapRiskLevelToBackend(e){let t=e.toUpperCase();return"UNKNOWN"===t?"Unknown":"LOW"===t?"Low":"MEDIUM"===t?"Medium":"HIGH"===t||"CRITICAL"===t?"High":"Unknown"}mapStatus(e){let t=e.toUpperCase();return"INPROGRESS"===t||"REQUIRESREVIEW"===t?"IN_REVIEW":"COMPLETED"===t?"APPROVED":"REJECTED"===t?"REJECTED":"PENDING"}getEntityTypeDisplay(e){if(!e)return"Unknown";if(e.metadataJson)try{let t=JSON.parse(e.metadataJson);if(t.entityType)return t.entityType}catch{}return e.type||"Unknown"}getCompanyName(e){return e?e.businessLegalName?e.businessLegalName:e.applicantFirstName||e.applicantLastName?`${e.applicantFirstName||""} ${e.applicantLastName||""}`.trim()||"Individual Applicant":"Unknown Company":"Unknown Company"}async listRiskAssessments(e){let t=new URLSearchParams;e?.partnerId&&t.append("partnerId",e.partnerId),e?.riskLevel&&t.append("riskLevel",e.riskLevel),e?.status&&t.append("status",e.status),e?.caseId&&t.append("caseId",e.caseId);let s=t.toString(),i=`/api/risk/risk-assessments${s?`?${s}`:""}`,a=await this.request(i);return await Promise.all(a.map(async e=>{let t=await this.getCaseDetails(e.caseId),s=Number(e.riskScore);return{id:e.id,applicationId:e.caseId,caseId:e.caseId,companyName:this.getCompanyName(t),entityType:this.getEntityTypeDisplay(t),riskLevel:this.mapRiskLevel(e.overallRiskLevel,s),riskScore:s,status:this.mapStatus(e.status),assignedTo:t?.assignedToName||t?.assignedTo||"Unassigned",submittedDate:t?.submittedAt||e.createdAt,reviewDate:e.completedAt,reviewer:e.assessedBy,riskFactors:e.factors.map(e=>e.description),recommendations:e.notes?[e.notes]:[]}}))}async getRiskAssessment(e){let t=`/api/risk/risk-assessments/${e}`,s=await this.request(t);if(!s)return null;let i=await this.getCaseDetails(s.caseId),a=Number(s.riskScore);return{id:s.id,applicationId:s.caseId,caseId:s.caseId,companyName:this.getCompanyName(i),entityType:this.getEntityTypeDisplay(i),riskLevel:this.mapRiskLevel(s.overallRiskLevel,a),riskScore:a,status:this.mapStatus(s.status),assignedTo:i?.assignedToName||i?.assignedTo||"Unassigned",submittedDate:i?.submittedAt||s.createdAt,reviewDate:s.completedAt,reviewer:s.assessedBy,riskFactors:s.factors.map(e=>e.description),recommendations:s.notes?[s.notes]:[]}}async getRiskAssessmentByCase(e){let t=`/api/risk/risk-assessments/case/${encodeURIComponent(e)}`,s=await this.request(t);if(!s)return null;let i=await this.getCaseDetails(s.caseId),a=Number(s.riskScore);return{id:s.id,applicationId:s.caseId,caseId:s.caseId,companyName:this.getCompanyName(i),entityType:this.getEntityTypeDisplay(i),riskLevel:this.mapRiskLevel(s.overallRiskLevel,a),riskScore:a,status:this.mapStatus(s.status),assignedTo:i?.assignedToName||i?.assignedTo||"Unassigned",submittedDate:i?.submittedAt||s.createdAt,reviewDate:s.completedAt,reviewer:s.assessedBy,riskFactors:s.factors.map(e=>e.description),recommendations:s.notes?[s.notes]:[]}}async setManualRiskLevel(e,t,s){let i=`/api/risk/risk-assessments/${e}/set-risk-level`,a=this.mapRiskLevelToBackend(t);return this.request(i,{method:"POST",body:JSON.stringify({riskLevel:a,justification:s})})}async completeRiskAssessment(e,t){let s=`/api/risk/risk-assessments/${e}/complete`;return this.request(s,{method:"POST",body:JSON.stringify({notes:t})})}async rejectRiskAssessment(e,t){let s=`/api/risk/risk-assessments/${e}/reject`;return this.request(s,{method:"POST",body:JSON.stringify({reason:t})})}async createRiskAssessment(e,t){return this.request("/api/risk/risk-assessments",{method:"POST",body:JSON.stringify({caseId:e,partnerId:t})})}};e.s(["riskApiService",0,s])},351737,e=>{"use strict";var t=e.i(843476),s=e.i(843011),i=e.i(297630),a=e.i(53545),r=e.i(361035),n=e.i(891825),o=e.i(761869),l=e.i(571798),c=e.i(522207);e.i(643983);var d=e.i(825402),p=e.i(554646),u=e.i(191348),h=e.i(613056),m=e.i(404372),g=e.i(44999),y=e.i(927561),f=e.i(827296),k=e.i(312569),x=e.i(228427),w=e.i(192199),I=e.i(932536),v=e.i(271645),S=e.i(862873),C=e.i(343827),b=e.i(617029),j=e.i(856459);e.i(670357);var T=e.i(82349),R=e.i(778497),L=e.i(526732),N=e.i(618566);function E(){let{data:e}=(0,L.useSession)(),E=(0,N.useRouter)(),{condensed:A}=(0,b.useSidebar)(),[W,D]=(0,v.useState)([]),[P,U]=(0,v.useState)(!1),[O,$]=(0,v.useState)(null),[z,F]=(0,v.useState)(""),[M,H]=(0,v.useState)("ALL"),[B,q]=(0,v.useState)(!1),[G,_]=(0,v.useState)(null),[J,V]=(0,v.useState)(""),[K,X]=(0,v.useState)(""),[Q,Y]=(0,v.useState)(!1),[Z,ee]=(0,v.useState)(null),[et,es]=(0,v.useState)(0),ei=(0,v.useCallback)(async(e,t)=>{try{U(!0),$(null),console.log("[Risk Review Page] Loading risk assessments with filters:",{riskLevel:e||M,search:t||z});let s=e||M,i={};if("ALL"!==s){let e=s;"CRITICAL"===s||"HIGH"===s?e="High":"MEDIUM"===s?e="Medium":"LOW"===s&&(e="Low"),i.riskLevel=e}t&&t.trim().length>0&&(/^[0-9a-f-]{8,}$/i.test(t.trim())||t.trim().length>=8)&&(i.caseId=t.trim());let a=await j.riskApiService.listRiskAssessments(i),r=[];if("ALL"===s||!s)try{let e=(await (0,T.fetchApplications)(1,1e3,void 0,"SUBMITTED")).items.map(e=>({id:e.id,caseId:e.id,businessLegalName:e.companyName,applicantFirstName:"",applicantLastName:"",type:e.entityType,status:e.status,assignedTo:e.assignedTo,assignedToName:e.assignedTo,submittedAt:e.submittedDate,createdAt:e.submittedDate})),t=new Set(a.map(e=>e.caseId.toLowerCase()));r=e.filter(e=>{let s=(e.caseId||e.id).toLowerCase();return!t.has(s)})}catch(e){R.logger.warn("Failed to fetch cases needing review",{tags:{error_type:"risk_review_fetch_error"},extra:{error:e}})}let n=[...a.map(e=>({...e,needsAssessment:!1})),...r.map(e=>{let t=e.caseId||e.id,s=e.businessLegalName||`${e.applicantFirstName||""} ${e.applicantLastName||""}`.trim()||"Unknown Company";return{id:`pending-${t}`,applicationId:t,caseId:t,companyName:s,entityType:e.type||"Unknown",riskLevel:"UNKNOWN",riskScore:0,status:"PENDING",assignedTo:e.assignedToName||e.assignedTo||"Unassigned",submittedDate:e.submittedAt||e.createdAt,riskFactors:[],recommendations:[],needsAssessment:!0,caseProjection:e}})];D(n)}catch(e){console.error("[Risk Review Page] Failed to load risk assessments:",e),$(e instanceof Error?e.message:"Failed to load risk assessments. Please ensure the backend services are running."),D([])}finally{U(!1)}},[M,z]);(0,v.useEffect)(()=>{ei()},[ei,et]);let ea=(0,v.useCallback)(e=>{F(e),(0===e.length||e.length>=3)&&ei(M,e)},[M,ei]);(0,v.useEffect)(()=>{ei(M,z)},[M]);let er=e=>{switch(e){case"LOW":return"green";case"MEDIUM":return"orange";case"HIGH":case"CRITICAL":return"red";default:return"gray"}},en=e=>{switch(e){case"PENDING":return"orange";case"IN_REVIEW":return"blue";case"APPROVED":return"green";case"REJECTED":return"red";default:return"gray"}},eo=W.filter(e=>{let t=z.toLowerCase(),s=z.length>0&&(/^[0-9a-f-]{8,}$/i.test(z.trim())||z.trim().length>=8),i=!0;z.length>0&&!s&&(i=e.companyName.toLowerCase().includes(t)||e.applicationId.toLowerCase().includes(t));let a="ALL"===M||e.riskLevel===M;return i&&a}),el=W.filter(e=>"CRITICAL"===e.riskLevel).length,ec=W.filter(e=>"HIGH"===e.riskLevel).length,ed=W.filter(e=>{let t="UNKNOWN"===e.riskLevel||!e.riskLevel;return"PENDING"===e.status||t||"IN_REVIEW"===e.status&&t}).length,ep=W.filter(e=>"APPROVED"===e.status).length,eu=[{field:"companyName",header:"Company Name",width:"200px",minWidth:"200px",render:(e,s)=>(0,t.jsx)(p.Typography,{fontWeight:"medium",color:"gray.800",children:s.companyName})},{field:"applicationId",header:"Application ID",width:"150px",minWidth:"150px",render:(e,s)=>(0,t.jsx)(p.Typography,{color:"gray.600",fontSize:"xs",children:s.applicationId})},{field:"entityType",header:"Entity Type",width:"120px",minWidth:"120px",render:(e,s)=>(0,t.jsx)(p.Typography,{color:"gray.700",children:s.entityType})},{field:"riskLevel",header:"Risk Level",width:"140px",minWidth:"140px",render:(e,s)=>"UNKNOWN"!==s.riskLevel&&s.riskLevel?(0,t.jsx)(h.Tag,{variant:"red"===er(s.riskLevel)?"danger":"orange"===er(s.riskLevel)?"warning":"info",children:s.riskLevel}):(0,t.jsx)(h.Tag,{variant:"inactive",children:"Not Assessed"})},{field:"status",header:"Status",width:"120px",minWidth:"120px",render:(e,s)=>(0,t.jsx)(h.Tag,{variant:"green"===en(s.status)?"success":"red"===en(s.status)?"danger":"orange"===en(s.status)?"warning":"info",children:s.status.replace("_"," ")})},{field:"assignedTo",header:"Assigned To",width:"140px",minWidth:"140px",render:(e,s)=>(0,t.jsx)(p.Typography,{color:"gray.700",fontSize:"xs",children:s.assignedTo})},{field:"submittedDate",header:"Submitted",width:"120px",minWidth:"120px",render:(e,s)=>(0,t.jsx)(p.Typography,{color:"gray.600",fontSize:"xs",children:new Date(s.submittedDate).toLocaleDateString()})},{field:"riskScore",header:"Risk Score",width:"120px",minWidth:"120px",render:(e,i)=>"UNKNOWN"!==i.riskLevel&&i.riskLevel&&i.riskScore>0?(0,t.jsxs)(r.HStack,{gap:"1",align:"center",children:[(0,t.jsxs)(p.Typography,{fontSize:"xs",color:"gray.600",minW:"35px",children:[i.riskScore,"%"]}),(0,t.jsx)(s.Box,{flex:"1",height:"6px",bg:"gray.200",borderRadius:"full",overflow:"hidden",children:(0,t.jsx)(s.Box,{width:`${i.riskScore}%`,height:"100%",bg:i.riskScore>=80?"red.400":i.riskScore>=60?"orange.400":i.riskScore>=40?"yellow.400":"green.400",borderRadius:"full"})})]}):(0,t.jsx)(p.Typography,{fontSize:"xs",color:"gray.400",fontStyle:"italic",children:"N/A"})}];return(0,t.jsxs)(o.Flex,{minH:"100vh",bg:"gray.50",children:[(0,t.jsx)(S.default,{}),(0,t.jsxs)(s.Box,{ml:A?"72px":"280px",mt:"90px",minH:"calc(100vh - 90px)",width:A?"calc(100% - 72px)":"calc(100% - 280px)",bg:"gray.50",overflowX:"hidden",transition:"margin-left 0.3s ease, width 0.3s ease",children:[(0,t.jsx)(C.default,{}),(0,t.jsx)(i.Container,{maxW:"100%",px:"8",py:"6",width:"full",children:(0,t.jsxs)(a.VStack,{gap:"4",align:"stretch",children:[(0,t.jsxs)(o.Flex,{justify:"space-between",align:"center",mb:"4",children:[(0,t.jsxs)(a.VStack,{align:"start",gap:"1",children:[(0,t.jsx)(p.Typography,{fontSize:"3xl",fontWeight:"bold",color:"gray.800",children:"Risk Review"}),(0,t.jsx)(p.Typography,{color:"gray.600",children:"Manually review and classify application risk levels"})]}),(0,t.jsxs)(u.Button,{variant:"secondary",size:"sm",onClick:()=>{es(e=>e+1)},className:"mukuru-primary-button",children:[(0,t.jsx)(g.IconWrapper,{children:(0,t.jsx)(w.FiFilter,{size:16})}),"Refresh"]})]}),O&&(0,t.jsx)(y.AlertBar,{status:"error",title:"Error loading risk assessments",children:O}),(0,t.jsx)(y.AlertBar,{status:"info",title:"Manual Risk Review Required",children:"All risk classifications must be done manually by authorized personnel. No automatic risk scoring or classification is performed."}),(0,t.jsxs)(n.SimpleGrid,{columns:{base:1,md:4},gap:"4",children:[(0,t.jsx)(f.Card,{bg:"white",p:"4",children:(0,t.jsxs)(o.Flex,{gap:"4",align:"center",children:[(0,t.jsx)(c.Avatar.Root,{bg:"red.100",size:"md",display:"flex",alignItems:"center",justifyContent:"center",children:(0,t.jsx)(g.IconWrapper,{children:(0,t.jsx)(w.FiAlertTriangle,{size:20,color:"#E53E3E"})})}),(0,t.jsxs)(a.VStack,{align:"start",gap:"0",flex:"1",children:[(0,t.jsx)(p.Typography,{fontSize:"sm",color:"gray.600",children:"Critical Risk"}),(0,t.jsx)(p.Typography,{fontSize:"30px",fontWeight:"bold",color:"red.600",fontFamily:"Madera, sans-serif",children:el})]}),(0,t.jsx)(I.ChevronRightIcon,{})]})}),(0,t.jsx)(f.Card,{bg:"white",p:"4",children:(0,t.jsxs)(o.Flex,{gap:"4",align:"center",children:[(0,t.jsx)(c.Avatar.Root,{bg:"orange.100",size:"md",display:"flex",alignItems:"center",justifyContent:"center",children:(0,t.jsx)(g.IconWrapper,{children:(0,t.jsx)(w.FiFlag,{size:20,color:"#DD6B20"})})}),(0,t.jsxs)(a.VStack,{align:"start",gap:"0",flex:"1",children:[(0,t.jsx)(p.Typography,{fontSize:"sm",color:"gray.600",children:"High Risk"}),(0,t.jsx)(p.Typography,{fontSize:"30px",fontWeight:"bold",color:"orange.600",fontFamily:"Madera, sans-serif",children:ec})]}),(0,t.jsx)(I.ChevronRightIcon,{})]})}),(0,t.jsx)(f.Card,{bg:"white",p:"4",children:(0,t.jsxs)(o.Flex,{gap:"4",align:"center",children:[(0,t.jsx)(c.Avatar.Root,{bg:"blue.100",size:"md",display:"flex",alignItems:"center",justifyContent:"center",children:(0,t.jsx)(g.IconWrapper,{children:(0,t.jsx)(w.FiClock,{size:20,color:"#3182CE"})})}),(0,t.jsxs)(a.VStack,{align:"start",gap:"0",flex:"1",children:[(0,t.jsx)(p.Typography,{fontSize:"sm",color:"gray.600",children:"Pending Manual Review"}),(0,t.jsx)(p.Typography,{fontSize:"30px",fontWeight:"bold",color:"blue.600",fontFamily:"Madera, sans-serif",children:ed})]}),(0,t.jsx)(I.ChevronRightIcon,{})]})}),(0,t.jsx)(f.Card,{bg:"white",p:"4",children:(0,t.jsxs)(o.Flex,{gap:"4",align:"center",children:[(0,t.jsx)(c.Avatar.Root,{bg:"green.100",size:"md",display:"flex",alignItems:"center",justifyContent:"center",children:(0,t.jsx)(g.IconWrapper,{children:(0,t.jsx)(w.FiCheckCircle,{size:20,color:"#38A169"})})}),(0,t.jsxs)(a.VStack,{align:"start",gap:"0",flex:"1",children:[(0,t.jsx)(p.Typography,{fontSize:"sm",color:"gray.600",children:"Approved"}),(0,t.jsx)(p.Typography,{fontSize:"30px",fontWeight:"bold",color:"green.600",fontFamily:"Madera, sans-serif",children:ep})]}),(0,t.jsx)(I.ChevronRightIcon,{})]})})]}),(0,t.jsx)(r.HStack,{gap:"2",mb:"2",children:["ALL","CRITICAL","HIGH","MEDIUM","LOW"].map(e=>(0,t.jsx)(u.Button,{variant:"primary",onClick:()=>H(e),className:"mukuru-primary-button",style:{opacity:M===e?1:.7},children:"ALL"===e?"All":e},e))}),(0,t.jsx)(s.Box,{width:"100%",maxW:"800px",children:(0,t.jsx)(d.Search,{placeholder:"Search by company name or application ID...",onSearchChange:ea})}),(0,t.jsx)(s.Box,{className:"work-queue-table-wrapper",width:"100%",children:(0,t.jsx)(k.DataTable,{data:eo,columns:eu,actionColumn:{header:"Actions",width:"200px",render:e=>(0,t.jsxs)(r.HStack,{gap:"2",children:[(0,t.jsx)(x.Tooltip,{content:"Review",children:(0,t.jsxs)("button",{onClick:async()=>{try{let t=e.workItemId||e.applicationId;E.push(`/review/${t}`)}catch(t){console.error("Error navigating to review:",t),E.push(`/applications/${e.applicationId}`)}},style:{padding:"6px 12px",borderRadius:"6px",border:"none",backgroundColor:"#F05423",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[(0,t.jsx)(g.IconWrapper,{children:(0,t.jsx)(w.FiShield,{size:14})}),"Review"]})}),e.needsAssessment?(0,t.jsx)(x.Tooltip,{content:"Create Assessment",children:(0,t.jsx)("button",{onClick:async()=>{if(e.caseProjection){ee(e.caseId);try{await j.riskApiService.createRiskAssessment(e.caseId,e.caseProjection.partnerId),es(e=>e+1)}catch(e){console.error("Failed to create risk assessment:",e),alert("Failed to create risk assessment. Please try again.")}finally{ee(null)}}},disabled:Z===e.caseId,style:{padding:"6px 12px",borderRadius:"6px",border:"1px solid #E5E7EB",backgroundColor:"white",color:"#111827",cursor:Z===e.caseId?"not-allowed":"pointer",opacity:Z===e.caseId?.5:1},children:"Create Assessment"})}):(0,t.jsx)(x.Tooltip,{content:"UNKNOWN"!==e.riskLevel&&e.riskLevel?"Update":"Classify",children:(0,t.jsxs)("button",{onClick:()=>{_(e),V(e.riskLevel||""),X(""),q(!0)},style:{padding:"6px 12px",borderRadius:"6px",border:"1px solid #E5E7EB",backgroundColor:"white",color:"#111827",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[(0,t.jsx)(g.IconWrapper,{children:(0,t.jsx)(w.FiEdit3,{size:14})}),"UNKNOWN"!==e.riskLevel&&e.riskLevel?"Update":"Classify"]})})]})},loading:P})})]})})]}),(0,t.jsxs)(m.Modal,{isOpen:B,onClose:()=>{q(!1),_(null),V(""),X("")},title:"Classify Risk Level",size:"small",closeOnBackdropClick:!0,closeOnEsc:!0,children:[(0,t.jsx)(m.ModalHeader,{children:(0,t.jsxs)(r.HStack,{gap:"3",align:"center",children:[(0,t.jsx)(g.IconWrapper,{children:(0,t.jsx)(w.FiShield,{size:20,color:"#FB923C"})}),(0,t.jsxs)(a.VStack,{align:"start",gap:"0",children:[(0,t.jsx)(p.Typography,{fontSize:"lg",fontWeight:"700",children:"Classify Risk Level"}),(0,t.jsx)(p.Typography,{fontSize:"sm",color:"gray.600",children:"Manually set the risk classification for this application"})]})]})}),(0,t.jsx)(m.ModalBody,{children:(0,t.jsxs)(a.VStack,{gap:"5",align:"stretch",children:[(0,t.jsxs)(s.Box,{children:[(0,t.jsx)(p.Typography,{fontSize:"sm",fontWeight:"medium",color:"gray.700",mb:"2",children:"Application"}),(0,t.jsx)(p.Typography,{fontSize:"sm",color:"gray.600",children:G?.companyName||G?.applicationId})]}),(0,t.jsxs)(s.Box,{children:[(0,t.jsxs)(p.Typography,{fontSize:"sm",fontWeight:"medium",color:"gray.700",mb:"2",children:["Risk Level ",(0,t.jsx)(p.Typography,{as:"span",color:"red.500",children:"*"})]}),(0,t.jsxs)("select",{value:J,onChange:e=>V(e.target.value),style:{width:"100%",padding:"8px 12px",fontSize:"14px",borderRadius:"6px",border:"1px solid #E2E8F0",backgroundColor:"white",cursor:"pointer"},children:[(0,t.jsx)("option",{value:"",children:"Select risk level"}),(0,t.jsx)("option",{value:"LOW",children:"Low Risk"}),(0,t.jsx)("option",{value:"MEDIUM",children:"Medium Risk"}),(0,t.jsx)("option",{value:"HIGH",children:"High Risk"}),(0,t.jsx)("option",{value:"CRITICAL",children:"Critical Risk"})]})]}),(0,t.jsxs)(s.Box,{children:[(0,t.jsxs)(p.Typography,{fontSize:"sm",fontWeight:"medium",color:"gray.700",mb:"2",children:["Justification ",(0,t.jsx)(p.Typography,{as:"span",color:"red.500",children:"*"})]}),(0,t.jsx)(l.Textarea,{value:K,onChange:e=>X(e.target.value),placeholder:"Provide justification for this risk classification...",rows:4,resize:"vertical"}),(0,t.jsx)(p.Typography,{fontSize:"xs",color:"gray.500",mt:"1",children:"This justification will be recorded in the audit trail"})]})]})}),(0,t.jsx)(m.ModalFooter,{children:(0,t.jsxs)(r.HStack,{gap:"3",justify:"flex-end",children:[(0,t.jsx)(u.Button,{variant:"secondary",onClick:()=>{q(!1),_(null),V(""),X("")},children:"Cancel"}),(0,t.jsx)(u.Button,{variant:"primary",className:"mukuru-primary-button",onClick:async()=>{if(G&&J&&K.trim()){Y(!0);try{await j.riskApiService.setManualRiskLevel(G.id,J,K),q(!1),_(null),V(""),X(""),es(e=>e+1)}catch(e){console.error("Failed to classify risk:",e),alert("Failed to classify risk. Please try again.")}finally{Y(!1)}}},disabled:Q||!J||!K.trim(),children:"Classify Risk"})]})})]})]})}e.s(["default",()=>E])},535485,e=>{e.v(t=>Promise.all(["static/chunks/357d3a57e18aad09.js"].map(t=>e.l(t))).then(()=>t(332915)))},8947,e=>{e.v(e=>Promise.resolve().then(()=>e(817684)))}]);

//# debugId=6da25987-4f31-d231-b9f9-56de451148ff
//# sourceMappingURL=6b2b7e1e7f3e6f1f.js.map