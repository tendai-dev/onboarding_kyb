{
  "version": 3,
  "sources": [],
  "debugId": "4f43442d-d500-40f6-de21-8551723c73bc",
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///Users/mukurusystemsadministrator/Desktop/onboarding_kyc%20copy/admin/src/components/AdminSidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useMemo, useEffect } from \"react\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport { PortalNavigationSidebar } from \"@/lib/mukuruImports\";\nimport {\n  ProductIcon,\n  UserIcon,\n  PartnerIcon,\n  DocumentIcon,\n  SettingsIcon,\n  HelpIcon,\n  AppIcon,\n  FileOpenIcon,\n  NotificationIcon,\n  MailIcon,\n  FilterIcon,\n  WarningIcon,\n} from \"@/lib/mukuruImports\";\nimport { Box } from \"@chakra-ui/react\";\nimport { useSidebar } from \"../contexts/SidebarContext\";\n\nexport default function AdminSidebar() {\n  const pathname = usePathname();\n  const router = useRouter();\n  const { condensed, setCondensed } = useSidebar();\n  const [activeItemId, setActiveItemId] = useState(\"dashboard\");\n\n  // Update activeItemId based on pathname\n  useEffect(() => {\n    if (pathname === \"/dashboard\") {\n      setActiveItemId(\"dashboard\");\n    } else if (pathname?.startsWith(\"/work-queue\")) {\n      setActiveItemId(\"work-queue\");\n    } else if (pathname?.startsWith(\"/applications\")) {\n      setActiveItemId(\"applications\");\n    } else if (pathname?.startsWith(\"/review\") || pathname?.startsWith(\"/risk-review\") || pathname?.startsWith(\"/approvals\")) {\n      setActiveItemId(\"reviews\");\n    } else if (pathname?.startsWith(\"/documents\")) {\n      setActiveItemId(\"documents\");\n    } else if (pathname?.startsWith(\"/requirements\")) {\n      setActiveItemId(\"requirements\");\n    } else if (pathname?.startsWith(\"/entity-types\")) {\n      setActiveItemId(\"entity-types\");\n    } else if (pathname?.startsWith(\"/checklists\")) {\n      setActiveItemId(\"checklists\");\n    } else if (pathname?.startsWith(\"/wizard-configurations\")) {\n      setActiveItemId(\"wizard-configurations\");\n    } else if (pathname?.startsWith(\"/rules-and-permissions\")) {\n      setActiveItemId(\"rules-and-permissions\");\n    } else if (pathname?.startsWith(\"/audit-log\")) {\n      setActiveItemId(\"audit-log\");\n    } else if (pathname?.startsWith(\"/messages\")) {\n      setActiveItemId(\"messages\");\n    } else if (pathname?.startsWith(\"/notifications\")) {\n      setActiveItemId(\"notifications\");\n    } else if (pathname?.startsWith(\"/data-migration\")) {\n      setActiveItemId(\"data-migration\");\n    } else if (pathname?.startsWith(\"/refreshes\")) {\n      setActiveItemId(\"refreshes\");\n    } else if (pathname?.startsWith(\"/reports\")) {\n      setActiveItemId(\"reports\");\n    } else if (pathname?.startsWith(\"/profile\")) {\n      setActiveItemId(\"profile\");\n    } else if (pathname?.startsWith(\"/settings\")) {\n      setActiveItemId(\"settings\");\n    }\n  }, [pathname]);\n\n  const navigationItems = useMemo(() => [\n    {\n      id: \"dashboard\",\n      label: \"Dashboard\",\n      icon: <ProductIcon width=\"20\" height=\"20\" />,\n      onClick: () => {\n        setActiveItemId(\"dashboard\");\n        router.push(\"/dashboard\");\n      },\n    },\n    {\n      id: \"work-queue\",\n      label: \"Work Queue\",\n      icon: <FilterIcon width=\"20\" height=\"20\" />,\n      onClick: () => {\n        setActiveItemId(\"work-queue\");\n        router.push(\"/work-queue\");\n      },\n    },\n    {\n      id: \"applications\",\n      label: \"Applications\",\n      icon: <AppIcon width=\"20\" height=\"20\" />,\n      onClick: () => {\n        setActiveItemId(\"applications\");\n        router.push(\"/applications\");\n      },\n    },\n    {\n      id: \"reviews\",\n      label: \"Reviews\",\n      icon: <DocumentIcon width=\"20\" height=\"20\" />,\n      onClick: () => {\n        setActiveItemId(\"reviews\");\n        router.push(\"/review\");\n      },\n      subItems: [\n        {\n          id: \"risk-review\",\n          label: \"Risk Review\",\n          onClick: () => {\n            setActiveItemId(\"reviews\");\n            router.push(\"/risk-review\");\n          },\n        },\n        {\n          id: \"approvals\",\n          label: \"Approvals\",\n          onClick: () => {\n            setActiveItemId(\"reviews\");\n            router.push(\"/approvals\");\n          },\n        },\n      ],\n    },\n    {\n      id: \"documents\",\n      label: \"Documents\",\n      icon: <FileOpenIcon width=\"20\" height=\"20\" />,\n      onClick: () => {\n        setActiveItemId(\"documents\");\n        router.push(\"/documents\");\n      },\n    },\n    {\n      id: \"configuration\",\n      label: \"Configuration\",\n      icon: <SettingsIcon width=\"20\" height=\"20\" />,\n      onClick: () => {\n        setActiveItemId(\"configuration\");\n        router.push(\"/requirements\");\n      },\n      subItems: [\n        {\n          id: \"requirements\",\n          label: \"Requirements\",\n          onClick: () => {\n            setActiveItemId(\"configuration\");\n            router.push(\"/requirements\");\n          },\n        },\n        {\n          id: \"entity-types\",\n          label: \"Entity Types\",\n          onClick: () => {\n            setActiveItemId(\"configuration\");\n            router.push(\"/entity-types\");\n          },\n        },\n        {\n          id: \"checklists\",\n          label: \"Checklists\",\n          onClick: () => {\n            setActiveItemId(\"configuration\");\n            router.push(\"/checklists\");\n          },\n        },\n        {\n          id: \"wizard-configurations\",\n          label: \"Wizard Configurations\",\n          onClick: () => {\n            setActiveItemId(\"configuration\");\n            router.push(\"/wizard-configurations\");\n          },\n        },\n        {\n          id: \"rules-and-permissions\",\n          label: \"Rules & Permissions\",\n          onClick: () => {\n            setActiveItemId(\"configuration\");\n            router.push(\"/rules-and-permissions\");\n          },\n        },\n      ],\n    },\n    {\n      id: \"system\",\n      label: \"System\",\n      icon: <WarningIcon width=\"20\" height=\"20\" />,\n      onClick: () => {\n        setActiveItemId(\"system\");\n        router.push(\"/audit-log\");\n      },\n      subItems: [\n        {\n          id: \"audit-log\",\n          label: \"Audit Log\",\n          onClick: () => {\n            setActiveItemId(\"system\");\n            router.push(\"/audit-log\");\n          },\n        },\n        {\n          id: \"messages\",\n          label: \"Messages\",\n          onClick: () => {\n            setActiveItemId(\"system\");\n            router.push(\"/messages\");\n          },\n        },\n        {\n          id: \"notifications\",\n          label: \"Notifications\",\n          onClick: () => {\n            setActiveItemId(\"system\");\n            router.push(\"/notifications\");\n          },\n        },\n        {\n          id: \"data-migration\",\n          label: \"Data Migration\",\n          onClick: () => {\n            setActiveItemId(\"system\");\n            router.push(\"/data-migration\");\n          },\n        },\n        {\n          id: \"refreshes\",\n          label: \"Refreshes\",\n          onClick: () => {\n            setActiveItemId(\"system\");\n            router.push(\"/refreshes\");\n          },\n        },\n      ],\n    },\n    {\n      id: \"reports\",\n      label: \"Reports\",\n      icon: <DocumentIcon width=\"20\" height=\"20\" />,\n      onClick: () => {\n        setActiveItemId(\"reports\");\n        router.push(\"/reports\");\n      },\n    },\n    {\n      id: \"profile\",\n      label: \"Profile\",\n      icon: <UserIcon width=\"20\" height=\"20\" />,\n      onClick: () => {\n        setActiveItemId(\"profile\");\n        router.push(\"/profile\");\n      },\n    },\n  ], [router]);\n\n  const helpCentreItem = {\n    id: \"help-centre\",\n    label: \"Help Centre\",\n    icon: <HelpIcon width=\"20\" height=\"20\" />,\n    onClick: () => {\n      console.log(\"Help Centre\");\n      // Add help centre navigation if needed\n    },\n  };\n\n  return (\n    <Box\n      position=\"fixed\"\n      left=\"0\"\n      top=\"0\"\n      height=\"100vh\"\n      width={condensed ? \"72px\" : \"280px\"}\n      borderRight=\"1px solid\"\n      borderColor=\"rgba(55, 58, 54, 0.15)\"\n      zIndex=\"1000\"\n      className=\"sidebar-wrapper\"\n      bg=\"#F9FAFB\"\n      overflowY=\"auto\"\n      transition=\"width 0.3s ease\"\n    >\n      <PortalNavigationSidebar\n        navigationItems={navigationItems}\n        helpCentreItem={helpCentreItem}\n        {...({ activeItemId } as any)}\n        condensed={condensed}\n        onToggleCollapse={setCondensed}\n        onLogoClick={() => {\n          setActiveItemId(\"dashboard\");\n          router.push(\"/dashboard\");\n        }}\n        expandedWidth=\"280px\"\n        condensedWidth=\"72px\"\n      />\n    </Box>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 449, "column": 0}, "map": {"version":3,"sources":["file:///Users/mukurusystemsadministrator/Desktop/onboarding_kyc%20copy/admin/src/services/entityConfigApi.ts"],"sourcesContent":["import { getSession } from 'next-auth/react';\n\nconst ENTITY_CONFIG_API_BASE_URL = process.env.NEXT_PUBLIC_ENTITY_CONFIG_API_BASE_URL || 'http://localhost:8001';\n\n// Entity Configuration API Service\n\n// Types matching the backend DTOs\nexport interface EntityType {\n  id: string;\n  code: string;\n  displayName: string;\n  description: string;\n  icon?: string;\n  isActive: boolean;\n  createdAt: string;\n  updatedAt: string;\n  requirements?: EntityTypeRequirement[];\n}\n\nexport interface EntityTypeRequirement {\n  id: string;\n  requirementId: string;\n  isRequired: boolean;\n  displayOrder: number;\n  requirement?: Requirement;\n}\n\nexport interface Requirement {\n  id: string;\n  code: string;\n  displayName: string;\n  description: string;\n  type: string;\n  fieldType: string;\n  validationRules?: string;\n  helpText?: string;\n  isActive: boolean;\n  createdAt: string;\n  updatedAt: string;\n  options?: RequirementOption[];\n}\n\nexport interface RequirementOption {\n  id: string;\n  value: string;\n  displayText: string;\n  displayOrder: number;\n}\n\nexport interface CreateRequirementRequest {\n  code: string;\n  displayName: string;\n  description: string;\n  type: RequirementType;\n  fieldType: FieldType;\n  validationRules?: string;\n  helpText?: string;\n}\n\nexport interface UpdateRequirementRequest {\n  displayName: string;\n  description: string;\n  validationRules?: string;\n  helpText?: string;\n  isActive: boolean;\n}\n\nexport interface RequirementsMetadata {\n  requirementTypes: RequirementTypeMetadata[];\n  fieldTypes: FieldTypeMetadata[];\n}\n\nexport interface RequirementTypeMetadata {\n  value: number;\n  label: string;\n}\n\nexport interface FieldTypeMetadata {\n  value: string;\n  label: string;\n}\n\nexport interface WizardConfiguration {\n  id: string;\n  entityTypeId: string;\n  entityTypeDisplayName?: string;\n  entity_type_display_name?: string; // Backend returns snake_case\n  isActive: boolean;\n  is_active?: boolean; // Backend returns snake_case\n  createdAt: string;\n  created_at?: string; // Backend returns snake_case\n  updatedAt: string;\n  updated_at?: string; // Backend returns snake_case\n  steps: WizardStep[];\n}\n\nexport interface WizardStep {\n  id: string;\n  title: string;\n  subtitle: string;\n  requirementTypes: string[];\n  checklistCategory: string;\n  stepNumber: number;\n  isActive: boolean;\n}\n\nexport interface CreateWizardConfigurationRequest {\n  entityTypeId: string;\n  isActive: boolean;\n  steps: CreateWizardStepRequest[];\n}\n\nexport interface CreateWizardStepRequest {\n  title: string;\n  subtitle: string;\n  requirementTypes: string[];\n  checklistCategory: string;\n  stepNumber: number;\n  isActive: boolean;\n}\n\nexport interface UpdateWizardConfigurationRequest {\n  isActive: boolean;\n  steps: CreateWizardStepRequest[];\n}\n\nexport const RequirementType = {\n  Information: 1,\n  Document: 2,\n  ProofOfIdentity: 3,\n  ProofOfAddress: 4,\n  OwnershipStructure: 5,\n  BoardDirectors: 6,\n  AuthorizedSignatories: 7\n} as const;\n\nexport type RequirementType = typeof RequirementType[keyof typeof RequirementType];\n\nexport const FieldType = {\n  Text: 'Text',\n  Email: 'Email',\n  Phone: 'Phone',\n  Number: 'Number',\n  Date: 'Date',\n  Select: 'Select',\n  MultiSelect: 'MultiSelect',\n  Radio: 'Radio',\n  Checkbox: 'Checkbox',\n  Textarea: 'Textarea',\n  File: 'File',\n  Country: 'Country',\n  Currency: 'Currency',\n  Address: 'Address'\n} as const;\n\nexport type FieldType = typeof FieldType[keyof typeof FieldType];\n\nclass EntityConfigApiService {\n  private async getAuthHeaders(): Promise<HeadersInit> {\n    const headers: HeadersInit = {\n      'Content-Type': 'application/json',\n    };\n\n    // DO NOT send accessToken - API proxy will inject it from Redis\n    // Only add user identification headers for backend\n    if (typeof window !== 'undefined') {\n      try {\n        const response = await fetch('/api/auth/session');\n        const session = await response.json();\n        \n        // Add user identification headers for backend\n        if (session?.user?.email) {\n          headers['X-User-Email'] = session.user.email;\n        }\n        if (session?.user?.name) {\n          headers['X-User-Name'] = session.user.name;\n        }\n      } catch (error) {\n        if (typeof window !== 'undefined') {\n          const { clientSentry } = await import('../lib/sentry-client');\n          clientSentry.reportError(error, {\n            tags: { error_type: 'entity_config_api', operation: 'get_session' },\n            level: 'warning',\n          });\n        }\n      }\n    }\n    // Server-side: API proxy will inject token from Redis, no need to add here\n\n    return headers;\n  }\n\n  private async request<T>(endpoint: string, options?: RequestInit): Promise<T> {\n    // Use Next.js API route when in browser, direct URL when server-side\n    let baseUrl: string;\n    let finalEndpoint: string;\n    \n    if (typeof window !== 'undefined') {\n      // Client-side: use Next.js API routes\n      // Requirements endpoint uses dedicated route, wizard configurations and others use rules-and-permissions catch-all\n      if (endpoint.startsWith('/requirements')) {\n        baseUrl = '/api/requirements';\n        finalEndpoint = ''; // The route handles /requirements internally\n      } else if (endpoint.startsWith('/wizardconfigurations') || endpoint.startsWith('/entity-types')) {\n        baseUrl = '/api/rules-and-permissions';\n        finalEndpoint = endpoint;\n      } else {\n        baseUrl = '/api/rules-and-permissions';\n        finalEndpoint = endpoint;\n      }\n    } else {\n      // Server-side: use direct backend URL\n      baseUrl = `${ENTITY_CONFIG_API_BASE_URL}/api/v1`;\n      finalEndpoint = endpoint;\n    }\n    \n    const url = `${baseUrl}${finalEndpoint}`;\n    const headers = await this.getAuthHeaders();\n\n    try {\n      // Create a timeout promise\n      const timeoutPromise = new Promise<never>((_, reject) => {\n        setTimeout(() => reject(new Error('Request timeout')), 10000);\n      });\n\n      const fetchPromise = fetch(url, {\n        ...options,\n        headers: {\n          ...headers,\n          ...options?.headers,\n        },\n      });\n\n      const response = await Promise.race([fetchPromise, timeoutPromise]);\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        let errorMessage = `Entity Config API request failed: ${response.status} ${response.statusText}`;\n        \n        // Try to parse error message from JSON response\n        try {\n          const errorJson = JSON.parse(errorText);\n          if (errorJson.message) {\n            errorMessage = errorJson.message;\n          } else if (errorJson.error) {\n            errorMessage = errorJson.error;\n          }\n        } catch {\n          // If not JSON, use the text as is (may contain HTML or plain text)\n          if (errorText && errorText.trim().length > 0) {\n            errorMessage = errorText.length > 200 ? errorText.substring(0, 200) + '...' : errorText;\n          }\n        }\n        \n        throw new Error(errorMessage);\n      }\n\n      // Handle 204 No Content responses\n      if (response.status === 204) {\n        return null as T;\n      }\n\n      return response.json();\n    } catch (error) {\n      if (error instanceof TypeError || (error instanceof Error && error.message.includes('timeout'))) {\n        throw new Error('Unable to connect to Entity Configuration service');\n      }\n      throw error;\n    }\n  }\n\n  // Entity Types endpoints\n  async getEntityTypes(includeInactive = false, includeRequirements = true): Promise<EntityType[]> {\n    const params = new URLSearchParams();\n    if (includeInactive) params.append('includeInactive', 'true');\n    if (includeRequirements) params.append('includeRequirements', 'true');\n    \n    const queryString = params.toString();\n    const data = await this.request<any[]>(`/entity-types${queryString ? `?${queryString}` : ''}`);\n    \n    // Transform snake_case or PascalCase to camelCase\n    return data.map((et: any) => {\n      // Transform requirements array if present\n      let requirements = et.requirements || et.Requirements || [];\n      if (Array.isArray(requirements) && requirements.length > 0) {\n        requirements = requirements.map((req: any) => ({\n          id: req.id || req.Id,\n          requirementId: req.requirementId || req.RequirementId || req.requirement_id,\n          isRequired: req.isRequired !== undefined ? req.isRequired : (req.IsRequired !== undefined ? req.IsRequired : (req.is_required !== undefined ? req.is_required : false)),\n          displayOrder: req.displayOrder || req.DisplayOrder || req.display_order || 0,\n          requirement: req.requirement || req.Requirement\n        }));\n      }\n      \n      return {\n        id: et.id || et.Id,\n        code: et.code || et.Code,\n        displayName: et.displayName || et.DisplayName || et.display_name || et.code || 'Unnamed',\n        description: et.description || et.Description || et.description || '',\n        icon: et.icon || et.Icon,\n        isActive: et.isActive !== undefined ? et.isActive : (et.IsActive !== undefined ? et.IsActive : (et.is_active !== undefined ? et.is_active : true)),\n        createdAt: et.createdAt || et.CreatedAt || et.created_at || '',\n        updatedAt: et.updatedAt || et.UpdatedAt || et.updated_at || '',\n        requirements: requirements\n      };\n    });\n  }\n\n  async getEntityType(id: string, includeRequirements = true): Promise<EntityType> {\n    const url = includeRequirements \n      ? `/entity-types/${id}?includeRequirements=true`\n      : `/entity-types/${id}`;\n    return this.request<EntityType>(url);\n  }\n\n  async getEntityTypeByCode(code: string, includeRequirements = true): Promise<EntityType | null> {\n    // Use the code exactly as provided - no normalization\n    // This is the code stored in the application metadata\n    const cleanCode = code.trim();\n    console.log('[EntityConfigAPI] Fetching entity type by code (as-is from application):', cleanCode);\n    \n    // Use the new direct endpoint - NO FALLBACK\n    try {\n      const result = await this.request<EntityType>(`/entity-types/by-code/${encodeURIComponent(cleanCode)}`);\n      console.log('[EntityConfigAPI] âœ… Successfully fetched entity type:', result?.code);\n      return result;\n    } catch (error) {\n      if (typeof window !== 'undefined') {\n        const { clientSentry } = await import('../lib/sentry-client');\n        clientSentry.reportError(error, {\n          tags: { error_type: 'entity_config_api', operation: 'fetch_entity_type_by_code' },\n          extra: { code: cleanCode },\n          level: 'error',\n        });\n      }\n      return null;\n    }\n  }\n\n  async createEntityType(data: { code: string; displayName: string; description: string; icon?: string }): Promise<{ id: string; code: string; displayName: string }> {\n    return this.request<{ id: string; code: string; displayName: string }>('/entity-types', {\n      method: 'POST',\n      body: JSON.stringify(data),\n    });\n  }\n\n  async updateEntityType(id: string, data: { displayName: string; description: string; isActive: boolean; icon?: string }): Promise<any> {\n    return this.request<any>(`/entity-types/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(data),\n    });\n  }\n\n  async deleteEntityType(id: string): Promise<void> {\n    return this.request<void>(`/entity-types/${id}`, {\n      method: 'DELETE',\n    });\n  }\n\n  // Requirements endpoints\n  async getRequirements(includeInactive = false): Promise<Requirement[]> {\n    const params = includeInactive ? '?includeInactive=true' : '';\n    const data = await this.request<any[]>(`/requirements${params}`);\n    \n    // Transform snake_case or PascalCase to camelCase\n    return data.map((req: any) => ({\n      id: req.id || req.Id,\n      code: req.code || req.Code,\n      displayName: req.displayName || req.DisplayName || req.display_name || req.code || 'Unnamed',\n      description: req.description || req.Description || req.description || '',\n      type: req.type || req.Type || req.type || '',\n      fieldType: req.fieldType || req.FieldType || req.field_type || '',\n      validationRules: req.validationRules || req.ValidationRules || req.validation_rules,\n      helpText: req.helpText || req.HelpText || req.help_text,\n      isActive: req.isActive !== undefined ? req.isActive : (req.IsActive !== undefined ? req.IsActive : (req.is_active !== undefined ? req.is_active : true)),\n      createdAt: req.createdAt || req.CreatedAt || req.created_at || '',\n      updatedAt: req.updatedAt || req.UpdatedAt || req.updated_at || '',\n      options: req.options || req.Options || []\n    }));\n  }\n\n  async getRequirement(id: string): Promise<Requirement> {\n    return this.request<Requirement>(`/requirements/${id}`);\n  }\n\n  async createRequirement(data: CreateRequirementRequest): Promise<any> {\n    return this.request<any>('/requirements', {\n      method: 'POST',\n      body: JSON.stringify(data),\n    });\n  }\n\n  async updateRequirement(id: string, data: UpdateRequirementRequest): Promise<any> {\n    return this.request<any>(`/requirements/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(data),\n    });\n  }\n\n  async deleteRequirement(id: string): Promise<void> {\n    return this.request<void>(`/requirements/${id}`, {\n      method: 'DELETE',\n    });\n  }\n\n  async getRequirementsMetadata(): Promise<RequirementsMetadata> {\n    return this.request<RequirementsMetadata>('/requirements/metadata');\n  }\n\n  // Requirement Options endpoints\n  async getRequirementOptions(requirementId: string): Promise<RequirementOption[]> {\n    return this.request<RequirementOption[]>(`/requirements/${requirementId}/options`);\n  }\n\n  async addRequirementOption(requirementId: string, data: { value: string; displayText: string; displayOrder: number }): Promise<RequirementOption> {\n    return this.request<RequirementOption>(`/requirements/${requirementId}/options`, {\n      method: 'POST',\n      body: JSON.stringify(data),\n    });\n  }\n\n  async updateRequirementOption(requirementId: string, optionId: string, data: { value: string; displayText: string; displayOrder: number }): Promise<RequirementOption> {\n    return this.request<RequirementOption>(`/requirements/${requirementId}/options/${optionId}`, {\n      method: 'PUT',\n      body: JSON.stringify(data),\n    });\n  }\n\n  async deleteRequirementOption(requirementId: string, optionId: string): Promise<void> {\n    return this.request<void>(`/requirements/${requirementId}/options/${optionId}`, {\n      method: 'DELETE',\n    });\n  }\n\n  // Entity Type Requirements endpoints\n  async addRequirementToEntityType(entityTypeId: string, data: { requirementId: string; isRequired: boolean; displayOrder: number }): Promise<void> {\n    return this.request<void>(`/entity-types/${entityTypeId}/requirements`, {\n      method: 'POST',\n      body: JSON.stringify(data),\n    });\n  }\n\n  async removeRequirementFromEntityType(entityTypeId: string, requirementId: string): Promise<void> {\n    return this.request<void>(`/entity-types/${entityTypeId}/requirements/${requirementId}`, {\n      method: 'DELETE',\n    });\n  }\n\n  // Wizard Configuration endpoints\n  async getWizardConfigurations(includeInactive = false): Promise<WizardConfiguration[]> {\n    const params = includeInactive ? '?includeInactive=true' : '';\n    const data = await this.request<any[]>(`/wizardconfigurations${params}`);\n    // Transform snake_case to camelCase\n    return data.map(config => ({\n      id: config.id,\n      entityTypeId: config.entity_type_id || config.entityTypeId,\n      entityTypeDisplayName: config.entity_type_display_name || config.entityTypeDisplayName,\n      isActive: config.is_active !== undefined ? config.is_active : config.isActive,\n      createdAt: config.created_at || config.createdAt,\n      updatedAt: config.updated_at || config.updatedAt,\n      steps: (config.steps || []).map((step: any) => ({\n        id: step.id,\n        title: step.title,\n        subtitle: step.subtitle,\n        requirementTypes: step.requirement_types || step.requirementTypes || [],\n        checklistCategory: step.checklist_category || step.checklistCategory || '',\n        stepNumber: step.step_number || step.stepNumber || 0,\n        isActive: step.is_active !== undefined ? step.is_active : step.isActive,\n      })),\n    }));\n  }\n\n  async getWizardConfiguration(id: string): Promise<WizardConfiguration> {\n    const config = await this.request<any>(`/wizardconfigurations/${id}`);\n    // Transform snake_case to camelCase\n    return {\n      id: config.id,\n      entityTypeId: config.entity_type_id || config.entityTypeId,\n      entityTypeDisplayName: config.entity_type_display_name || config.entityTypeDisplayName,\n      isActive: config.is_active !== undefined ? config.is_active : config.isActive,\n      createdAt: config.created_at || config.createdAt,\n      updatedAt: config.updated_at || config.updatedAt,\n      steps: (config.steps || []).map((step: any) => ({\n        id: step.id,\n        title: step.title,\n        subtitle: step.subtitle,\n        requirementTypes: step.requirement_types || step.requirementTypes || [],\n        checklistCategory: step.checklist_category || step.checklistCategory || '',\n        stepNumber: step.step_number || step.stepNumber || 0,\n        isActive: step.is_active !== undefined ? step.is_active : step.isActive,\n      })),\n    };\n  }\n\n  async getWizardConfigurationByEntityType(entityTypeId: string): Promise<WizardConfiguration | null> {\n    try {\n      return this.request<WizardConfiguration>(`/wizardconfigurations/by-entity-type/${entityTypeId}`);\n    } catch (error) {\n      if (typeof window !== 'undefined') {\n        const { clientSentry } = await import('../lib/sentry-client');\n        clientSentry.reportError(error, {\n          tags: { error_type: 'entity_config_api', operation: 'fetch_wizard_config' },\n          extra: { entityTypeId },\n          level: 'error',\n        });\n      }\n      return null;\n    }\n  }\n\n  async createWizardConfiguration(data: CreateWizardConfigurationRequest): Promise<{ id: string; entityTypeId: string; isActive: boolean; createdAt: string }> {\n    return this.request<{ id: string; entityTypeId: string; isActive: boolean; createdAt: string }>('/wizardconfigurations', {\n      method: 'POST',\n      body: JSON.stringify(data),\n    });\n  }\n\n  async updateWizardConfiguration(id: string, data: UpdateWizardConfigurationRequest): Promise<any> {\n    return this.request<any>(`/wizardconfigurations/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(data),\n    });\n  }\n\n  async deleteWizardConfiguration(id: string): Promise<void> {\n    return this.request<void>(`/wizardconfigurations/${id}`, {\n      method: 'DELETE',\n    });\n  }\n}\n\nexport const entityConfigApiService = new EntityConfigApiService();\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 836, "column": 0}, "map": {"version":3,"sources":["file:///Users/mukurusystemsadministrator/Desktop/onboarding_kyc%20copy/admin/src/lib/logger.ts"],"sourcesContent":["/**\n * Centralized logging utility\n * Replaces console.log/warn/error with proper logging that can be controlled\n * and integrated with Sentry in production\n */\n\nimport * as Sentry from '@sentry/nextjs';\nimport { reportError, reportWarning, addBreadcrumb } from './sentry';\n\ntype LogLevel = 'debug' | 'info' | 'warn' | 'error';\n\ninterface LogOptions {\n  tags?: Record<string, string>;\n  extra?: Record<string, unknown>;\n  level?: LogLevel;\n}\n\nclass Logger {\n  private isDevelopment = process.env.NODE_ENV === 'development';\n  private isProduction = process.env.NODE_ENV === 'production';\n\n  /**\n   * Log debug messages (only in development)\n   */\n  debug(message: string, ...args: unknown[]): void {\n    if (this.isDevelopment) {\n      // eslint-disable-next-line no-console\n      console.debug(`[DEBUG] ${message}`, ...args);\n    }\n  }\n\n  /**\n   * Log info messages\n   */\n  info(message: string, ...args: unknown[]): void {\n    if (this.isDevelopment) {\n      // eslint-disable-next-line no-console\n      console.info(`[INFO] ${message}`, ...args);\n    }\n    // Add breadcrumb in production for debugging\n    if (this.isProduction) {\n      addBreadcrumb(message, 'info', 'info' as Sentry.SeverityLevel, { args });\n    }\n  }\n\n  /**\n   * Log warning messages\n   */\n  warn(message: string, options?: LogOptions): void {\n    // eslint-disable-next-line no-console\n    console.warn(`[WARN] ${message}`);\n    \n    // Report to Sentry in production\n    if (this.isProduction) {\n      reportWarning(message, {\n        tags: options?.tags,\n        extra: options?.extra,\n      });\n    }\n  }\n\n  /**\n   * Log error messages\n   */\n  error(error: Error | unknown, message?: string, options?: LogOptions): void {\n    const errorMessage = message || (error instanceof Error ? error.message : String(error));\n    \n    // eslint-disable-next-line no-console\n    console.error(`[ERROR] ${errorMessage}`, error);\n    \n    // Map LogLevel to Sentry.SeverityLevel\n    const sentryLevel: Sentry.SeverityLevel = \n      options?.level === 'warn' ? 'warning' : \n      options?.level === 'error' ? 'error' : \n      options?.level === 'info' ? 'info' : \n      'error';\n    \n    // Report to Sentry\n    reportError(error, {\n      tags: options?.tags,\n      extra: options?.extra,\n      level: sentryLevel,\n    });\n  }\n\n  /**\n   * Log with context (replaces console.log with structured logging)\n   */\n  log(message: string, context?: Record<string, unknown>, level: LogLevel = 'info'): void {\n    if (this.isDevelopment) {\n      // eslint-disable-next-line no-console\n      console.log(`[${level.toUpperCase()}] ${message}`, context || '');\n    }\n    \n    // Add breadcrumb in production\n    if (this.isProduction && level !== 'debug') {\n      const sentryLevel: Sentry.SeverityLevel = \n        level === 'warn' ? 'warning' : level === 'error' ? 'error' : 'info';\n      addBreadcrumb(message, 'log', sentryLevel, context);\n    }\n  }\n}\n\n// Export singleton instance\nexport const logger = new Logger();\n\n// Export class for testing\nexport { Logger };\n\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;;;AAcyB;AAX1B;;AAUA,MAAM;IACI,gBAAgB,oDAAyB,cAAc;IACvD,eAAe,oDAAyB,aAAa;IAE7D;;GAEC,GACD,MAAM,OAAe,EAAE,GAAG,IAAe,EAAQ;QAC/C,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,sCAAsC;YACtC,QAAQ,KAAK,CAAC,CAAC,QAAQ,EAAE,SAAS,KAAK;QACzC;IACF;IAEA;;GAEC,GACD,KAAK,OAAe,EAAE,GAAG,IAAe,EAAQ;QAC9C,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,sCAAsC;YACtC,QAAQ,IAAI,CAAC,CAAC,OAAO,EAAE,SAAS,KAAK;QACvC;QACA,6CAA6C;QAC7C,IAAI,IAAI,CAAC,YAAY,EAAE;YACrB,IAAA,wIAAa,EAAC,SAAS,QAAQ,QAAgC;gBAAE;YAAK;QACxE;IACF;IAEA;;GAEC,GACD,KAAK,OAAe,EAAE,OAAoB,EAAQ;QAChD,sCAAsC;QACtC,QAAQ,IAAI,CAAC,CAAC,OAAO,EAAE,SAAS;QAEhC,iCAAiC;QACjC,IAAI,IAAI,CAAC,YAAY,EAAE;YACrB,IAAA,wIAAa,EAAC,SAAS;gBACrB,MAAM,SAAS;gBACf,OAAO,SAAS;YAClB;QACF;IACF;IAEA;;GAEC,GACD,MAAM,KAAsB,EAAE,OAAgB,EAAE,OAAoB,EAAQ;QAC1E,MAAM,eAAe,WAAW,CAAC,iBAAiB,QAAQ,MAAM,OAAO,GAAG,OAAO,MAAM;QAEvF,sCAAsC;QACtC,QAAQ,KAAK,CAAC,CAAC,QAAQ,EAAE,cAAc,EAAE;QAEzC,uCAAuC;QACvC,MAAM,cACJ,SAAS,UAAU,SAAS,YAC5B,SAAS,UAAU,UAAU,UAC7B,SAAS,UAAU,SAAS,SAC5B;QAEF,mBAAmB;QACnB,IAAA,sIAAW,EAAC,OAAO;YACjB,MAAM,SAAS;YACf,OAAO,SAAS;YAChB,OAAO;QACT;IACF;IAEA;;GAEC,GACD,IAAI,OAAe,EAAE,OAAiC,EAAE,QAAkB,MAAM,EAAQ;QACtF,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,sCAAsC;YACtC,QAAQ,GAAG,CAAC,CAAC,CAAC,EAAE,MAAM,WAAW,GAAG,EAAE,EAAE,SAAS,EAAE,WAAW;QAChE;QAEA,+BAA+B;QAC/B,IAAI,IAAI,CAAC,YAAY,IAAI,UAAU,SAAS;YAC1C,MAAM,cACJ,UAAU,SAAS,YAAY,UAAU,UAAU,UAAU;YAC/D,IAAA,wIAAa,EAAC,SAAS,OAAO,aAAa;QAC7C;IACF;AACF;AAGO,MAAM,SAAS,IAAI"}},
    {"offset": {"line": 925, "column": 0}, "map": {"version":3,"sources":["file:///Users/mukurusystemsadministrator/Desktop/onboarding_kyc%20copy/admin/src/app/wizard-configurations/create/page.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  Box,\n  Container,\n  VStack,\n  HStack,\n  Input as ChakraInput,\n  Flex,\n  Field,\n  Spinner,\n  SimpleGrid,\n  Checkbox as ChakraCheckbox\n} from \"@chakra-ui/react\";\nimport { Typography, Button, IconWrapper, AlertBar, Tag, Input, Dropdown } from \"@/lib/mukuruImports\";\nimport { FiSettings, FiX, FiPlus, FiTrash2, FiArrowUp, FiArrowDown } from \"react-icons/fi\";\nimport AdminSidebar from \"../../../components/AdminSidebar\";\nimport { useState, useEffect, useCallback, useMemo, memo } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { entityConfigApiService, EntityType, RequirementsMetadata, RequirementType, Requirement } from \"../../../services/entityConfigApi\";\nimport { logger } from \"../../../lib/logger\";\n\ninterface WizardStepForm {\n  title: string;\n  subtitle: string;\n  requirementTypes: string[];\n  requirementIds: string[]; // Individual requirement IDs selected\n  checklistCategory: string;\n  stepNumber: number;\n  isActive: boolean;\n}\n\n// Separate component for each requirement checkbox to ensure proper isolation\nfunction RequirementCheckbox({\n  requirementId,\n  requirementDisplayName,\n  requirementDescription,\n  isChecked,\n  stepIndex,\n  onToggle\n}: {\n  requirementId: string;\n  requirementDisplayName: string;\n  requirementDescription?: string;\n  isChecked: boolean;\n  stepIndex: number;\n  onToggle: () => void;\n}) {\n  // Create handler that immediately calls onToggle with correct closure\n  const handleChange = (details: any) => {\n    const checked = details?.checked === true || details === true;\n    logger.debug('RequirementCheckbox handleChange', {\n      requirementId,\n      stepIndex,\n      checked,\n      isChecked,\n      hasDetails: !!details\n    });\n    // Call onToggle - it should be bound to the correct requirement\n    onToggle();\n  };\n\n  return (\n    <Box \n      w=\"100%\"\n      py=\"1\"\n      position=\"relative\"\n      data-requirement-id={requirementId}\n      data-step-index={stepIndex}\n      style={{\n        position: 'relative',\n        zIndex: 1,\n        isolation: 'isolate',\n        cursor: 'pointer'\n      }}\n      onClick={(e) => {\n        e.stopPropagation();\n        logger.debug('Box clicked', { requirementId, stepIndex });\n        handleChange({ checked: !isChecked });\n      }}\n    >\n      <HStack gap=\"3\" align=\"flex-start\">\n        <Box\n          onClick={(e) => {\n            e.stopPropagation();\n          }}\n          style={{\n            flexShrink: 0,\n            paddingTop: '2px' // Align checkbox with first line of text\n          }}\n        >\n          <ChakraCheckbox.Root\n            checked={isChecked}\n            onCheckedChange={handleChange}\n            id={`checkbox-${requirementId}-${stepIndex}`}\n            name={`checkbox-${requirementId}-${stepIndex}`}\n            value={requirementId}\n            style={{\n              cursor: 'pointer'\n            }}\n          >\n            <ChakraCheckbox.Control\n              style={{\n                backgroundColor: isChecked ? '#F05423' : 'white',\n                borderColor: isChecked ? '#F05423' : '#D1D5DB',\n                borderWidth: '2px',\n                width: '20px',\n                height: '20px',\n                borderRadius: '4px',\n                cursor: 'pointer'\n              }}\n            >\n              <ChakraCheckbox.Indicator\n                style={{\n                  color: 'white',\n                  fontSize: '14px',\n                  fontWeight: 'bold'\n                }}\n              >\n                âœ“\n              </ChakraCheckbox.Indicator>\n            </ChakraCheckbox.Control>\n          </ChakraCheckbox.Root>\n        </Box>\n        <VStack align=\"start\" gap=\"0\" flex=\"1\" onClick={(e) => {\n          e.stopPropagation();\n          logger.debug('Text area clicked', { requirementId, stepIndex });\n          handleChange({ checked: !isChecked });\n        }} style={{ cursor: 'pointer', minWidth: 0 }}>\n          <Typography fontSize=\"sm\" fontWeight=\"600\" color=\"#111827\" style={{ color: '#111827', lineHeight: '20px' }}>\n            {requirementDisplayName}\n          </Typography>\n          {requirementDescription && (\n            <Typography fontSize=\"xs\" color=\"#6B7280\" fontWeight=\"400\" style={{ color: '#6B7280' }} mt=\"1\">\n              {requirementDescription}\n            </Typography>\n          )}\n        </VStack>\n      </HStack>\n    </Box>\n  );\n}\n\nexport default function CreateWizardConfigurationPage() {\n  const router = useRouter();\n  const [formData, setFormData] = useState({\n    entityTypeId: '',\n    isActive: true,\n  });\n  const [steps, setSteps] = useState<WizardStepForm[]>([\n    {\n      title: '',\n      subtitle: '',\n      requirementTypes: [],\n      requirementIds: [],\n      checklistCategory: '',\n      stepNumber: 1,\n      isActive: true,\n    }\n  ]);\n  const [entityTypes, setEntityTypes] = useState<EntityType[]>([]);\n  const [metadata, setMetadata] = useState<RequirementsMetadata | null>(null);\n  const [selectedEntityType, setSelectedEntityType] = useState<EntityType | null>(null);\n  const [entityRequirements, setEntityRequirements] = useState<Requirement[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  useEffect(() => {\n    console.log('useEffect triggered - entityTypeId:', formData.entityTypeId);\n    if (formData.entityTypeId) {\n      console.log('Loading requirements for entity type:', formData.entityTypeId);\n      loadEntityTypeRequirements(formData.entityTypeId);\n    } else {\n      console.log('No entity type selected, clearing requirements');\n      setSelectedEntityType(null);\n      setEntityRequirements([]);\n    }\n  }, [formData.entityTypeId]);\n\n  const loadData = async () => {\n    try {\n      setLoading(true);\n      const [entityTypesData, metadataData] = await Promise.all([\n        entityConfigApiService.getEntityTypes(false, false),\n        entityConfigApiService.getRequirementsMetadata(),\n      ]);\n      setEntityTypes(entityTypesData);\n      setMetadata(metadataData);\n      console.log('Loaded entity types:', entityTypesData.length, entityTypesData);\n      // Debug: log first entity type structure\n      if (entityTypesData.length > 0) {\n        console.log('First entity type structure:', entityTypesData[0]);\n        console.log('First entity type displayName:', entityTypesData[0].displayName);\n        console.log('First entity type keys:', Object.keys(entityTypesData[0]));\n      }\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Failed to load data';\n      setError(errorMessage);\n      console.error('Error loading data:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadEntityTypeRequirements = async (entityTypeId: string) => {\n    try {\n      console.log('Loading requirements for entity type ID:', entityTypeId);\n      \n      // Fetch entity type with requirements included\n      const allEntityTypes = await entityConfigApiService.getEntityTypes(false, true);\n      console.log('All entity types with requirements:', allEntityTypes.length);\n      \n      // Try to find by ID (handle both string and GUID formats)\n      let entityType = allEntityTypes.find(et => et.id === entityTypeId || et.id?.toString() === entityTypeId?.toString());\n      \n      // If not found, try to find by case-insensitive comparison\n      if (!entityType) {\n        entityType = allEntityTypes.find(et => \n          et.id?.toLowerCase() === entityTypeId?.toLowerCase() ||\n          et.id?.replace(/-/g, '') === entityTypeId?.replace(/-/g, '')\n        );\n      }\n      \n      console.log('Found entity type:', entityType ? entityType.displayName : 'NOT FOUND');\n      console.log('Entity type requirements:', entityType?.requirements?.length || 0);\n      \n      if (entityType) {\n        setSelectedEntityType(entityType);\n        \n        // Extract requirements from entity type\n        console.log('Entity type requirements structure:', JSON.stringify(entityType.requirements, null, 2));\n        \n        if (entityType.requirements && entityType.requirements.length > 0) {\n          // Get all requirement IDs - handle different structures\n          const requirementIds = entityType.requirements.map((etr: any) => {\n            // Try different possible property names\n            const id = etr.requirementId || \n                      etr.RequirementId || \n                      etr.requirement_id ||\n                      etr.requirement?.id ||\n                      etr.Requirement?.Id ||\n                      etr.id ||\n                      etr.Id;\n            console.log('Extracted requirement ID:', id, 'from:', etr);\n            return id;\n          }).filter(Boolean);\n          \n          console.log('Requirement IDs to fetch:', requirementIds);\n          \n          // Fetch all requirements to get full details\n          const allRequirements = await entityConfigApiService.getRequirements(false);\n          console.log('All available requirements:', allRequirements.length);\n          console.log('Sample requirement IDs:', allRequirements.slice(0, 3).map(r => r.id));\n          \n          // Try to match requirements by ID (handle string/GUID comparison)\n          const entityReqs = allRequirements.filter(req => {\n            const matches = requirementIds.some(id => {\n              const reqId = req.id?.toString() || '';\n              const searchId = id?.toString() || '';\n              return reqId === searchId || \n                     reqId.toLowerCase() === searchId.toLowerCase() ||\n                     reqId.replace(/-/g, '') === searchId.replace(/-/g, '');\n            });\n            return matches;\n          });\n          \n          console.log('Filtered entity requirements:', entityReqs.length);\n          console.log('Matched requirements:', entityReqs.map(r => ({ id: r.id, name: r.displayName })));\n          \n          if (entityReqs.length === 0 && requirementIds.length > 0) {\n            console.error('âš ï¸ Requirements not found!');\n            console.error('Looking for IDs:', requirementIds);\n            console.error('Available requirement IDs:', allRequirements.map(r => r.id));\n          }\n          \n          setEntityRequirements(entityReqs);\n        } else {\n          console.log('No requirements found for this entity type');\n          setEntityRequirements([]);\n        }\n      } else {\n        console.error('Entity type not found for ID:', entityTypeId);\n        setSelectedEntityType(null);\n        setEntityRequirements([]);\n      }\n    } catch (err) {\n      console.error('Error loading entity type requirements:', err);\n      setSelectedEntityType(null);\n      setEntityRequirements([]);\n    }\n  };\n\n  const addStep = () => {\n    setSteps(prev => [...prev, {\n      title: '',\n      subtitle: '',\n      requirementTypes: [],\n      requirementIds: [],\n      checklistCategory: '',\n      stepNumber: prev.length + 1,\n      isActive: true,\n    }]);\n  };\n\n  const removeStep = (index: number) => {\n    setSteps(prev => {\n      const newSteps = prev.filter((_, i) => i !== index);\n      // Renumber steps\n      return newSteps.map((step, i) => ({ ...step, stepNumber: i + 1 }));\n    });\n  };\n\n  const moveStep = (index: number, direction: 'up' | 'down') => {\n    setSteps(prev => {\n      const newSteps = [...prev];\n      const targetIndex = direction === 'up' ? index - 1 : index + 1;\n      if (targetIndex < 0 || targetIndex >= newSteps.length) return prev;\n      \n      [newSteps[index], newSteps[targetIndex]] = [newSteps[targetIndex], newSteps[index]];\n      // Renumber steps\n      return newSteps.map((step, i) => ({ ...step, stepNumber: i + 1 }));\n    });\n  };\n\n  const updateStep = (index: number, field: keyof WizardStepForm, value: any) => {\n    setSteps(prev => prev.map((step, i) => \n      i === index ? { ...step, [field]: value } : step\n    ));\n  };\n\n  // Map requirement type number to enum name\n  const getRequirementTypeName = (value: number): string => {\n    const typeMap: Record<number, string> = {\n      1: 'Information',\n      2: 'Document',\n      3: 'ProofOfIdentity',\n      4: 'ProofOfAddress',\n      5: 'OwnershipStructure',\n      6: 'BoardDirectors',\n      7: 'AuthorizedSignatories',\n    };\n    return typeMap[value] || value.toString();\n  };\n\n  const toggleRequirementType = (stepIndex: number, requirementTypeValue: number) => {\n    const requirementTypeName = getRequirementTypeName(requirementTypeValue);\n    setSteps(prev => prev.map((step, i) => {\n      if (i !== stepIndex) return step;\n      const types = step.requirementTypes.includes(requirementTypeName)\n        ? step.requirementTypes.filter(t => t !== requirementTypeName)\n        : [...step.requirementTypes, requirementTypeName];\n      return { ...step, requirementTypes: types };\n    }));\n  };\n\n  const toggleRequirement = useCallback((stepIndex: number, requirementId: string) => {\n    console.log('=== toggleRequirement START ===');\n    console.log('toggleRequirement called:', { stepIndex, requirementId, timestamp: Date.now() });\n    setSteps(prev => {\n      console.log('Current steps state:', prev.map(s => ({ stepNumber: s.stepNumber, requirementIds: s.requirementIds })));\n      const newSteps = prev.map((step, i) => {\n        if (i !== stepIndex) return step;\n        \n        const requirement = entityRequirements.find(r => r.id === requirementId);\n        if (!requirement) {\n          console.warn('Requirement not found:', requirementId);\n          return step;\n        }\n        \n        const isSelected = step.requirementIds.includes(requirementId);\n        console.log('Requirement selection state:', { requirementId, isSelected, currentIds: step.requirementIds });\n        \n        let newRequirementIds: string[];\n        let newRequirementTypes: string[];\n        \n        if (isSelected) {\n          // Remove requirement\n          newRequirementIds = step.requirementIds.filter(id => id !== requirementId);\n          \n          // Check if there are other requirements of this type still selected\n          const otherRequirementsOfType = entityRequirements.filter(\n            r => r.type === requirement.type && r.id !== requirementId && newRequirementIds.includes(r.id)\n          );\n          \n          // If no other requirements of this type are selected, remove the type\n          if (otherRequirementsOfType.length === 0) {\n            newRequirementTypes = step.requirementTypes.filter(t => t !== requirement.type);\n          } else {\n            newRequirementTypes = step.requirementTypes;\n          }\n        } else {\n          // Add requirement\n          newRequirementIds = [...step.requirementIds, requirementId];\n          \n          // Add requirement type if not already present\n          if (!step.requirementTypes.includes(requirement.type)) {\n            newRequirementTypes = [...step.requirementTypes, requirement.type];\n          } else {\n            newRequirementTypes = step.requirementTypes;\n          }\n        }\n        \n        console.log('Updated requirement IDs:', newRequirementIds);\n        return { ...step, requirementIds: newRequirementIds, requirementTypes: newRequirementTypes };\n      });\n      \n      return newSteps;\n    });\n  }, [entityRequirements]);\n\n  const handleCreate = async () => {\n    // Clear previous errors\n    setError(null);\n\n    if (!formData.entityTypeId) {\n      setError('Please select an entity type');\n      return;\n    }\n\n    if (steps.length === 0) {\n      setError('Please add at least one step');\n      return;\n    }\n\n    // Validate all steps\n    for (let i = 0; i < steps.length; i++) {\n      const step = steps[i];\n      if (!step.title || !step.title.trim()) {\n        setError(`Step ${i + 1}: Title is required`);\n        return;\n      }\n      if (!step.subtitle || !step.subtitle.trim()) {\n        setError(`Step ${i + 1}: Subtitle is required`);\n        return;\n      }\n      if (step.requirementIds.length === 0) {\n        setError(`Step ${i + 1}: Please select at least one requirement`);\n        return;\n      }\n    }\n\n    try {\n      setSaving(true);\n      setError(null);\n\n      const payload = {\n        entityTypeId: formData.entityTypeId,\n        isActive: formData.isActive,\n        steps: steps.map(step => ({\n          title: step.title.trim(),\n          subtitle: step.subtitle.trim(),\n          requirementTypes: step.requirementTypes,\n          checklistCategory: step.checklistCategory.trim() || '',\n          stepNumber: step.stepNumber,\n          isActive: step.isActive,\n        })),\n      };\n\n      console.log('Creating wizard configuration with payload:', JSON.stringify(payload, null, 2));\n\n      const result = await entityConfigApiService.createWizardConfiguration(payload);\n\n      console.log('Wizard configuration created successfully:', result);\n\n      // Success - navigate to list page\n      router.push(\"/wizard-configurations\");\n    } catch (err: any) {\n      let errorMessage = 'Failed to create wizard configuration';\n      \n      if (err instanceof Error) {\n        errorMessage = err.message;\n      } else if (err?.message) {\n        errorMessage = err.message;\n      } else if (typeof err === 'string') {\n        errorMessage = err;\n      }\n      \n      setError(errorMessage);\n      console.error('Error creating wizard configuration:', err);\n      \n      // Scroll to top to show error\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleCancel = () => {\n    router.push(\"/wizard-configurations\");\n  };\n\n  if (loading) {\n    return (\n      <Flex minH=\"100vh\" bg=\"gray.50\">\n        <AdminSidebar />\n        <Box flex=\"1\" ml=\"280px\" display=\"flex\" alignItems=\"center\" justifyContent=\"center\">\n          <VStack gap=\"4\">\n            <Spinner size=\"xl\" color=\"orange.500\" />\n            <Typography color=\"gray.600\">Loading form...</Typography>\n          </VStack>\n        </Box>\n      </Flex>\n    );\n  }\n\n  const checklistCategories = [\n    'Basic Information',\n    'Business Details',\n    'Legal Documents',\n    'Financial Information',\n    'Ownership Structure',\n    'Compliance',\n    'Additional Documents'\n  ];\n\n  return (\n    <Flex minH=\"100vh\" bg=\"gray.50\">\n      <AdminSidebar />\n      <Box flex=\"1\" ml=\"280px\">\n        <Box \n          bg=\"linear-gradient(135deg, #FFF5F0 0%, #FFFFFF 100%)\" \n          borderBottom=\"1px\" \n          borderColor=\"gray.200\" \n          py=\"8\"\n          boxShadow=\"0 1px 3px rgba(0,0,0,0.05)\"\n        >\n          <Container maxW=\"95%\" px=\"8\">\n            <VStack align=\"start\" gap=\"2\">\n              <Typography \n                as=\"h1\" \n                fontSize=\"4xl\" \n                fontWeight=\"800\" \n                color=\"#111827\" \n                style={{ color: '#111827', letterSpacing: '-0.5px' }}\n              >\n                Create Wizard Configuration\n              </Typography>\n              <Typography \n                color=\"#6B7280\" \n                fontSize=\"md\" \n                fontWeight=\"400\" \n                style={{ color: '#6B7280' }}\n              >\n                Configure a multi-step wizard for entity type applications\n              </Typography>\n            </VStack>\n          </Container>\n        </Box>\n\n        {error && (\n          <Container maxW=\"95%\" px=\"8\" py=\"4\">\n            <AlertBar\n              status=\"error\"\n              title=\"Error!\"\n              description={error}\n            />\n          </Container>\n        )}\n\n        <Container maxW=\"95%\" px=\"8\" py=\"8\">\n          <VStack gap=\"6\" align=\"stretch\">\n            {/* Basic Information */}\n            <Box \n              bg=\"white\" \n              borderRadius=\"xl\" \n              border=\"1px\" \n              borderColor=\"gray.100\" \n              p=\"8\"\n              boxShadow=\"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)\"\n              position=\"relative\"\n              className=\"basic-information-section\"\n              _hover={{ boxShadow: \"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)\" }}\n              transition=\"all 0.3s ease\"\n              _before={{\n                content: '\"\"',\n                position: \"absolute\",\n                left: 0,\n                top: 0,\n                bottom: 0,\n                width: \"5px\",\n                bg: \"linear-gradient(180deg, #F05423 0%, #FF6B35 100%)\",\n                borderTopLeftRadius: \"xl\",\n                borderBottomLeftRadius: \"xl\"\n              }}\n            >\n              <VStack align=\"stretch\" gap=\"6\">\n                <Box>\n                  <Typography \n                    fontSize=\"lg\" \n                    fontWeight=\"700\" \n                    color=\"#111827\" \n                    textTransform=\"uppercase\" \n                    letterSpacing=\"1px\" \n                    style={{ color: '#111827' }}\n                    mb=\"1\"\n                  >\n                    Basic Information\n                  </Typography>\n                  <Box h=\"3px\" w=\"60px\" bg=\"linear-gradient(90deg, #F05423 0%, #FF6B35 100%)\" borderRadius=\"full\" />\n                </Box>\n\n                <Box className=\"mukuru-dropdown-wrapper\">\n                  {loading ? (\n                    <Box>\n                      <Typography color=\"#111827\" style={{ color: '#111827' }}>Loading entity types...</Typography>\n                    </Box>\n                  ) : entityTypes.length === 0 ? (\n                    <Box>\n                      <Typography color=\"red.500\" style={{ color: '#DC2626' }}>No entity types available. Please check the backend connection.</Typography>\n                    </Box>\n                  ) : (\n                    <>\n                      <Dropdown\n                        key={`entity-dropdown-${formData.entityTypeId || 'none'}`}\n                        label=\"Entity Type\"\n                        placeholder=\"Select an entity type\"\n                        helpText=\"Please select the entity type for this wizard configuration\"\n                        items={entityTypes.map((et) => ({\n                          label: et.displayName || et.code || 'Unnamed',\n                          value: et.id || ''\n                        }))}\n                        defaultValue={formData.entityTypeId || undefined}\n                        onSelectionChange={(value) => {\n                          console.log('Entity type selected:', value);\n                          console.log('Selected entity type object:', entityTypes.find(et => et.id === value));\n                          setFormData(prev => ({ ...prev, entityTypeId: value || '' }));\n                          // Force reload requirements when selection changes\n                          if (value) {\n                            setTimeout(() => {\n                              loadEntityTypeRequirements(value);\n                            }, 100);\n                          }\n                        }}\n                      />\n                    </>\n                  )}\n                </Box>\n\n                <HStack \n                  justify=\"space-between\" \n                  align=\"center\" \n                  pt=\"4\" \n                  borderTop=\"1px\" \n                  borderColor=\"gray.100\"\n                  bg=\"gray.50\"\n                  p=\"4\"\n                  borderRadius=\"lg\"\n                  mt=\"2\"\n                >\n                  <VStack align=\"start\" gap=\"0\">\n                    <Typography fontSize=\"sm\" fontWeight=\"600\" color=\"#111827\" style={{ color: '#111827' }}>\n                      Configuration Status\n                    </Typography>\n                    <Typography fontSize=\"xs\" color=\"#6B7280\" style={{ color: '#6B7280' }}>\n                      Make this wizard available for use\n                    </Typography>\n                  </VStack>\n                  <Button\n                    onClick={() => setFormData(prev => ({ ...prev, isActive: !prev.isActive }))}\n                    variant={formData.isActive ? \"primary\" : \"secondary\"}\n                    size=\"sm\"\n                    fontWeight=\"600\"\n                    style={{\n                      backgroundColor: formData.isActive ? '#F05423' : 'transparent',\n                      borderColor: formData.isActive ? '#F05423' : '#F05423',\n                      color: formData.isActive ? '#FFFFFF' : '#F05423',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      textAlign: 'center',\n                      padding: '8px 16px',\n                      minWidth: 'auto'\n                    }}\n                  >\n                    <Typography \n                      as=\"span\" \n                      fontWeight=\"600\"\n                      className={formData.isActive ? \"active-button-text\" : \"\"}\n                      style={{ \n                        color: formData.isActive ? '#FFFFFF' : '#F05423',\n                        WebkitTextFillColor: formData.isActive ? '#FFFFFF' : '#F05423',\n                        textAlign: 'center'\n                      }}\n                    >\n                      {formData.isActive ? \"Active\" : \"Inactive\"}\n                    </Typography>\n                  </Button>\n                </HStack>\n              </VStack>\n            </Box>\n\n            {/* Wizard Steps */}\n            <Box \n              bg=\"white\" \n              borderRadius=\"xl\" \n              border=\"1px\" \n              borderColor=\"gray.100\" \n              p=\"8\"\n              boxShadow=\"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)\"\n              position=\"relative\"\n              _hover={{ boxShadow: \"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)\" }}\n              transition=\"all 0.3s ease\"\n              _before={{\n                content: '\"\"',\n                position: \"absolute\",\n                left: 0,\n                top: 0,\n                bottom: 0,\n                width: \"5px\",\n                bg: \"linear-gradient(180deg, #F05423 0%, #FF6B35 100%)\",\n                borderTopLeftRadius: \"xl\",\n                borderBottomLeftRadius: \"xl\"\n              }}\n            >\n              <VStack align=\"stretch\" gap=\"6\">\n                <HStack justify=\"space-between\" align=\"center\" mb=\"2\">\n                  <Box>\n                    <Typography \n                      fontSize=\"lg\" \n                      fontWeight=\"700\" \n                      color=\"#111827\" \n                      textTransform=\"uppercase\" \n                      letterSpacing=\"1px\" \n                      style={{ color: '#111827' }}\n                      mb=\"1\"\n                    >\n                      Wizard Steps\n                    </Typography>\n                    <Box h=\"3px\" w=\"60px\" bg=\"linear-gradient(90deg, #F05423 0%, #FF6B35 100%)\" borderRadius=\"full\" />\n                  </Box>\n                  <Button\n                    onClick={addStep}\n                    size=\"md\"\n                    variant=\"primary\"\n                    fontWeight=\"600\"\n                    style={{\n                      backgroundColor: '#F05423',\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      gap: '8px',\n                      textAlign: 'center'\n                    }}\n                  >\n                    <IconWrapper style={{ color: '#FFFFFF', fill: '#FFFFFF' }}>\n                      <FiPlus size={18} style={{ color: '#FFFFFF', fill: '#FFFFFF' }} />\n                    </IconWrapper>\n                    <Typography \n                      as=\"span\" \n                      fontWeight=\"600\"\n                      style={{ \n                        color: '#FFFFFF',\n                        WebkitTextFillColor: '#FFFFFF',\n                        textAlign: 'center'\n                      }}\n                    >\n                      Add Step\n                    </Typography>\n                  </Button>\n                </HStack>\n\n                {steps.map((step, index) => (\n                  <Box\n                    key={index}\n                    border=\"1px\"\n                    borderColor=\"gray.100\"\n                    borderRadius=\"xl\"\n                    p=\"8\"\n                    bg=\"white\"\n                    boxShadow=\"0 2px 4px rgba(0,0,0,0.05)\"\n                    position=\"relative\"\n                    _hover={{ \n                      boxShadow: \"0 8px 16px rgba(0,0,0,0.1)\", \n                      borderColor: \"#F05423\",\n                      transform: \"translateY(-2px)\"\n                    }}\n                    transition=\"all 0.3s ease\"\n                    mb=\"6\"\n                  >\n                    <VStack align=\"stretch\" gap=\"6\">\n                      <HStack justify=\"space-between\" align=\"center\" mb=\"2\">\n                        <HStack gap=\"3\" align=\"center\">\n                          <Box\n                            bg=\"linear-gradient(135deg, #F05423 0%, #FF6B35 100%)\"\n                            color=\"white\"\n                            fontWeight=\"700\"\n                            px=\"5\"\n                            py=\"2\"\n                            borderRadius=\"lg\"\n                            fontSize=\"13px\"\n                            letterSpacing=\"0.5px\"\n                            boxShadow=\"0 2px 4px rgba(240, 84, 35, 0.3)\"\n                          >\n                            Step {step.stepNumber}\n                          </Box>\n                          {step.title && (\n                            <Typography fontSize=\"md\" fontWeight=\"600\" color=\"#111827\" style={{ color: '#111827' }}>\n                              {step.title}\n                            </Typography>\n                          )}\n                        </HStack>\n                        <HStack gap=\"2\">\n                          <Button\n                            size=\"sm\"\n                            variant=\"ghost\"\n                            onClick={() => moveStep(index, 'up')}\n                            disabled={index === 0}\n                            _hover={{ bg: \"orange.50\", transform: \"scale(1.1)\" }}\n                            _disabled={{ opacity: 0.3, cursor: \"not-allowed\" }}\n                            borderRadius=\"md\"\n                            transition=\"all 0.2s\"\n                          >\n                            <IconWrapper color=\"orange.500\"><FiArrowUp size={18} /></IconWrapper>\n                          </Button>\n                          <Button\n                            size=\"sm\"\n                            variant=\"ghost\"\n                            onClick={() => moveStep(index, 'down')}\n                            disabled={index === steps.length - 1}\n                            _hover={{ bg: \"orange.50\", transform: \"scale(1.1)\" }}\n                            _disabled={{ opacity: 0.3, cursor: \"not-allowed\" }}\n                            borderRadius=\"md\"\n                            transition=\"all 0.2s\"\n                          >\n                            <IconWrapper color=\"orange.500\"><FiArrowDown size={18} /></IconWrapper>\n                          </Button>\n                          {steps.length > 1 && (\n                            <Button\n                              size=\"sm\"\n                              variant=\"ghost\"\n                              onClick={() => removeStep(index)}\n                              _hover={{ bg: \"red.50\", transform: \"scale(1.1)\" }}\n                              borderRadius=\"md\"\n                              transition=\"all 0.2s\"\n                            >\n                              <IconWrapper color=\"red.500\"><FiTrash2 size={18} /></IconWrapper>\n                            </Button>\n                          )}\n                        </HStack>\n                      </HStack>\n\n                      <SimpleGrid columns={2} gap=\"4\">\n                        <Field.Root>\n                          <Field.Label fontSize=\"sm\" fontWeight=\"600\" color=\"#111827\" mb=\"2\" style={{ color: '#111827' }}>\n                            Title *\n                          </Field.Label>\n                          <ChakraInput\n                            value={step.title}\n                            onChange={(e) => updateStep(index, 'title', e.target.value)}\n                            placeholder=\"e.g., Business Information\"\n                            bg=\"white\"\n                            borderColor=\"gray.200\"\n                            color=\"#111827\"\n                            fontWeight=\"500\"\n                            borderRadius=\"lg\"\n                            h=\"44px\"\n                            _focus={{ borderColor: \"#F05423\", boxShadow: \"0 0 0 3px rgba(240, 84, 35, 0.1)\" }}\n                            _placeholder={{ color: \"gray.400\" }}\n                            _hover={{ borderColor: \"gray.300\" }}\n                            transition=\"all 0.2s\"\n                            required\n                          />\n                        </Field.Root>\n\n                        <Field.Root>\n                          <Field.Label fontSize=\"sm\" fontWeight=\"600\" color=\"#111827\" mb=\"2\" style={{ color: '#111827' }}>\n                            Subtitle *\n                          </Field.Label>\n                          <ChakraInput\n                            value={step.subtitle}\n                            onChange={(e) => updateStep(index, 'subtitle', e.target.value)}\n                            placeholder=\"e.g., Enter your business details\"\n                            bg=\"white\"\n                            borderColor=\"gray.200\"\n                            color=\"#111827\"\n                            fontWeight=\"500\"\n                            borderRadius=\"lg\"\n                            h=\"44px\"\n                            _focus={{ borderColor: \"#F05423\", boxShadow: \"0 0 0 3px rgba(240, 84, 35, 0.1)\" }}\n                            _placeholder={{ color: \"gray.400\" }}\n                            _hover={{ borderColor: \"gray.300\" }}\n                            transition=\"all 0.2s\"\n                            required\n                          />\n                        </Field.Root>\n                      </SimpleGrid>\n\n                      <Box className=\"mukuru-dropdown-wrapper\" style={{ color: '#111827' }}>\n                        <Dropdown\n                          label=\"Checklist Category\"\n                          placeholder=\"Select category (optional)\"\n                          items={checklistCategories.map((cat) => ({\n                            label: cat,\n                            value: cat\n                          }))}\n                          defaultValue={step.checklistCategory || undefined}\n                          onSelectionChange={(value) => {\n                            updateStep(index, 'checklistCategory', value || '');\n                          }}\n                        />\n                      </Box>\n\n                      <Field.Root>\n                        <Field.Label fontSize=\"sm\" fontWeight=\"bold\" color=\"#111827\" mb=\"3\" style={{ color: '#111827' }}>\n                          Requirements * (Select individual requirements)\n                        </Field.Label>\n                        {!selectedEntityType ? (\n                          <Box\n                            bg=\"gray.50\"\n                            border=\"1px\"\n                            borderColor=\"gray.300\"\n                            borderRadius=\"lg\"\n                            p=\"4\"\n                          >\n                            <Typography fontSize=\"sm\" color=\"#6B7280\" fontWeight=\"500\" textAlign=\"center\" style={{ color: '#6B7280' }}>\n                              Please select an entity type first to see available requirements\n                            </Typography>\n                          </Box>\n                        ) : entityRequirements.length === 0 ? (\n                          <Box\n                            bg=\"gray.50\"\n                            border=\"1px\"\n                            borderColor=\"gray.300\"\n                            borderRadius=\"lg\"\n                            p=\"4\"\n                          >\n                            <Typography fontSize=\"sm\" color=\"#6B7280\" fontWeight=\"500\" textAlign=\"center\" style={{ color: '#6B7280' }}>\n                              No requirements configured for this entity type yet\n                            </Typography>\n                          </Box>\n                        ) : (\n                          <Box\n                            bg=\"white\"\n                            border=\"1px\"\n                            borderColor=\"gray.100\"\n                            borderRadius=\"xl\"\n                            p=\"6\"\n                            maxH=\"450px\"\n                            overflowY=\"auto\"\n                            boxShadow=\"0 2px 4px rgba(0,0,0,0.05)\"\n                            _hover={{ borderColor: \"gray.200\" }}\n                            transition=\"all 0.2s\"\n                          >\n                            {(() => {\n                              // Get all requirement IDs selected in previous steps (steps before current index)\n                              const previouslySelectedRequirementIds = new Set<string>();\n                              for (let i = 0; i < index; i++) {\n                                steps[i].requirementIds.forEach(id => previouslySelectedRequirementIds.add(id));\n                              }\n                              \n                              // Filter out requirements that have been selected in previous steps\n                              const availableRequirements = entityRequirements.filter(\n                                req => !previouslySelectedRequirementIds.has(req.id)\n                              );\n                              \n                              // Group available requirements by type\n                              const groupedByType: Record<string, Requirement[]> = {};\n                              availableRequirements.forEach(req => {\n                                const type = req.type || 'Other';\n                                if (!groupedByType[type]) {\n                                  groupedByType[type] = [];\n                                }\n                                groupedByType[type].push(req);\n                              });\n\n                              // Show message if no requirements are available (all selected in previous steps)\n                              if (availableRequirements.length === 0) {\n                                return (\n                                  <Box\n                                    bg=\"gray.50\"\n                                    border=\"1px\"\n                                    borderColor=\"gray.200\"\n                                    borderRadius=\"lg\"\n                                    p=\"4\"\n                                    textAlign=\"center\"\n                                  >\n                                    <Typography fontSize=\"sm\" color=\"#6B7280\" fontWeight=\"500\" style={{ color: '#6B7280' }}>\n                                      All available requirements have been selected in previous steps\n                                    </Typography>\n                                  </Box>\n                                );\n                              }\n                              \n                              return (\n                                <VStack align=\"stretch\" gap=\"4\" key={`requirements-list-${index}`}>\n                                  {Object.entries(groupedByType).map(([type, reqs]) => (\n                                    <Box \n                                      key={type} \n                                      border=\"1px\" \n                                      borderColor=\"gray.100\" \n                                      borderRadius=\"xl\" \n                                      p=\"5\" \n                                      bg=\"linear-gradient(135deg, #F9FAFB 0%, #FFFFFF 100%)\"\n                                      _hover={{ \n                                        bg: \"linear-gradient(135deg, #FFF5F0 0%, #FFFFFF 100%)\", \n                                        borderColor: \"#F05423\",\n                                        transform: \"translateY(-1px)\",\n                                        boxShadow: \"0 4px 6px rgba(0,0,0,0.05)\"\n                                      }}\n                                      transition=\"all 0.3s ease\"\n                                      mb=\"3\"\n                                    >\n                                      <Typography \n                                        fontSize=\"xs\" \n                                        fontWeight=\"700\" \n                                        color=\"#F05423\" \n                                        mb=\"4\" \n                                        style={{ \n                                          color: '#F05423', \n                                          textTransform: 'uppercase', \n                                          letterSpacing: '1px' \n                                        }}\n                                      >\n                                        {type.replace(/_/g, ' ')}\n                                      </Typography>\n                                      <VStack align=\"stretch\" gap=\"3\">\n                                        {reqs.map((req, reqIdx) => {\n                                          // CRITICAL: Capture values IMMEDIATELY and ensure correct types\n                                          const reqId = String(req.id);\n                                          const stepIdx = Number(index);\n                                          \n                                          // Create handler that directly uses the captured values\n                                          const handleToggle = () => {\n                                            console.log('=== handleToggle START ===');\n                                            console.log('reqId:', reqId, 'type:', typeof reqId);\n                                            console.log('stepIdx:', stepIdx, 'type:', typeof stepIdx);\n                                            console.log('reqIdx:', reqIdx);\n                                            console.log('req object:', { \n                                              id: req.id, \n                                              displayName: req.displayName,\n                                              code: req.code,\n                                              description: req.description,\n                                              fullReq: req\n                                            });\n                                            console.log('Calling toggleRequirement with:', { stepIdx, reqId });\n                                            toggleRequirement(stepIdx, reqId);\n                                            console.log('=== handleToggle END ===');\n                                          };\n                                          \n                                          const isChecked = step.requirementIds.includes(reqId);\n                                          \n                                          // The API service now handles transformation, so displayName should be available\n                                          // But add fallback just in case\n                                          const displayName = req.displayName || req.code || 'Unnamed';\n                                          const description = req.description || '';\n                                          \n                                          return (\n                                            <RequirementCheckbox\n                                              key={`req-${reqId}-step-${stepIdx}-idx-${reqIdx}`}\n                                              requirementId={reqId}\n                                              requirementDisplayName={displayName}\n                                              requirementDescription={description}\n                                              isChecked={isChecked}\n                                              stepIndex={stepIdx}\n                                              onToggle={handleToggle}\n                                            />\n                                          );\n                                        })}\n                                      </VStack>\n                                    </Box>\n                                  ))}\n                                </VStack>\n                              );\n                            })()}\n                          </Box>\n                        )}\n                        {step.requirementIds.length > 0 && (\n                          <Typography fontSize=\"xs\" color=\"#6B7280\" fontWeight=\"500\" mt=\"3\" style={{ color: '#6B7280' }}>\n                            {step.requirementIds.length} requirement{step.requirementIds.length !== 1 ? 's' : ''} selected\n                          </Typography>\n                        )}\n                      </Field.Root>\n\n                      <Field.Root>\n                        <Field.Label fontSize=\"sm\" fontWeight=\"bold\" color=\"#111827\" mb=\"2\" style={{ color: '#111827' }}>\n                          Requirement Types (Auto-selected based on requirements above)\n                        </Field.Label>\n                        <Box\n                          bg=\"linear-gradient(135deg, #F9FAFB 0%, #FFFFFF 100%)\"\n                          border=\"1px\"\n                          borderColor=\"gray.100\"\n                          borderRadius=\"xl\"\n                          p=\"5\"\n                          _hover={{ borderColor: \"#F05423\", transform: \"translateY(-1px)\" }}\n                          transition=\"all 0.3s ease\"\n                        >\n                          {step.requirementTypes.length > 0 ? (\n                            <HStack gap=\"2\" flexWrap=\"wrap\">\n                              {step.requirementTypes.map((type) => (\n                                <Box\n                                  key={`${index}-${type}`}\n                                  bg=\"linear-gradient(135deg, #F05423 0%, #FF6B35 100%)\"\n                                  color=\"white\"\n                                  fontWeight=\"600\"\n                                  px=\"4\"\n                                  py=\"2\"\n                                  borderRadius=\"lg\"\n                                  fontSize=\"11px\"\n                                  textTransform=\"uppercase\"\n                                  letterSpacing=\"0.5px\"\n                                  boxShadow=\"0 2px 4px rgba(240, 84, 35, 0.3)\"\n                                  _hover={{ transform: \"scale(1.05)\" }}\n                                  transition=\"all 0.2s\"\n                                >\n                                  {type.replace(/_/g, ' ')}\n                                </Box>\n                              ))}\n                            </HStack>\n                          ) : (\n                            <Typography fontSize=\"sm\" color=\"#6B7280\" fontWeight=\"400\" style={{ color: '#6B7280' }}>\n                              Select requirements above to see requirement types\n                            </Typography>\n                          )}\n                        </Box>\n                      </Field.Root>\n\n                      <HStack \n                        justify=\"space-between\" \n                        align=\"center\" \n                        pt=\"4\" \n                        borderTop=\"1px\" \n                        borderColor=\"gray.100\"\n                        bg=\"gray.50\"\n                        p=\"4\"\n                        borderRadius=\"lg\"\n                        mt=\"2\"\n                      >\n                        <VStack align=\"start\" gap=\"0\">\n                          <Typography fontSize=\"sm\" fontWeight=\"600\" color=\"#111827\" style={{ color: '#111827' }}>\n                            Step Status\n                          </Typography>\n                          <Typography fontSize=\"xs\" color=\"#6B7280\" style={{ color: '#6B7280' }}>\n                            Enable or disable this step\n                          </Typography>\n                        </VStack>\n                        <Button\n                          onClick={() => updateStep(index, 'isActive', !step.isActive)}\n                          variant={step.isActive ? \"primary\" : \"secondary\"}\n                          size=\"sm\"\n                          fontWeight=\"600\"\n                          style={{\n                            backgroundColor: step.isActive ? '#F05423' : 'transparent',\n                            borderColor: step.isActive ? '#F05423' : '#F05423',\n                            color: step.isActive ? '#FFFFFF' : '#F05423',\n                            display: 'flex',\n                            alignItems: 'center',\n                            justifyContent: 'center',\n                            textAlign: 'center',\n                            padding: '8px 16px',\n                            minWidth: 'auto'\n                          }}\n                        >\n                          <Typography \n                            as=\"span\" \n                            fontWeight=\"600\"\n                            className={step.isActive ? \"active-button-text\" : \"\"}\n                            style={{ \n                              color: step.isActive ? '#FFFFFF' : '#F05423',\n                              WebkitTextFillColor: step.isActive ? '#FFFFFF' : '#F05423',\n                              textAlign: 'center'\n                            }}\n                          >\n                            {step.isActive ? \"Active\" : \"Inactive\"}\n                          </Typography>\n                        </Button>\n                      </HStack>\n                    </VStack>\n                  </Box>\n                ))}\n              </VStack>\n            </Box>\n\n            {/* Action Buttons */}\n            <Flex gap=\"4\" justify=\"flex-end\" pt=\"6\" borderTop=\"1px\" borderColor=\"gray.100\">\n              <Button\n                onClick={handleCancel}\n                variant=\"secondary\"\n                size=\"md\"\n                disabled={saving || loading}\n                fontWeight=\"600\"\n              >\n                <IconWrapper><FiX size={18} /></IconWrapper>\n                <Typography as=\"span\" fontWeight=\"600\">Cancel</Typography>\n              </Button>\n              <Button\n                onClick={handleCreate}\n                variant=\"primary\"\n                size=\"md\"\n                disabled={loading || saving || !metadata || !formData.entityTypeId}\n                loading={saving}\n                loadingText=\"Creating...\"\n                fontWeight=\"600\"\n                style={{\n                  backgroundColor: '#F05423',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  gap: '8px',\n                  textAlign: 'center'\n                }}\n              >\n                <IconWrapper style={{ color: '#FFFFFF', fill: '#FFFFFF' }}>\n                  {!saving && <FiSettings size={18} style={{ color: '#FFFFFF', fill: '#FFFFFF' }} />}\n                </IconWrapper>\n                <Typography \n                  as=\"span\" \n                  fontWeight=\"600\"\n                  style={{ \n                    color: '#FFFFFF',\n                    WebkitTextFillColor: '#FFFFFF',\n                    textAlign: 'center'\n                  }}\n                >\n                  {saving ? \"Creating...\" : \"Create Configuration\"}\n                </Typography>\n              </Button>\n            </Flex>\n          </VStack>\n        </Container>\n      </Box>\n    </Flex>\n  );\n}\n\n"],"names":[],"mappings":"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"}}]
}