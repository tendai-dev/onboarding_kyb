{
  "version": 3,
  "sources": [],
  "debugId": "6ee77a69-8050-afab-01e5-23dea0a74313",
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///Users/mukurusystemsadministrator/Desktop/onboarding_kyc%20copy/admin/src/components/AdminSidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useMemo, useEffect } from \"react\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport { PortalNavigationSidebar } from \"@/lib/mukuruImports\";\nimport {\n  ProductIcon,\n  UserIcon,\n  PartnerIcon,\n  DocumentIcon,\n  SettingsIcon,\n  HelpIcon,\n  AppIcon,\n  FileOpenIcon,\n  NotificationIcon,\n  MailIcon,\n  FilterIcon,\n  WarningIcon,\n} from \"@/lib/mukuruImports\";\nimport { Box } from \"@chakra-ui/react\";\nimport { useSidebar } from \"../contexts/SidebarContext\";\n\nexport default function AdminSidebar() {\n  const pathname = usePathname();\n  const router = useRouter();\n  const { condensed, setCondensed } = useSidebar();\n  const [activeItemId, setActiveItemId] = useState(\"dashboard\");\n\n  // Update activeItemId based on pathname\n  useEffect(() => {\n    if (pathname === \"/dashboard\") {\n      setActiveItemId(\"dashboard\");\n    } else if (pathname?.startsWith(\"/work-queue\")) {\n      setActiveItemId(\"work-queue\");\n    } else if (pathname?.startsWith(\"/applications\")) {\n      setActiveItemId(\"applications\");\n    } else if (pathname?.startsWith(\"/review\") || pathname?.startsWith(\"/risk-review\") || pathname?.startsWith(\"/approvals\")) {\n      setActiveItemId(\"reviews\");\n    } else if (pathname?.startsWith(\"/documents\")) {\n      setActiveItemId(\"documents\");\n    } else if (pathname?.startsWith(\"/requirements\")) {\n      setActiveItemId(\"requirements\");\n    } else if (pathname?.startsWith(\"/entity-types\")) {\n      setActiveItemId(\"entity-types\");\n    } else if (pathname?.startsWith(\"/checklists\")) {\n      setActiveItemId(\"checklists\");\n    } else if (pathname?.startsWith(\"/wizard-configurations\")) {\n      setActiveItemId(\"wizard-configurations\");\n    } else if (pathname?.startsWith(\"/rules-and-permissions\")) {\n      setActiveItemId(\"rules-and-permissions\");\n    } else if (pathname?.startsWith(\"/audit-log\")) {\n      setActiveItemId(\"audit-log\");\n    } else if (pathname?.startsWith(\"/messages\")) {\n      setActiveItemId(\"messages\");\n    } else if (pathname?.startsWith(\"/notifications\")) {\n      setActiveItemId(\"notifications\");\n    } else if (pathname?.startsWith(\"/data-migration\")) {\n      setActiveItemId(\"data-migration\");\n    } else if (pathname?.startsWith(\"/refreshes\")) {\n      setActiveItemId(\"refreshes\");\n    } else if (pathname?.startsWith(\"/reports\")) {\n      setActiveItemId(\"reports\");\n    } else if (pathname?.startsWith(\"/profile\")) {\n      setActiveItemId(\"profile\");\n    } else if (pathname?.startsWith(\"/settings\")) {\n      setActiveItemId(\"settings\");\n    }\n  }, [pathname]);\n\n  const navigationItems = useMemo(() => [\n    {\n      id: \"dashboard\",\n      label: \"Dashboard\",\n      icon: <ProductIcon width=\"20\" height=\"20\" />,\n      onClick: () => {\n        setActiveItemId(\"dashboard\");\n        router.push(\"/dashboard\");\n      },\n    },\n    {\n      id: \"work-queue\",\n      label: \"Work Queue\",\n      icon: <FilterIcon width=\"20\" height=\"20\" />,\n      onClick: () => {\n        setActiveItemId(\"work-queue\");\n        router.push(\"/work-queue\");\n      },\n    },\n    {\n      id: \"applications\",\n      label: \"Applications\",\n      icon: <AppIcon width=\"20\" height=\"20\" />,\n      onClick: () => {\n        setActiveItemId(\"applications\");\n        router.push(\"/applications\");\n      },\n    },\n    {\n      id: \"reviews\",\n      label: \"Reviews\",\n      icon: <DocumentIcon width=\"20\" height=\"20\" />,\n      onClick: () => {\n        setActiveItemId(\"reviews\");\n        router.push(\"/review\");\n      },\n      subItems: [\n        {\n          id: \"risk-review\",\n          label: \"Risk Review\",\n          onClick: () => {\n            setActiveItemId(\"reviews\");\n            router.push(\"/risk-review\");\n          },\n        },\n        {\n          id: \"approvals\",\n          label: \"Approvals\",\n          onClick: () => {\n            setActiveItemId(\"reviews\");\n            router.push(\"/approvals\");\n          },\n        },\n      ],\n    },\n    {\n      id: \"documents\",\n      label: \"Documents\",\n      icon: <FileOpenIcon width=\"20\" height=\"20\" />,\n      onClick: () => {\n        setActiveItemId(\"documents\");\n        router.push(\"/documents\");\n      },\n    },\n    {\n      id: \"configuration\",\n      label: \"Configuration\",\n      icon: <SettingsIcon width=\"20\" height=\"20\" />,\n      onClick: () => {\n        setActiveItemId(\"configuration\");\n        router.push(\"/requirements\");\n      },\n      subItems: [\n        {\n          id: \"requirements\",\n          label: \"Requirements\",\n          onClick: () => {\n            setActiveItemId(\"configuration\");\n            router.push(\"/requirements\");\n          },\n        },\n        {\n          id: \"entity-types\",\n          label: \"Entity Types\",\n          onClick: () => {\n            setActiveItemId(\"configuration\");\n            router.push(\"/entity-types\");\n          },\n        },\n        {\n          id: \"checklists\",\n          label: \"Checklists\",\n          onClick: () => {\n            setActiveItemId(\"configuration\");\n            router.push(\"/checklists\");\n          },\n        },\n        {\n          id: \"wizard-configurations\",\n          label: \"Wizard Configurations\",\n          onClick: () => {\n            setActiveItemId(\"configuration\");\n            router.push(\"/wizard-configurations\");\n          },\n        },\n        {\n          id: \"rules-and-permissions\",\n          label: \"Rules & Permissions\",\n          onClick: () => {\n            setActiveItemId(\"configuration\");\n            router.push(\"/rules-and-permissions\");\n          },\n        },\n      ],\n    },\n    {\n      id: \"system\",\n      label: \"System\",\n      icon: <WarningIcon width=\"20\" height=\"20\" />,\n      onClick: () => {\n        setActiveItemId(\"system\");\n        router.push(\"/audit-log\");\n      },\n      subItems: [\n        {\n          id: \"audit-log\",\n          label: \"Audit Log\",\n          onClick: () => {\n            setActiveItemId(\"system\");\n            router.push(\"/audit-log\");\n          },\n        },\n        {\n          id: \"messages\",\n          label: \"Messages\",\n          onClick: () => {\n            setActiveItemId(\"system\");\n            router.push(\"/messages\");\n          },\n        },\n        {\n          id: \"notifications\",\n          label: \"Notifications\",\n          onClick: () => {\n            setActiveItemId(\"system\");\n            router.push(\"/notifications\");\n          },\n        },\n        {\n          id: \"data-migration\",\n          label: \"Data Migration\",\n          onClick: () => {\n            setActiveItemId(\"system\");\n            router.push(\"/data-migration\");\n          },\n        },\n        {\n          id: \"refreshes\",\n          label: \"Refreshes\",\n          onClick: () => {\n            setActiveItemId(\"system\");\n            router.push(\"/refreshes\");\n          },\n        },\n      ],\n    },\n    {\n      id: \"reports\",\n      label: \"Reports\",\n      icon: <DocumentIcon width=\"20\" height=\"20\" />,\n      onClick: () => {\n        setActiveItemId(\"reports\");\n        router.push(\"/reports\");\n      },\n    },\n    {\n      id: \"profile\",\n      label: \"Profile\",\n      icon: <UserIcon width=\"20\" height=\"20\" />,\n      onClick: () => {\n        setActiveItemId(\"profile\");\n        router.push(\"/profile\");\n      },\n    },\n  ], [router]);\n\n  const helpCentreItem = {\n    id: \"help-centre\",\n    label: \"Help Centre\",\n    icon: <HelpIcon width=\"20\" height=\"20\" />,\n    onClick: () => {\n      console.log(\"Help Centre\");\n      // Add help centre navigation if needed\n    },\n  };\n\n  return (\n    <Box\n      position=\"fixed\"\n      left=\"0\"\n      top=\"0\"\n      height=\"100vh\"\n      width={condensed ? \"72px\" : \"280px\"}\n      borderRight=\"1px solid\"\n      borderColor=\"rgba(55, 58, 54, 0.15)\"\n      zIndex=\"1000\"\n      className=\"sidebar-wrapper\"\n      bg=\"#F9FAFB\"\n      overflowY=\"auto\"\n      transition=\"width 0.3s ease\"\n    >\n      <PortalNavigationSidebar\n        navigationItems={navigationItems}\n        helpCentreItem={helpCentreItem}\n        {...({ activeItemId } as any)}\n        condensed={condensed}\n        onToggleCollapse={setCondensed}\n        onLogoClick={() => {\n          setActiveItemId(\"dashboard\");\n          router.push(\"/dashboard\");\n        }}\n        expandedWidth=\"280px\"\n        condensedWidth=\"72px\"\n      />\n    </Box>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 406, "column": 0}, "map": {"version":3,"sources":["file:///Users/mukurusystemsadministrator/Desktop/onboarding_kyc%20copy/admin/src/components/PortalHeader.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRouter } from \"next/navigation\";\nimport { useSession } from \"next-auth/react\";\nimport { ProfileMenu, IconWrapper } from \"@/lib/mukuruImports\";\nimport { Box, HStack, Flex, Button } from \"@chakra-ui/react\";\nimport { FiArrowLeft } from \"react-icons/fi\";\nimport { useSidebar } from \"../contexts/SidebarContext\";\n\nexport default function PortalHeader() {\n  const router = useRouter();\n  const { data: session } = useSession();\n  const { condensed, setCondensed } = useSidebar();\n  const userName = session?.user?.name || \"Admin\";\n  const userEmail = session?.user?.email || \"admin@mukuru.com\";\n  \n  // Extract first name for greeting (lowercase as shown in screenshot)\n  const firstName = userName.split(\" \")[0]?.toLowerCase() || \"admin\";\n  \n  // Calculate left offset based on sidebar state\n  const sidebarWidth = condensed ? \"72px\" : \"280px\";\n\n  return (\n    <Box\n      position=\"fixed\"\n      top=\"0\"\n      left={sidebarWidth}\n      right=\"0\"\n      height=\"90px\"\n      bg=\"white\"\n      zIndex=\"999\"\n      px=\"6\"\n      py=\"4\"\n      pl=\"6\"\n      transition=\"left 0.3s ease, width 0.3s ease\"\n      className=\"portal-header\"\n      borderBottom=\"1px solid\"\n      borderColor=\"rgba(55, 58, 54, 0.15)\"\n    >\n      <Flex justify=\"space-between\" align=\"center\" width=\"full\" height=\"full\">\n        {/* Left side: Collapse button */}\n        <HStack gap=\"4\" align=\"center\">\n          {/* Collapse/Expand sidebar button - circular grey with orange chevron */}\n          <Button\n            variant=\"ghost\"\n            onClick={() => setCondensed(!condensed)}\n            p=\"2\"\n            borderRadius=\"full\"\n            minW=\"40px\"\n            h=\"40px\"\n            bg=\"gray.100\"\n            _hover={{ bg: \"gray.200\" }}\n            aria-label=\"Toggle sidebar\"\n            border=\"none\"\n            _focus={{ boxShadow: \"none\", outline: \"none\" }}\n            _active={{ bg: \"gray.200\" }}\n          >\n            <IconWrapper>\n              <FiArrowLeft size={20} color=\"#F05423\" />\n            </IconWrapper>\n          </Button>\n        </HStack>\n\n        {/* Right side: Profile Menu - matching screenshot */}\n        <HStack gap=\"4\" align=\"center\">\n          <ProfileMenu\n            user={userName}\n            menuItems={[\n              {\n                id: 0,\n                label: userEmail,\n                value: \"email\",\n              },\n              {\n                id: 1,\n                label: \"My Profile\",\n                value: \"profile\",\n                onSelect: () => router.push(\"/profile\")\n              },\n              {\n                id: 2,\n                label: \"Settings\",\n                value: \"settings\",\n                onSelect: () => router.push(\"/settings\")\n              },\n              {\n                id: 3,\n                label: \"Log Out\",\n                value: \"logout\",\n                onSelect: () => router.push(\"/api/auth/logout\")\n              }\n            ]}\n          />\n        </HStack>\n      </Flex>\n    </Box>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAPA;;;;;;;;AASe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,IAAA,mJAAU;IACpC,MAAM,EAAE,SAAS,EAAE,YAAY,EAAE,GAAG,IAAA,gJAAU;IAC9C,MAAM,WAAW,SAAS,MAAM,QAAQ;IACxC,MAAM,YAAY,SAAS,MAAM,SAAS;IAE1C,qEAAqE;IACrE,MAAM,YAAY,SAAS,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE,iBAAiB;IAE3D,+CAA+C;IAC/C,MAAM,eAAe,YAAY,SAAS;IAE1C,qBACE,8OAAC,2LAAG;QACF,UAAS;QACT,KAAI;QACJ,MAAM;QACN,OAAM;QACN,QAAO;QACP,IAAG;QACH,QAAO;QACP,IAAG;QACH,IAAG;QACH,IAAG;QACH,YAAW;QACX,WAAU;QACV,cAAa;QACb,aAAY;kBAEZ,cAAA,8OAAC,4LAAI;YAAC,SAAQ;YAAgB,OAAM;YAAS,OAAM;YAAO,QAAO;;8BAE/D,8OAAC,qMAAM;oBAAC,KAAI;oBAAI,OAAM;8BAEpB,cAAA,8OAAC,kMAAM;wBACL,SAAQ;wBACR,SAAS,IAAM,aAAa,CAAC;wBAC7B,GAAE;wBACF,cAAa;wBACb,MAAK;wBACL,GAAE;wBACF,IAAG;wBACH,QAAQ;4BAAE,IAAI;wBAAW;wBACzB,cAAW;wBACX,QAAO;wBACP,QAAQ;4BAAE,WAAW;4BAAQ,SAAS;wBAAO;wBAC7C,SAAS;4BAAE,IAAI;wBAAW;kCAE1B,cAAA,8OAAC,kOAAW;sCACV,cAAA,8OAAC,6JAAW;gCAAC,MAAM;gCAAI,OAAM;;;;;;;;;;;;;;;;;;;;;8BAMnC,8OAAC,qMAAM;oBAAC,KAAI;oBAAI,OAAM;8BACpB,cAAA,8OAAC,kOAAW;wBACV,MAAM;wBACN,WAAW;4BACT;gCACE,IAAI;gCACJ,OAAO;gCACP,OAAO;4BACT;4BACA;gCACE,IAAI;gCACJ,OAAO;gCACP,OAAO;gCACP,UAAU,IAAM,OAAO,IAAI,CAAC;4BAC9B;4BACA;gCACE,IAAI;gCACJ,OAAO;gCACP,OAAO;gCACP,UAAU,IAAM,OAAO,IAAI,CAAC;4BAC9B;4BACA;gCACE,IAAI;gCACJ,OAAO;gCACP,OAAO;gCACP,UAAU,IAAM,OAAO,IAAI,CAAC;4BAC9B;yBACD;;;;;;;;;;;;;;;;;;;;;;AAMb"}},
    {"offset": {"line": 564, "column": 0}, "map": {"version":3,"sources":["file:///Users/mukurusystemsadministrator/Desktop/onboarding_kyc%20copy/admin/src/lib/workQueueApi.ts"],"sourcesContent":["// Work Queue API service for connecting to backend work queue service\n\n// Use Next.js API route proxy (same origin, no CORS issues)\n// This will proxy to the gateway at /api/workqueue\nconst WORK_QUEUE_API_BASE_URL = typeof window !== 'undefined' \n  ? '' // Use relative URL in browser (will use Next.js API route)\n  : (process.env.WORK_QUEUE_API_BASE_URL || \n     process.env.NEXT_PUBLIC_GATEWAY_URL || \n     'http://127.0.0.1:8000');\n\n// Backend DTO types\nexport interface WorkItemDto {\n  id: string;\n  workItemNumber: string;\n  applicationId: string;\n  applicantName: string;\n  entityType: string;\n  country: string;\n  status: string;\n  priority: string;\n  riskLevel: string;\n  assignedTo?: string;\n  assignedToName?: string;\n  assignedAt?: string;\n  requiresApproval: boolean;\n  approvedBy?: string;\n  approvedByName?: string;\n  approvedAt?: string;\n  rejectionReason?: string;\n  dueDate: string;\n  isOverdue: boolean;\n  nextRefreshDate?: string;\n  lastRefreshedAt?: string;\n  refreshCount: number;\n  createdAt: string;\n  updatedAt?: string;\n}\n\nexport interface PagedResult<T> {\n  items: T[];\n  totalCount: number;\n  page: number;\n  pageSize: number;\n}\n\n// Frontend Application interface (mapped from WorkItemDto)\nexport interface Application {\n  id: string; // Display ID (workItemNumber for display)\n  workItemId: string; // Actual GUID for API calls\n  legalName: string;\n  entityType: string;\n  country: string;\n  status: 'SUBMITTED' | 'IN PROGRESS' | 'RISK REVIEW' | 'COMPLETE' | 'INCOMPLETE' | 'DECLINED';\n  backendStatus?: string; // Raw backend status for validation\n  created: string;\n  updated: string;\n  submittedBy: string;\n  riskScore?: number;\n  workItemNumber?: string;\n  applicationId?: string;\n  // Additional fields from WorkItemDto\n  priority?: string;\n  riskLevel?: string;\n  assignedTo?: string;\n  assignedToName?: string;\n  assignedAt?: string;\n  requiresApproval?: boolean;\n  approvedBy?: string;\n  approvedByName?: string;\n  approvedAt?: string;\n  rejectionReason?: string;\n  dueDate?: string;\n  isOverdue?: boolean;\n  nextRefreshDate?: string;\n  lastRefreshedAt?: string;\n  refreshCount?: number;\n}\n\n// Status mapping from backend to frontend\nfunction mapBackendStatusToFrontend(backendStatus: string): Application['status'] {\n  const statusMap: Record<string, Application['status']> = {\n    'New': 'SUBMITTED',\n    'Assigned': 'IN PROGRESS',\n    'InProgress': 'IN PROGRESS',\n    'PendingApproval': 'RISK REVIEW',\n    'Approved': 'COMPLETE',\n    'Completed': 'COMPLETE',\n    'Declined': 'DECLINED',\n    'Cancelled': 'DECLINED',\n    'DueForRefresh': 'IN PROGRESS',\n  };\n  \n  return statusMap[backendStatus] || 'IN PROGRESS';\n}\n\n// Risk level to score mapping\nfunction mapRiskLevelToScore(riskLevel: string): number {\n  const riskMap: Record<string, number> = {\n    'Low': 25,\n    'Medium': 50,\n    'High': 75,\n    'Critical': 95,\n  };\n  \n  return riskMap[riskLevel] || 50;\n}\n\nasync function getAuthHeaders(): Promise<HeadersInit> {\n  const headers: HeadersInit = {\n    'Content-Type': 'application/json',\n  };\n\n  // DO NOT send accessToken - API proxy will inject it from Redis\n  // Only add user identification headers for backend\n  if (typeof window !== 'undefined') {\n    try {\n      const response = await fetch('/api/auth/session');\n      const session = await response.json();\n      \n      // Add user identification headers for backend\n      if (session?.user?.email) {\n        headers['X-User-Email'] = session.user.email;\n      }\n      if (session?.user?.name) {\n        headers['X-User-Name'] = session.user.name;\n      }\n      if (session?.user?.role) {\n        headers['X-User-Role'] = session.user.role;\n      }\n    } catch (error) {\n      if (typeof window !== 'undefined') {\n        const { clientSentry } = await import('./sentry-client');\n        clientSentry.reportError(error, {\n          tags: { error_type: 'work_queue_api', operation: 'get_session' },\n          level: 'warning',\n        });\n      }\n    }\n  }\n\n  return headers;\n}\n\nasync function request<T>(endpoint: string, options?: RequestInit): Promise<T> {\n  const baseUrl = WORK_QUEUE_API_BASE_URL;\n  // Use /api/workqueue without trailing slash for query strings to avoid nginx issues\n  // For query strings (?page=1), use /api/workqueue?page=1 (no trailing slash)\n  // For paths (/123), use /api/workqueue/123 (with trailing slash in location match)\n  let cleanEndpoint = endpoint;\n  if (endpoint.startsWith('?')) {\n    // Query string - no trailing slash needed, use exact match location\n    cleanEndpoint = endpoint;\n  } else if (!endpoint.startsWith('/')) {\n    cleanEndpoint = `/${endpoint}`;\n  }\n  // For non-query endpoints, ensure they work with the /api/workqueue/ location\n  // If baseUrl is empty (browser), use relative URL to Next.js API route\n  const url = baseUrl \n    ? `${baseUrl}/api/workqueue${cleanEndpoint}`\n    : `/api/workqueue${cleanEndpoint}`;\n  const headers = await getAuthHeaders();\n\n  try {\n    const response = await fetch(url, {\n      ...options,\n      headers: {\n        ...headers,\n        ...options?.headers,\n      },\n    });\n\n    // Read response body once (can only read once)\n    let responseText = '';\n    try {\n      responseText = await response.text();\n    } catch (readError) {\n      responseText = `Failed to read response body: ${readError instanceof Error ? readError.message : 'Unknown error'}`;\n    }\n    \n    if (!response.ok) {\n      let errorMessage = `Work Queue API request failed: ${response.status} ${response.statusText}`;\n      \n      if (responseText) {\n        try {\n          // Try to parse as JSON\n          const errorData = JSON.parse(responseText);\n          // Try to extract a meaningful error message\n          if (errorData.message) {\n            errorMessage = errorData.message;\n          } else if (errorData.error) {\n            errorMessage = errorData.error;\n          } else if (typeof errorData === 'string') {\n            errorMessage = errorData;\n          } else if (Object.keys(errorData).length > 0) {\n            // If it's an object but no message/error field, use the whole response\n            errorMessage = JSON.stringify(errorData);\n          }\n        } catch {\n          // If JSON parsing fails, use the raw text if it's not empty\n          if (responseText.trim()) {\n            errorMessage = responseText;\n          }\n        }\n      }\n      \n      // Log error details for debugging (always log, not just in development)\n      const errorDetails = {\n        status: response.status,\n        statusText: response.statusText,\n        url: url,\n        body: responseText || '(empty)',\n        errorMessage: errorMessage\n      };\n      \n      console.error('[WorkQueueAPI] Error response:', errorDetails);\n      \n      if (typeof window !== 'undefined') {\n        try {\n          const { clientSentry } = await import('./sentry-client');\n          clientSentry.reportError(new Error(errorMessage), {\n            tags: { error_type: 'work_queue_api', operation: 'api_request' },\n            extra: errorDetails,\n            level: 'error',\n          });\n        } catch (sentryError) {\n          // Ignore Sentry errors\n        }\n      }\n      \n      throw new Error(errorMessage);\n    }\n\n    // Success case - parse JSON response\n    if (!responseText || responseText.trim() === '') {\n      console.warn('[WorkQueueAPI] Empty response from:', url);\n      return null as T;\n    }\n    \n    try {\n      const parsed = JSON.parse(responseText);\n      return parsed as T;\n    } catch (parseError) {\n      // If parsing fails, log the error and throw a helpful message\n      console.error('[WorkQueueAPI] Failed to parse JSON response:', {\n        url: url,\n        responseText: responseText.substring(0, 200), // First 200 chars\n        error: parseError instanceof Error ? parseError.message : 'Unknown parse error'\n      });\n      throw new Error(`Invalid JSON response from Work Queue API: ${parseError instanceof Error ? parseError.message : 'Unknown error'}`);\n    }\n  } catch (error) {\n    // If it's a connection error, provide a more helpful message\n    if (error instanceof TypeError && error.message.includes('Failed to fetch')) {\n      const connectionError = new Error(`Cannot connect to Work Queue API at ${url}. Please ensure the backend services are running.`);\n      console.error('[WorkQueueAPI] Connection error:', {\n        url: url,\n        error: error.message\n      });\n      throw connectionError;\n    }\n    // Re-throw other errors as-is\n    throw error;\n  }\n}\n\n// Map WorkItemDto to Application\nexport function mapWorkItemToApplication(workItem: WorkItemDto): Application {\n  return {\n    id: workItem.workItemNumber || workItem.id, // Display ID\n    workItemId: workItem.id, // Actual GUID for API calls\n    legalName: workItem.applicantName,\n    entityType: workItem.entityType,\n    country: workItem.country,\n    status: mapBackendStatusToFrontend(workItem.status),\n    backendStatus: workItem.status, // Store raw backend status\n    created: workItem.createdAt,\n    updated: workItem.updatedAt || workItem.createdAt,\n    submittedBy: workItem.assignedToName || workItem.assignedTo || 'system',\n    riskScore: mapRiskLevelToScore(workItem.riskLevel),\n    workItemNumber: workItem.workItemNumber,\n    applicationId: workItem.applicationId,\n    // Additional fields\n    priority: workItem.priority,\n    riskLevel: workItem.riskLevel,\n    assignedTo: workItem.assignedTo,\n    assignedToName: workItem.assignedToName,\n    assignedAt: workItem.assignedAt,\n    requiresApproval: workItem.requiresApproval,\n    approvedBy: workItem.approvedBy,\n    approvedByName: workItem.approvedByName,\n    approvedAt: workItem.approvedAt,\n    rejectionReason: workItem.rejectionReason,\n    dueDate: workItem.dueDate,\n    isOverdue: workItem.isOverdue,\n    nextRefreshDate: workItem.nextRefreshDate,\n    lastRefreshedAt: workItem.lastRefreshedAt,\n    refreshCount: workItem.refreshCount,\n  };\n}\n\nexport const workQueueApi = {\n  /**\n   * Get all work items with optional filters\n   */\n  async getWorkItems(filters?: {\n    status?: string;\n    searchTerm?: string;\n    country?: string;\n    riskLevel?: string;\n    page?: number;\n    pageSize?: number;\n  }): Promise<{ data: Application[]; total: number }> {\n    const params = new URLSearchParams();\n    \n    if (filters?.status && filters.status !== 'ALL') {\n      // Map frontend status to backend status\n      const statusMap: Record<string, string> = {\n        'SUBMITTED': 'New',\n        'IN PROGRESS': 'InProgress',\n        'RISK REVIEW': 'PendingApproval',\n        'COMPLETE': 'Completed',\n        'DECLINED': 'Declined',\n      };\n      const backendStatus = statusMap[filters.status] || filters.status;\n      params.append('status', backendStatus);\n    }\n    \n    if (filters?.searchTerm) {\n      params.append('searchTerm', filters.searchTerm);\n    }\n    \n    if (filters?.country) {\n      params.append('country', filters.country);\n    }\n    \n    if (filters?.riskLevel) {\n      params.append('riskLevel', filters.riskLevel);\n    }\n    \n    const page = filters?.page || 1;\n    const pageSize = filters?.pageSize || 100; // Get more items for stats calculation\n    params.append('page', page.toString());\n    params.append('pageSize', pageSize.toString());\n    \n    const queryString = params.toString();\n    const result = await request<any>(`?${queryString}`);\n    \n    // Handle both camelCase and snake_case response formats\n    const items = result.items || result.data || [];\n    const totalCount = result.totalCount || result.total_count || 0;\n    \n    return {\n      data: items.map(mapWorkItemToApplication),\n      total: totalCount,\n    };\n  },\n\n  /**\n   * Get work item by ID\n   */\n  async getWorkItemById(id: string): Promise<Application | null> {\n    try {\n      const workItem = await request<WorkItemDto>(`/${id}`);\n      return mapWorkItemToApplication(workItem);\n    } catch (error) {\n      if (error instanceof Error && error.message.includes('404')) {\n        return null;\n      }\n      throw error;\n    }\n  },\n\n  /**\n   * Get my assigned work items\n   */\n  async getMyWorkItems(page: number = 1, pageSize: number = 20): Promise<{ data: Application[]; total: number }> {\n    const params = new URLSearchParams();\n    params.append('page', page.toString());\n    params.append('pageSize', pageSize.toString());\n    \n    const result = await request<any>(`/my-items?${params.toString()}`);\n    \n    // Handle both camelCase and snake_case response formats\n    const items = result.items || result.data || [];\n    const totalCount = result.totalCount || result.total_count || 0;\n    \n    return {\n      data: items.map(mapWorkItemToApplication),\n      total: totalCount,\n    };\n  },\n\n  /**\n   * Get pending approvals\n   */\n  async getPendingApprovals(page: number = 1, pageSize: number = 20): Promise<{ data: WorkItemDto[]; total: number }> {\n    const params = new URLSearchParams();\n    params.append('page', page.toString());\n    params.append('pageSize', pageSize.toString());\n    \n    const result = await request<any>(`/pending-approvals?${params.toString()}`);\n    \n    // Handle both camelCase and snake_case response formats\n    const items = result.items || result.data || [];\n    const totalCount = result.totalCount || result.total_count || 0;\n    \n    return {\n      data: items,\n      total: totalCount,\n    };\n  },\n\n  /**\n   * Get items due for refresh\n   */\n  async getItemsDueForRefresh(page: number = 1, pageSize: number = 100, asOfDate?: Date): Promise<PagedResult<WorkItemDto>> {\n    const params = new URLSearchParams();\n    params.append('page', page.toString());\n    params.append('pageSize', pageSize.toString());\n    if (asOfDate) {\n      params.append('asOfDate', asOfDate.toISOString());\n    }\n    const result = await request<PagedResult<WorkItemDto>>(`/due-for-refresh?${params.toString()}`);\n    return result;\n  },\n\n  /**\n   * Get work items as raw DTOs (for approvals page)\n   */\n  async getWorkItemsAsDto(filters?: {\n    status?: string;\n    searchTerm?: string;\n    country?: string;\n    riskLevel?: string;\n    page?: number;\n    pageSize?: number;\n  }): Promise<{ data: WorkItemDto[]; total: number }> {\n    const params = new URLSearchParams();\n    \n    if (filters?.status && filters.status !== 'ALL') {\n      // Map frontend status to backend status\n      const statusMap: Record<string, string> = {\n        'SUBMITTED': 'New',\n        'IN PROGRESS': 'InProgress',\n        'RISK REVIEW': 'PendingApproval',\n        'COMPLETE': 'Completed',\n        'DECLINED': 'Declined',\n      };\n      const backendStatus = statusMap[filters.status] || filters.status;\n      params.append('status', backendStatus);\n    }\n    \n    if (filters?.searchTerm) {\n      params.append('searchTerm', filters.searchTerm);\n    }\n    \n    if (filters?.country) {\n      params.append('country', filters.country);\n    }\n    \n    if (filters?.riskLevel) {\n      params.append('riskLevel', filters.riskLevel);\n    }\n    \n    const page = filters?.page || 1;\n    const pageSize = filters?.pageSize || 100;\n    params.append('page', page.toString());\n    params.append('pageSize', pageSize.toString());\n    \n    const queryString = params.toString();\n    const result = await request<any>(`?${queryString}`);\n    \n    // Handle both camelCase and snake_case response formats\n    const items = result.items || result.data || [];\n    const totalCount = result.totalCount || result.total_count || 0;\n    \n    return {\n      data: items,\n      total: totalCount,\n    };\n  },\n\n  /**\n   * Export work items as CSV\n   */\n  async exportWorkItems(filters?: {\n    status?: string;\n    searchTerm?: string;\n    country?: string;\n  }): Promise<Blob> {\n    const params = new URLSearchParams();\n    \n    if (filters?.status && filters.status !== 'ALL') {\n      const statusMap: Record<string, string> = {\n        'SUBMITTED': 'New',\n        'IN PROGRESS': 'InProgress',\n        'RISK REVIEW': 'PendingApproval',\n        'COMPLETE': 'Completed',\n        'DECLINED': 'Declined',\n      };\n      const backendStatus = statusMap[filters.status] || filters.status;\n      params.append('status', backendStatus);\n    }\n    \n    if (filters?.searchTerm) {\n      params.append('searchTerm', filters.searchTerm);\n    }\n    \n    if (filters?.country) {\n      params.append('country', filters.country);\n    }\n    \n    // Get all items for export (no pagination)\n    params.append('page', '1');\n    params.append('pageSize', '10000');\n    \n    const queryString = params.toString();\n    const result = await request<any>(`?${queryString}`);\n    \n    // Handle both camelCase and snake_case response formats\n    const items = result.items || result.data || [];\n    \n    // Convert to CSV\n    const csvRows: string[] = [];\n    \n    // CSV Header\n    csvRows.push('Application ID,Work Item Number,Legal Name,Entity Type,Country,Status,Priority,Risk Level,Assigned To,Created Date,Updated Date');\n    \n    // Helper function to escape CSV fields\n    const escapeCsvField = (field: string | undefined | null): string => {\n      if (!field) return '';\n      const str = String(field);\n      // If field contains comma, quote, or newline, wrap in quotes and escape quotes\n      if (str.includes(',') || str.includes('\"') || str.includes('\\n')) {\n        return `\"${str.replace(/\"/g, '\"\"')}\"`;\n      }\n      return str;\n    };\n    \n    // CSV Data\n    if (items && items.length > 0) {\n      items.forEach((item: WorkItemDto) => {\n        const app = mapWorkItemToApplication(item);\n        csvRows.push([\n          escapeCsvField(app.id),\n          escapeCsvField(item.workItemNumber),\n          escapeCsvField(app.legalName),\n          escapeCsvField(app.entityType),\n          escapeCsvField(app.country),\n          escapeCsvField(app.status),\n          escapeCsvField(item.priority),\n          escapeCsvField(item.riskLevel),\n          escapeCsvField(item.assignedToName || item.assignedTo),\n          escapeCsvField(new Date(app.created).toLocaleDateString()),\n          escapeCsvField(new Date(app.updated).toLocaleDateString()),\n        ].join(','));\n      });\n    }\n    \n    const csvContent = csvRows.join('\\n');\n    return new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n  },\n\n\n  /**\n   * Generate a consistent GUID from a string (email or name)\n   * Uses a simple hash to create a deterministic GUID\n   */\n  generateGuidFromString(str: string): string {\n    // Simple hash function to generate consistent GUID-like string\n    let hash = 0;\n    for (let i = 0; i < str.length; i++) {\n      const char = str.charCodeAt(i);\n      hash = ((hash << 5) - hash) + char;\n      hash = hash & hash; // Convert to 32-bit integer\n    }\n    \n    // Convert to GUID format: 8-4-4-4-12\n    const hex = Math.abs(hash).toString(16).padStart(32, '0');\n    return `${hex.substring(0, 8)}-${hex.substring(8, 12)}-${hex.substring(12, 16)}-${hex.substring(16, 20)}-${hex.substring(20, 32)}`;\n  },\n\n  /**\n   * Assign work item to a user\n   */\n  async assignWorkItem(id: string, assignedToUserId: string, assignedToUserName: string): Promise<void> {\n    // Convert string ID to GUID format if needed\n    let userIdGuid: string;\n    if (/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(assignedToUserId)) {\n      // Already a valid GUID (e.g., from JWT \"sub\" claim)\n      userIdGuid = assignedToUserId;\n    } else {\n      // Generate a consistent GUID from the string (email/name)\n      // This is a fallback for backwards compatibility\n      userIdGuid = workQueueApi.generateGuidFromString(assignedToUserId);\n    }\n    \n    // Ensure the GUID is valid\n    if (!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(userIdGuid)) {\n      throw new Error(`Invalid user ID format: ${assignedToUserId}`);\n    }\n    \n    const requestBody = {\n      AssignedToUserId: userIdGuid, // Backend expects GUID string\n      AssignedToUserName: assignedToUserName,\n    };\n    \n    console.log('[WorkQueueAPI] Assigning work item:', { \n      id, \n      requestBody, \n      userIdGuid,\n      originalUserId: assignedToUserId,\n      isGuid: /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(assignedToUserId)\n    });\n    \n    await request(`/${id}/assign`, {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n    });\n  },\n\n  /**\n   * Unassign work item\n   */\n  async unassignWorkItem(id: string): Promise<void> {\n    await request(`/${id}/unassign`, {\n      method: 'POST',\n    });\n  },\n\n  /**\n   * Start review on work item\n   */\n  async startReview(id: string): Promise<void> {\n    await request(`/${id}/start-review`, {\n      method: 'POST',\n    });\n  },\n\n  /**\n   * Submit work item for approval\n   */\n  async submitForApproval(id: string, notes?: string): Promise<void> {\n    await request(`/${id}/submit-for-approval`, {\n      method: 'POST',\n      body: JSON.stringify({ notes: notes || '' }),\n    });\n  },\n\n  /**\n   * Approve work item\n   */\n  async approveWorkItem(id: string, notes?: string): Promise<void> {\n    await request(`/${id}/approve`, {\n      method: 'POST',\n      body: JSON.stringify({ notes: notes || '' }),\n    });\n  },\n\n  /**\n   * Decline work item\n   */\n  async declineWorkItem(id: string, reason: string): Promise<void> {\n    await request(`/${id}/decline`, {\n      method: 'POST',\n      body: JSON.stringify({ reason }),\n    });\n  },\n\n  /**\n   * Complete work item\n   */\n  async completeWorkItem(id: string, notes?: string): Promise<void> {\n    await request(`/${id}/complete`, {\n      method: 'POST',\n      body: JSON.stringify({ notes: notes || '' }),\n    });\n  },\n\n  /**\n   * Mark work item for refresh\n   */\n  async markForRefresh(id: string): Promise<void> {\n    await request(`/${id}/mark-for-refresh`, {\n      method: 'POST',\n    });\n  },\n\n  /**\n   * Add comment to work item\n   */\n  async addComment(id: string, text: string): Promise<void> {\n    await request(`/${id}/comments`, {\n      method: 'POST',\n      body: JSON.stringify({ text }),\n    });\n  },\n\n  /**\n   * Get work item history\n   */\n  async getWorkItemHistory(id: string): Promise<any[]> {\n    const result = await request<any[]>(`/${id}/history`);\n    return result;\n  },\n\n  /**\n   * Get work item comments\n   */\n  async getWorkItemComments(id: string): Promise<any[]> {\n    const result = await request<any[]>(`/${id}/comments`);\n    return result;\n  },\n};\n\nexport default workQueueApi;\n\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1083, "column": 0}, "map": {"version":3,"sources":["file:///Users/mukurusystemsadministrator/Desktop/onboarding_kyc%20copy/admin/src/lib/applicationsApi.ts"],"sourcesContent":["// Applications API service for connecting to backend projections API\nimport workQueueApi from './workQueueApi';\n\nconst API_BASE_URL = typeof window !== 'undefined' ? '' : 'http://localhost:3001';\n\n// Backend DTO types from OnboardingCaseProjection\nexport interface OnboardingCaseProjection {\n  id: string;\n  caseId: string;\n  type: string;\n  status: string;\n  partnerId: string;\n  partnerName: string;\n  partnerReferenceId: string;\n  applicantFirstName: string;\n  applicantLastName: string;\n  applicantEmail: string;\n  applicantPhone: string;\n  applicantDateOfBirth?: string;\n  applicantNationality: string;\n  applicantAddress: string;\n  applicantCity: string;\n  applicantCountry: string;\n  progressPercentage: number;\n  totalSteps: number;\n  completedSteps: number;\n  checklistId?: string;\n  checklistStatus: string;\n  checklistCompletionPercentage: number;\n  checklistTotalItems: number;\n  checklistCompletedItems: number;\n  checklistRequiredItems: number;\n  checklistCompletedRequiredItems: number;\n  riskAssessmentId?: string;\n  riskLevel: string;\n  riskScore: number;\n  riskStatus: string;\n  riskFactorCount: number;\n  documentCount: number;\n  verifiedDocumentCount: number;\n  pendingDocumentCount: number;\n  rejectedDocumentCount: number;\n  createdAt: string;\n  updatedAt: string;\n  submittedAt?: string;\n  approvedAt?: string;\n  rejectedAt?: string;\n  assignedTo?: string;\n  assignedToName?: string;\n  assignedAt?: string;\n  requiresManualReview: boolean;\n  hasComplianceIssues: boolean;\n  complianceNotes?: string;\n  metadataJson: string;\n  businessLegalName: string;\n  businessRegistrationNumber: string;\n  businessTaxId: string;\n  businessCountryOfRegistration: string;\n  businessAddress: string;\n  businessCity: string;\n  businessIndustry: string;\n  businessNumberOfEmployees?: number;\n  businessAnnualRevenue?: number;\n  businessWebsite: string;\n}\n\nexport interface PagedResult<T> {\n  items: T[];\n  totalCount: number;\n  page: number;\n  pageSize: number;\n}\n\n// Frontend Application interface\nexport interface Application {\n  id: string;\n  companyName: string;\n  entityType: string;\n  status: 'SUBMITTED' | 'IN_PROGRESS' | 'RISK_REVIEW' | 'COMPLETE' | 'DECLINED';\n  submittedDate: string;\n  assignedTo: string;\n  riskLevel: 'LOW' | 'MEDIUM' | 'HIGH';\n  country: string;\n  progress: number;\n}\n\n// Status mapping from backend to frontend\nfunction mapBackendStatusToFrontend(backendStatus: string): Application['status'] {\n  const statusMap: Record<string, Application['status']> = {\n    'Draft': 'IN_PROGRESS',\n    'InProgress': 'IN_PROGRESS',\n    'PendingReview': 'RISK_REVIEW',\n    'Submitted': 'SUBMITTED',\n    'Approved': 'COMPLETE',\n    'Rejected': 'DECLINED',\n    'Cancelled': 'DECLINED',\n  };\n  \n  return statusMap[backendStatus] || 'IN_PROGRESS';\n}\n\n// Risk level mapping from backend to frontend\nfunction mapBackendRiskLevelToFrontend(riskLevel: string): Application['riskLevel'] {\n  const riskMap: Record<string, Application['riskLevel']> = {\n    'Low': 'LOW',\n    'MediumLow': 'LOW',\n    'Medium': 'MEDIUM',\n    'MediumHigh': 'HIGH',\n    'High': 'HIGH',\n  };\n  \n  return riskMap[riskLevel] || 'MEDIUM';\n}\n\n// Map OnboardingCaseProjection to Application\nfunction mapProjectionToApplication(projection: OnboardingCaseProjection): Application {\n  // Determine company name - use business legal name if available, otherwise use applicant name\n  const companyName = projection.businessLegalName || \n                     `${projection.applicantFirstName} ${projection.applicantLastName}`.trim() ||\n                     'Unknown';\n  \n  // Determine country - use business country if available, otherwise use applicant country\n  const country = projection.businessCountryOfRegistration || \n                 projection.applicantCountry || \n                 'Unknown';\n  \n  // Determine entity type - use type from projection, or derive from business info\n  const entityType = projection.type || \n                    (projection.businessLegalName ? 'Business' : 'Individual') ||\n                    'Unknown';\n  \n  // Get assigned to name or fallback\n  const assignedTo = projection.assignedToName || \n                    projection.assignedTo || \n                    'Unassigned';\n  \n  // Get submitted date or created date\n  const submittedDate = projection.submittedAt || \n                       projection.createdAt;\n  \n  // Get progress percentage (round to integer)\n  const progress = Math.round(projection.progressPercentage || 0);\n\n  return {\n    id: projection.caseId || projection.id,\n    companyName,\n    entityType,\n    status: mapBackendStatusToFrontend(projection.status),\n    submittedDate,\n    assignedTo,\n    riskLevel: mapBackendRiskLevelToFrontend(projection.riskLevel),\n    country,\n    progress,\n  };\n}\n\nasync function getAuthHeaders(): Promise<HeadersInit> {\n  const headers: HeadersInit = {\n    'Content-Type': 'application/json',\n  };\n\n  // DO NOT send accessToken - API proxy will inject it from Redis\n  // Only add user identification headers for backend\n  if (typeof window !== 'undefined') {\n    try {\n      const response = await fetch('/api/auth/session');\n      const session = await response.json();\n      \n      // Add user identification headers for backend\n      if (session?.user?.email) {\n        headers['X-User-Email'] = session.user.email;\n      }\n      if (session?.user?.name) {\n        headers['X-User-Name'] = session.user.name;\n      }\n      if (session?.user?.role) {\n        headers['X-User-Role'] = session.user.role;\n      }\n    } catch (error) {\n      if (typeof window !== 'undefined') {\n        const { clientSentry } = await import('./sentry-client');\n        clientSentry.reportError(error, {\n          tags: { error_type: 'applications_api', operation: 'get_session' },\n          level: 'warning',\n        });\n      }\n    }\n  }\n\n  return headers;\n}\n\nasync function request<T>(endpoint: string, options?: RequestInit): Promise<T> {\n  const url = `${API_BASE_URL}${endpoint}`;\n  const headers = await getAuthHeaders();\n\n  try {\n    const response = await fetch(url, {\n      ...options,\n      headers: {\n        ...headers,\n        ...options?.headers,\n      },\n    });\n\n    if (!response.ok) {\n      const errorText = await response.text();\n      throw new Error(`Applications API request failed: ${response.status} ${response.statusText} - ${errorText}`);\n    }\n\n    return response.json();\n  } catch (error) {\n    // If it's a connection error, provide a more helpful message\n    if (error instanceof TypeError && error.message.includes('Failed to fetch')) {\n      throw new Error(`Cannot connect to Applications API at ${url}. Please ensure the backend services are running.`);\n    }\n    throw error;\n  }\n}\n\nexport const applicationsApi = {\n  /**\n   * Get all applications with optional filters\n   */\n  async getApplications(filters?: {\n    status?: string;\n    search?: string;\n    riskLevel?: string;\n    assignedTo?: string;\n    partnerId?: string;\n    page?: number;\n    pageSize?: number;\n  }): Promise<{ data: Application[]; total: number }> {\n    const params = new URLSearchParams();\n    \n    if (filters?.status && filters.status !== 'ALL') {\n      // Map frontend status to backend status\n      const statusMap: Record<string, string> = {\n        'SUBMITTED': 'Submitted',\n        'IN_PROGRESS': 'InProgress',\n        'RISK_REVIEW': 'PendingReview',\n        'COMPLETE': 'Approved',\n        'DECLINED': 'Rejected',\n      };\n      const backendStatus = statusMap[filters.status] || filters.status;\n      params.append('status', backendStatus);\n    }\n    \n    if (filters?.search) {\n      params.append('searchTerm', filters.search);\n    }\n    \n    if (filters?.riskLevel) {\n      // Map frontend risk level to backend risk level\n      const riskMap: Record<string, string> = {\n        'LOW': 'Low',\n        'MEDIUM': 'Medium',\n        'HIGH': 'High',\n      };\n      const backendRiskLevel = riskMap[filters.riskLevel] || filters.riskLevel;\n      params.append('riskLevel', backendRiskLevel);\n    }\n    \n    if (filters?.assignedTo) {\n      params.append('assignedTo', filters.assignedTo);\n    }\n    \n    if (filters?.partnerId) {\n      params.append('partnerId', filters.partnerId);\n    }\n    \n    const page = filters?.page || 1;\n    const pageSize = filters?.pageSize || 100;\n    const skip = (page - 1) * pageSize;\n    params.append('skip', skip.toString());\n    params.append('take', pageSize.toString());\n    \n    // Add default sorting\n    params.append('sortBy', 'createdAt');\n    params.append('sortDirection', 'desc');\n    \n    const queryString = params.toString();\n    const result = await request<PagedResult<OnboardingCaseProjection>>(`/api/applications?${queryString}`);\n    \n    // Handle both camelCase (from JSON) and PascalCase (if any)\n    const items = result.items || (result as any).Items || [];\n    const total = result.totalCount || (result as any).TotalCount || 0;\n    \n    // FIRST: Fetch assignment data from work queue service (source of truth for assignments)\n    let workItemsMap = new Map<string, { assignedTo?: string; assignedToName?: string; workItemId?: string; applicationId?: string }>();\n    let workItemsList: any[] = [];\n    \n    try {\n      console.log('[Applications API] Fetching work items from work queue (source of truth for assignments)...');\n      // Use getWorkItemsAsDto to get raw DTOs with all fields\n      const workItemsResult = await workQueueApi.getWorkItemsAsDto({ pageSize: 1000 });\n      \n      console.log('[Applications API] Work items fetched:', workItemsResult.data.length);\n      workItemsList = workItemsResult.data;\n      \n      // Create comprehensive mapping: work item applicationId (GUID) -> assignment data\n      // Work items store applicationId as GUID, which should match projection.id (GUID)\n      workItemsResult.data.forEach(workItem => {\n        if (workItem.applicationId) {\n          // Normalize GUID to lowercase for matching\n          const normalizedGuid = workItem.applicationId.toLowerCase().trim();\n          workItemsMap.set(normalizedGuid, {\n            assignedTo: workItem.assignedTo,\n            assignedToName: workItem.assignedToName,\n            workItemId: workItem.id, // WorkItemDto uses 'id' property\n            applicationId: workItem.applicationId,\n          });\n        }\n      });\n      \n      console.log('[Applications API] Work items map created with', workItemsMap.size, 'entries');\n      console.log('[Applications API] Sample work items:', workItemsResult.data.slice(0, 5).map(wi => ({\n        applicationId: wi.applicationId,\n        workItemId: wi.id, // WorkItemDto uses 'id' property\n        assignedToName: wi.assignedToName,\n        assignedTo: wi.assignedTo\n      })));\n    } catch (error) {\n      if (typeof window !== 'undefined') {\n        const { clientSentry } = await import('./sentry-client');\n        clientSentry.reportError(error, {\n          tags: { error_type: 'applications_api', operation: 'fetch_work_items' },\n          level: 'error',\n        });\n      }\n      // Continue without work queue data - will use projection data only\n    }\n    \n    // Map projections to applications and ENRICH with work queue assignment data\n    const enrichedApplications = items.map(projection => {\n      // First create base application from projection\n      const app = mapProjectionToApplication(projection);\n      \n      console.log('[Applications API] Processing projection:', {\n        caseId: projection.caseId,\n        id: projection.id,\n        appId: app.id\n      });\n      \n      // Try to find assignment in work queue by matching projection.id (GUID) with workItem.applicationId (GUID)\n      let assignment = null;\n      \n      // Method 1: Match by GUID (projection.id with workItem.applicationId)\n      if (projection.id) {\n        const normalizedId = projection.id.toLowerCase().trim();\n        assignment = workItemsMap.get(normalizedId);\n        \n        if (assignment) {\n          console.log('[Applications API]  Matched by GUID (projection.id):', {\n            projectionId: projection.id,\n            projectionCaseId: projection.caseId,\n            assignedToName: assignment.assignedToName,\n            assignedTo: assignment.assignedTo\n          });\n        }\n      }\n      \n      // Method 2: If no match, try matching by caseId (search all work items)\n      if (!assignment && projection.caseId) {\n        // Search through all work items to find one that might match\n        // This is a fallback in case the GUIDs don't match\n        const matchingWorkItem = workItemsList.find(wi => {\n          // Check if work item's applicationId matches projection.id\n          if (wi.applicationId && projection.id) {\n            return wi.applicationId.toLowerCase().trim() === projection.id.toLowerCase().trim();\n          }\n          return false;\n        });\n        \n        if (matchingWorkItem && (matchingWorkItem.assignedTo || matchingWorkItem.assignedToName)) {\n          assignment = {\n            assignedTo: matchingWorkItem.assignedTo,\n            assignedToName: matchingWorkItem.assignedToName,\n            workItemId: matchingWorkItem.workItemId,\n            applicationId: matchingWorkItem.applicationId,\n          };\n          console.log('[Applications API]  Matched by searching work items:', {\n            projectionCaseId: projection.caseId,\n            projectionId: projection.id,\n            workItemApplicationId: matchingWorkItem.applicationId,\n            assignedToName: assignment.assignedToName\n          });\n        }\n      }\n      \n      // Method 3: Try matching app.id (which is caseId or id) with work item applicationId\n      if (!assignment && app.id) {\n        // Check if app.id is a GUID\n        const isGuid = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(app.id);\n        if (isGuid) {\n          assignment = workItemsMap.get(app.id.toLowerCase().trim());\n          if (assignment) {\n            console.log('[Applications API]  Matched by app.id (GUID):', {\n              appId: app.id,\n              assignedToName: assignment.assignedToName\n            });\n          }\n        }\n      }\n      \n      // If assignment found in work queue, use it (work queue is source of truth)\n      if (assignment && (assignment.assignedTo || assignment.assignedToName)) {\n        const assignedName = assignment.assignedToName || assignment.assignedTo;\n        console.log('[Applications API]  Using work queue assignment:', {\n          appId: app.id,\n          projectionId: projection.id,\n          projectionCaseId: projection.caseId,\n          assignedName,\n          workItemId: assignment.workItemId\n        });\n        return {\n          ...app,\n          assignedTo: assignedName, // Work queue assignment takes priority\n          workItemId: assignment.workItemId, // Include workItemId for review navigation\n        } as Application & { workItemId?: string };\n      }\n      \n      // If no work queue assignment found, still try to find workItemId for review navigation\n      let workItemId: string | undefined = undefined;\n      if (projection.id) {\n        const matchingWorkItem = workItemsList.find(wi => \n          wi.applicationId && projection.id && \n          wi.applicationId.toLowerCase().trim() === projection.id.toLowerCase().trim()\n        );\n        if (matchingWorkItem) {\n          workItemId = matchingWorkItem.id; // WorkItemDto uses 'id' property\n        }\n      }\n      \n      console.log('[Applications API]  No work queue assignment found:', {\n        appId: app.id,\n        projectionId: projection.id,\n        projectionCaseId: projection.caseId,\n        workItemsMapSize: workItemsMap.size,\n        totalWorkItems: workItemsList.length,\n        hasProjectionId: !!projection.id,\n        checkedGuid: projection.id ? workItemsMap.has(projection.id.toLowerCase().trim()) : false,\n        allWorkItemApplicationIds: workItemsList.slice(0, 3).map(wi => wi.applicationId),\n        foundWorkItemId: !!workItemId,\n      });\n      \n      // Return app with projection data (may show \"Unassigned\" if no work queue assignment)\n      return {\n        ...app,\n        workItemId, // Include workItemId if found, even without assignment\n      } as Application & { workItemId?: string };\n    });\n    \n    console.log('[Applications API] Final enriched applications:', enrichedApplications.map(app => ({\n      id: app.id,\n      assignedTo: app.assignedTo\n    })));\n    \n    return {\n      data: enrichedApplications,\n      total: total,\n    };\n  },\n\n  /**\n   * Get application by ID\n   */\n  async getApplicationById(id: string): Promise<Application | null> {\n    try {\n      // First try to get from the cases endpoint with search\n      const params = new URLSearchParams();\n      params.append('searchTerm', id);\n      params.append('take', '1');\n      \n      const result = await request<PagedResult<OnboardingCaseProjection>>(`/api/applications?${params.toString()}`);\n      \n      const projection = result.items.find(\n        p => p.caseId === id || p.id === id\n      );\n      \n      if (projection) {\n        return mapProjectionToApplication(projection);\n      }\n      \n      return null;\n    } catch (error) {\n      if (error instanceof Error && error.message.includes('404')) {\n        return null;\n      }\n      throw error;\n    }\n  },\n\n  /**\n   * Export applications as CSV\n   */\n  async exportApplications(filters?: {\n    status?: string;\n    search?: string;\n    riskLevel?: string;\n  }): Promise<Blob> {\n    // Get all items for export (no pagination)\n    const result = await this.getApplications({\n      ...filters,\n      page: 1,\n      pageSize: 10000,\n    });\n    \n    // Convert to CSV\n    const csvRows: string[] = [];\n    \n    // CSV Header\n    csvRows.push('Application ID,Company Name,Entity Type,Country,Status,Risk Level,Assigned To,Progress,Submitted Date');\n    \n    // CSV Data\n    result.data.forEach(app => {\n      csvRows.push([\n        app.id,\n        `\"${app.companyName}\"`,\n        app.entityType,\n        app.country,\n        app.status,\n        app.riskLevel,\n        app.assignedTo,\n        `${app.progress}%`,\n        new Date(app.submittedDate).toLocaleDateString(),\n      ].join(','));\n    });\n    \n    const csvContent = csvRows.join('\\n');\n    return new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n  },\n};\n\nexport default applicationsApi;\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1438, "column": 0}, "map": {"version":3,"sources":["file:///Users/mukurusystemsadministrator/Desktop/onboarding_kyc%20copy/admin/src/app/applications/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { \n  Box, \n  Container, \n  VStack, \n  HStack,\n  Flex,\n  Spinner\n} from \"@chakra-ui/react\";\nimport { \n  Button, \n  Search, \n  Typography, \n  DataTable, \n  Tag, \n  IconWrapper,\n  AlertBar,\n  Tooltip\n} from \"@/lib/mukuruImports\";\nimport Link from \"next/link\";\nimport type { ColumnConfig } from \"@mukuru/mukuru-react-components\";\nimport { \n  FiSearch, \n  FiFilter, \n  FiDownload, \n  FiEye, \n  FiEdit,\n  FiClock,\n  FiCheckCircle,\n  FiXCircle,\n  FiAlertCircle,\n  FiBriefcase,\n  FiHash,\n  FiGlobe,\n  FiShield,\n  FiTrendingUp,\n  FiUser,\n  FiCalendar,\n  FiMoreVertical\n} from \"react-icons/fi\";\nimport { useState, useEffect, useCallback, useRef } from \"react\";\nimport AdminSidebar from \"../../components/AdminSidebar\";\nimport PortalHeader from \"../../components/PortalHeader\";\nimport { useSidebar } from \"../../contexts/SidebarContext\";\nimport applicationsApi, { Application } from \"../../lib/applicationsApi\";\nimport workQueueApi from \"../../lib/workQueueApi\";\n\nexport default function ApplicationsPage() {\n  const { condensed } = useSidebar();\n  const [applications, setApplications] = useState<Application[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [statusFilter, setStatusFilter] = useState(\"ALL\");\n  const [exporting, setExporting] = useState(false);\n\n  const loadApplications = useCallback(async (search?: string) => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      console.log('[Applications Page] Loading applications with filters:', {\n        status: statusFilter,\n        search: search || searchTerm,\n      });\n      \n      const result = await applicationsApi.getApplications({\n        status: statusFilter !== 'ALL' ? statusFilter : undefined,\n        search: search || searchTerm || undefined,\n        page: 1,\n        pageSize: 1000, // Get all applications for display\n      });\n      \n      console.log('[Applications Page] Applications loaded:', result.data.length);\n      setApplications(result.data);\n    } catch (err) {\n      console.error('[Applications Page] Error loading applications:', err);\n      setError(err instanceof Error ? err.message : 'Failed to load applications. Please ensure backend services are running.');\n      setApplications([]);\n    } finally {\n      setLoading(false);\n    }\n  }, [statusFilter, searchTerm]);\n\n  // Handler for search changes - Search component handles debouncing internally (500ms)\n  const handleSearchChange = useCallback((query: string) => {\n    setSearchTerm(query);\n    // Search component already debounces, so we can call loadApplications directly\n    // Note: loadApplications will use the updated searchTerm from state\n  }, []);\n\n  // Load applications on mount and when status filter or search term changes\n  useEffect(() => {\n    loadApplications();\n  }, [statusFilter, searchTerm, loadApplications]);\n\n  const handleExport = async () => {\n    try {\n      setExporting(true);\n      const blob = await applicationsApi.exportApplications({\n        status: statusFilter !== 'ALL' ? statusFilter : undefined,\n        search: searchTerm || undefined,\n      });\n      \n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `applications_${new Date().toISOString().split('T')[0]}.csv`;\n      document.body.appendChild(a);\n      a.click();\n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(a);\n    } catch (err) {\n      console.error('Error exporting applications:', err);\n      setError(err instanceof Error ? err.message : 'Failed to export applications');\n    } finally {\n      setExporting(false);\n    }\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'SUBMITTED': return 'blue';\n      case 'IN_PROGRESS': return 'orange';\n      case 'RISK_REVIEW': return 'red';\n      case 'COMPLETE': return 'green';\n      case 'DECLINED': return 'red';\n      default: return 'gray';\n    }\n  };\n\n  const getRiskColor = (risk: string) => {\n    switch (risk) {\n      case 'LOW': return 'green';\n      case 'MEDIUM': return 'orange';\n      case 'HIGH': return 'red';\n      default: return 'gray';\n    }\n  };\n\n  const filteredApplications = applications.filter(app => {\n    const matchesSearch = app.companyName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         app.id.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesStatus = statusFilter === \"ALL\" || app.status === statusFilter;\n    return matchesSearch && matchesStatus;\n  });\n\n  // Define columns for DataTable\n  const columns: ColumnConfig<Application>[] = [\n    {\n      field: 'companyName',\n      header: 'Company Name',\n      sortable: true,\n      width: '250px',\n      minWidth: '250px',\n      render: (value: string | number, row: Application) => (\n        <Typography \n          fontWeight=\"semibold\" \n          color=\"gray.800\" \n          fontSize=\"sm\"\n          style={{\n            overflow: 'hidden',\n            textOverflow: 'ellipsis',\n            whiteSpace: 'nowrap',\n            maxWidth: '200px'\n          }}\n        >\n          {value as string}\n        </Typography>\n      )\n    },\n    {\n      field: 'id',\n      header: 'Application ID',\n      sortable: true,\n      width: '200px',\n      minWidth: '200px',\n      render: (value) => (\n        <Typography \n          fontSize=\"sm\" \n          color=\"gray.600\"\n          fontFamily=\"mono\"\n          fontWeight=\"medium\"\n          style={{\n            overflow: 'hidden',\n            textOverflow: 'ellipsis',\n            whiteSpace: 'nowrap',\n            maxWidth: '180px'\n          }}\n        >\n          {value as string}\n        </Typography>\n      )\n    },\n    {\n      field: 'status',\n      header: 'Status',\n      sortable: true,\n      width: '140px',\n      minWidth: '140px',\n      render: (value) => {\n        const status = (value as string) || 'SUBMITTED';\n        const color = getStatusColor(status);\n        const variant = color === 'green' ? 'success' : color === 'red' ? 'danger' : color === 'orange' ? 'warning' : 'info';\n        return (\n          <Tag variant={variant}>\n            {status.replace('_', ' ')}\n          </Tag>\n        );\n      }\n    },\n    {\n      field: 'assignedTo',\n      header: 'Assigned To',\n      sortable: true,\n      width: '180px',\n      minWidth: '180px',\n      render: (value, row) => {\n        const assignedTo = (value as string) || \"Unassigned\";\n        const isAssigned = assignedTo !== \"Unassigned\" && assignedTo;\n        return (\n          <HStack gap=\"2\">\n            <Box\n              w=\"6\"\n              h=\"6\"\n              borderRadius=\"full\"\n              bg={isAssigned ? \"orange.200\" : \"gray.200\"}\n              display=\"flex\"\n              alignItems=\"center\"\n              justifyContent=\"center\"\n              flexShrink={0}\n            >\n              <IconWrapper><FiUser size={16} color={isAssigned ? \"#DD6B20\" : \"#9CA3AF\"} /></IconWrapper>\n            </Box>\n            <Typography \n              fontSize=\"sm\" \n              color={isAssigned ? \"gray.700\" : \"gray.500\"} \n              fontWeight=\"medium\"\n              style={{\n                overflow: 'hidden',\n                textOverflow: 'ellipsis',\n                whiteSpace: 'nowrap',\n                maxWidth: '150px'\n              }}\n            >\n              {assignedTo}\n            </Typography>\n          </HStack>\n        );\n      }\n    }\n  ];\n\n  if (loading) {\n    return (\n      <Flex minH=\"100vh\" bg=\"gray.50\">\n        <AdminSidebar />\n        <PortalHeader />\n        <Box \n          flex=\"1\" \n          ml={condensed ? \"72px\" : \"280px\"}\n          mt=\"90px\"\n          minH=\"calc(100vh - 90px)\" \n          width={condensed ? \"calc(100% - 72px)\" : \"calc(100% - 280px)\"}\n          bg=\"gray.50\" \n          overflowX=\"hidden\"\n        >\n          <Flex justify=\"center\" align=\"center\" h=\"400px\">\n            <VStack gap=\"4\">\n              <Spinner size=\"xl\" color=\"orange.500\" />\n              <Typography color=\"gray.600\">Loading applications...</Typography>\n            </VStack>\n          </Flex>\n        </Box>\n      </Flex>\n    );\n  }\n\n  return (\n    <Flex minH=\"100vh\" bg=\"gray.50\">\n      <AdminSidebar />\n      <PortalHeader />\n      \n      <Box \n        flex=\"1\" \n        ml={condensed ? \"72px\" : \"280px\"}\n        mt=\"90px\"\n        minH=\"calc(100vh - 90px)\" \n        width={condensed ? \"calc(100% - 72px)\" : \"calc(100% - 280px)\"}\n        bg=\"gray.50\" \n        overflowX=\"hidden\"\n        transition=\"margin-left 0.3s ease, width 0.3s ease\"\n      >\n        {/* Header Section */}\n        <Box bg=\"white\" borderBottom=\"1px\" borderColor=\"gray.200\" boxShadow=\"sm\" width=\"full\">\n          <Container maxW=\"100%\" px=\"8\" py=\"6\" width=\"full\">\n            <Flex justify=\"space-between\" align=\"center\" mb=\"4\">\n              <VStack align=\"start\" gap=\"2\">\n                <Typography fontSize=\"3xl\" fontWeight=\"bold\" color=\"gray.900\">\n                  Applications Management\n                </Typography>\n                <Typography fontSize=\"md\" color=\"gray.600\" fontWeight=\"normal\">\n                  Manage all partner and customer applications\n                </Typography>\n              </VStack>\n              <HStack gap=\"3\">\n                <Button \n                  variant=\"primary\"\n                  size=\"sm\"\n                  onClick={handleExport}\n                  disabled={exporting}\n                  className=\"mukuru-primary-button\"\n                >\n                  <IconWrapper>\n                    <FiDownload size={16} />\n                  </IconWrapper>\n                  {exporting ? 'Exporting...' : 'Export'}\n                </Button>\n              </HStack>\n            </Flex>\n          </Container>\n        </Box>\n\n        {/* Content Section */}\n        <Box flex=\"1\" bg=\"gray.50\" width=\"full\">\n          <Container maxW=\"100%\" px=\"8\" py=\"8\" width=\"full\">\n            <VStack gap=\"4\" align=\"stretch\" width=\"full\">\n              {/* Error Alert */}\n              {error && (\n                <AlertBar\n                  status=\"error\"\n                  title=\"Error loading applications\"\n                  description={error}\n                />\n              )}\n\n              {/* Status Filter Buttons */}\n              <HStack gap=\"2\" wrap=\"wrap\" mb=\"2\">\n                <Button\n                  size=\"sm\"\n                  variant=\"primary\"\n                  onClick={() => setStatusFilter('ALL')}\n                  borderRadius=\"lg\"\n                  className=\"mukuru-primary-button\"\n                  style={{\n                    opacity: statusFilter === 'ALL' ? 1 : 0.7\n                  }}\n                >\n                  All\n                </Button>\n                <Button\n                  size=\"sm\"\n                  variant=\"primary\"\n                  onClick={() => setStatusFilter('SUBMITTED')}\n                  borderRadius=\"lg\"\n                  className=\"mukuru-primary-button\"\n                  style={{\n                    opacity: statusFilter === 'SUBMITTED' ? 1 : 0.7\n                  }}\n                >\n                  Submitted\n                </Button>\n                <Button\n                  size=\"sm\"\n                  variant=\"primary\"\n                  onClick={() => setStatusFilter('IN_PROGRESS')}\n                  borderRadius=\"lg\"\n                  className=\"mukuru-primary-button\"\n                  style={{\n                    opacity: statusFilter === 'IN_PROGRESS' ? 1 : 0.7\n                  }}\n                >\n                  In Progress\n                </Button>\n                <Button\n                  size=\"sm\"\n                  variant=\"primary\"\n                  onClick={() => setStatusFilter('RISK_REVIEW')}\n                  borderRadius=\"lg\"\n                  className=\"mukuru-primary-button\"\n                  style={{\n                    opacity: statusFilter === 'RISK_REVIEW' ? 1 : 0.7\n                  }}\n                >\n                  Risk Review\n                </Button>\n                <Button\n                  size=\"sm\"\n                  variant=\"primary\"\n                  onClick={() => setStatusFilter('COMPLETE')}\n                  borderRadius=\"lg\"\n                  className=\"mukuru-primary-button\"\n                  style={{\n                    opacity: statusFilter === 'COMPLETE' ? 1 : 0.7\n                  }}\n                >\n                  Complete\n                </Button>\n                <Button\n                  size=\"sm\"\n                  variant=\"primary\"\n                  onClick={() => setStatusFilter('DECLINED')}\n                  borderRadius=\"lg\"\n                  className=\"mukuru-primary-button\"\n                  style={{\n                    opacity: statusFilter === 'DECLINED' ? 1 : 0.7\n                  }}\n                >\n                  Declined\n                </Button>\n              </HStack>\n\n              {/* Search Bar */}\n              <Box mb=\"4\" width=\"100%\">\n                <Box width=\"100%\" maxW=\"800px\">\n                  <Search\n                    placeholder=\"Search by company name or application ID...\"\n                    onSearchChange={handleSearchChange}\n                  />\n                </Box>\n              </Box>\n\n              {/* Applications Table */}\n              <Box \n                bg=\"white\" \n                borderRadius=\"xl\" \n                boxShadow=\"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)\"\n                border=\"1px solid\"\n                borderColor=\"gray.100\"\n                overflow=\"hidden\"\n                color=\"gray.900\"\n                className=\"work-queue-table-wrapper\"\n                width=\"100%\"\n              >\n            <DataTable\n              data={filteredApplications as unknown as Record<string, unknown>[]}\n              columns={columns as unknown as ColumnConfig<Record<string, unknown>>[]}\n              loading={loading}\n              emptyState={{\n                message: applications.length === 0 \n                  ? \"No applications found\" \n                  : \"No applications match your search criteria\",\n                content: (\n                  <VStack gap=\"4\">\n                    <IconWrapper><FiSearch size={48} color=\"#9CA3AF\" /></IconWrapper>\n                    <Typography fontSize=\"sm\" color=\"gray.500\">\n                      {applications.length === 0\n                        ? \"Applications will appear here once they are created\"\n                        : \"Try adjusting your search criteria or filters\"}\n                    </Typography>\n                  </VStack>\n                )\n              }}\n              showActions={true}\n              actionColumn={{\n                header: 'Actions',\n                width: '150px',\n                render: (row, index) => {\n                  const app = row as unknown as Application;\n                  return (\n                    <div style={{ display: \"flex\", gap: \"8px\", alignItems: \"center\", justifyContent: \"flex-end\" }}>\n                      <Tooltip content=\"View\" showArrow variant=\"light\">\n                        <Link href={`/applications/${app.id}`} style={{ textDecoration: 'none' }}>\n                          <button\n                            style={{\n                              background: \"none\",\n                              border: \"none\",\n                              padding: \"8px\",\n                              cursor: \"pointer\",\n                              color: \"#E8590C\",\n                              display: \"flex\",\n                              alignItems: \"center\",\n                              justifyContent: \"center\"\n                            }}\n                            aria-label=\"View\"\n                          >\n                            <IconWrapper><FiEye size={16} /></IconWrapper>\n                          </button>\n                        </Link>\n                      </Tooltip>\n                      <Tooltip content=\"Review\" showArrow variant=\"light\">\n                        <button\n                          style={{\n                            background: \"none\",\n                            border: \"none\",\n                            padding: \"8px\",\n                            cursor: \"pointer\",\n                            color: \"#E8590C\",\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\"\n                          }}\n                          onClick={async () => {\n                            try {\n                              const appWithWorkItem = row as unknown as Application & { workItemId?: string };\n                              const workItemId = appWithWorkItem.workItemId || appWithWorkItem.id;\n                              window.location.href = `/review/${workItemId}`;\n                            } catch (err) {\n                              console.error('Error navigating to review:', err);\n                              window.location.href = `/applications/${app.id}`;\n                            }\n                          }}\n                          aria-label=\"Review\"\n                        >\n                          <IconWrapper><FiShield size={16} /></IconWrapper>\n                        </button>\n                      </Tooltip>\n                    </div>\n                  );\n                }\n              }}\n              onRowClick={(row) => {\n                const app = row as unknown as Application;\n                window.location.href = `/applications/${app.id}`;\n              }}\n            />\n            </Box>\n            </VStack>\n          </Container>\n        </Box>\n      </Box>\n    </Flex>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}