{
  "version": 3,
  "sources": [],
  "debugId": "ca63900f-e4fb-9e73-a2f7-5fe5b6186e75",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/app/risk-review/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { \n  Box, \n  Container, \n  VStack, \n  HStack,\n  SimpleGrid,\n  Flex,\n  Spinner,\n  Textarea,\n  Avatar\n} from \"@chakra-ui/react\";\nimport { \n  Search, \n  Typography, \n  Button, \n  Tag, \n  Modal, \n  ModalHeader, \n  ModalBody, \n  ModalFooter, \n  IconWrapper, \n  AlertBar,\n  Card,\n  DataTable,\n  Tooltip\n} from \"@/lib/mukuruImports\";\nimport type { ColumnConfig } from \"@mukuru/mukuru-react-components\";\nimport { \n  FiShield, \n  FiAlertTriangle,\n  FiCheckCircle,\n  FiClock,\n  FiFlag,\n  FiAlertCircle,\n  FiEdit3,\n  FiFilter\n} from \"react-icons/fi\";\nimport { WarningIcon, ChevronRightIcon } from \"@/lib/mukuruImports\";\nimport { useState, useEffect, useCallback } from \"react\";\nimport AdminSidebar from \"../../components/AdminSidebar\";\nimport PortalHeader from \"../../components/PortalHeader\";\nimport { useSidebar } from \"../../contexts/SidebarContext\";\nimport { riskApiService, EnrichedRiskAssessment } from \"../../services/riskApi\";\nimport { fetchApplications, OnboardingCaseProjection } from \"../../services\";\nimport { logger } from \"../../lib/logger\";\nimport { useSession } from \"next-auth/react\";\nimport { useRouter } from \"next/navigation\";\n\ntype RiskAssessment = EnrichedRiskAssessment;\n\n// Extended type to include cases that need risk review\ninterface RiskReviewItem extends RiskAssessment {\n  needsAssessment?: boolean;\n  caseProjection?: OnboardingCaseProjection;\n}\n\ntype RiskFilter = 'ALL' | 'CRITICAL' | 'HIGH' | 'MEDIUM' | 'LOW';\n\nexport default function RiskReviewPage() {\n  const { data: session } = useSession();\n  const router = useRouter();\n  const { condensed } = useSidebar();\n  const [assessments, setAssessments] = useState<RiskReviewItem[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [riskFilter, setRiskFilter] = useState<RiskFilter>(\"ALL\");\n  const [classificationModalOpen, setClassificationModalOpen] = useState(false);\n  const [selectedAssessment, setSelectedAssessment] = useState<RiskReviewItem | null>(null);\n  const [selectedRiskLevel, setSelectedRiskLevel] = useState<string>(\"\");\n  const [justification, setJustification] = useState(\"\");\n  const [classifying, setClassifying] = useState(false);\n  const [creatingAssessment, setCreatingAssessment] = useState<string | null>(null);\n  const [refreshKey, setRefreshKey] = useState(0);\n\n  const loadRiskAssessments = useCallback(async (filter?: RiskFilter, searchQuery?: string) => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      console.log('[Risk Review Page] Loading risk assessments with filters:', {\n        riskLevel: filter || riskFilter,\n        search: searchQuery || searchTerm,\n      });\n      \n      const activeFilter = filter || riskFilter;\n      const filters: any = {};\n      if (activeFilter !== \"ALL\") {\n        let backendRiskLevel: string = activeFilter;\n        if (activeFilter === \"CRITICAL\") {\n          backendRiskLevel = \"High\";\n        } else if (activeFilter === \"HIGH\") {\n          backendRiskLevel = \"High\";\n        } else if (activeFilter === \"MEDIUM\") {\n          backendRiskLevel = \"Medium\";\n        } else if (activeFilter === \"LOW\") {\n          backendRiskLevel = \"Low\";\n        }\n        filters.riskLevel = backendRiskLevel;\n      }\n      \n      if (searchQuery && searchQuery.trim().length > 0) {\n        const looksLikeCaseId = /^[0-9a-f-]{8,}$/i.test(searchQuery.trim()) || searchQuery.trim().length >= 8;\n        if (looksLikeCaseId) {\n          filters.caseId = searchQuery.trim();\n        }\n      }\n      \n      const existingAssessments = await riskApiService.listRiskAssessments(filters);\n      \n      let casesNeedingReview: OnboardingCaseProjection[] = [];\n      if (activeFilter === \"ALL\" || !activeFilter) {\n        try {\n          // Use new service structure to fetch applications\n          const result = await fetchApplications(1, 1000, undefined, 'SUBMITTED');\n          const allCases = result.items.map(app => ({\n            id: app.id,\n            caseId: app.id,\n            businessLegalName: app.companyName,\n            applicantFirstName: '',\n            applicantLastName: '',\n            type: app.entityType,\n            status: app.status,\n            assignedTo: app.assignedTo,\n            assignedToName: app.assignedTo,\n            submittedAt: app.submittedDate,\n            createdAt: app.submittedDate,\n          } as OnboardingCaseProjection));\n          const assessmentCaseIds = new Set(existingAssessments.map(a => a.caseId.toLowerCase()));\n          casesNeedingReview = allCases.filter((caseItem: OnboardingCaseProjection) => {\n            const caseId = (caseItem.caseId || caseItem.id).toLowerCase();\n            return !assessmentCaseIds.has(caseId);\n          });\n        } catch (err) {\n          logger.warn(\"Failed to fetch cases needing review\", {\n            tags: { error_type: 'risk_review_fetch_error' },\n            extra: { error: err }\n          });\n        }\n      }\n      \n      const combinedItems: RiskReviewItem[] = [\n        ...existingAssessments.map(assessment => ({ ...assessment, needsAssessment: false })),\n        ...casesNeedingReview.map(caseItem => {\n          const caseId = caseItem.caseId || caseItem.id;\n          const companyName = caseItem.businessLegalName || \n                            `${caseItem.applicantFirstName || ''} ${caseItem.applicantLastName || ''}`.trim() ||\n                            'Unknown Company';\n          \n          return {\n            id: `pending-${caseId}`,\n            applicationId: caseId,\n            caseId: caseId,\n            companyName: companyName,\n            entityType: caseItem.type || 'Unknown',\n            riskLevel: 'UNKNOWN' as const,\n            riskScore: 0,\n            status: 'PENDING' as const,\n            assignedTo: caseItem.assignedToName || caseItem.assignedTo || 'Unassigned',\n            submittedDate: caseItem.submittedAt || caseItem.createdAt,\n            riskFactors: [],\n            recommendations: [],\n            needsAssessment: true,\n            caseProjection: caseItem\n          } as RiskReviewItem;\n        })\n      ];\n      \n      setAssessments(combinedItems);\n    } catch (err) {\n      console.error(\"[Risk Review Page] Failed to load risk assessments:\", err);\n      setError(err instanceof Error ? err.message : \"Failed to load risk assessments. Please ensure the backend services are running.\");\n      setAssessments([]);\n    } finally {\n      setLoading(false);\n    }\n  }, [riskFilter, searchTerm]);\n\n  useEffect(() => {\n    loadRiskAssessments();\n  }, [loadRiskAssessments, refreshKey]);\n\n  const handleSearchChange = useCallback((query: string) => {\n    setSearchTerm(query);\n    if (query.length === 0 || query.length >= 3) {\n      loadRiskAssessments(riskFilter, query);\n    }\n  }, [riskFilter, loadRiskAssessments]);\n\n  useEffect(() => {\n    loadRiskAssessments(riskFilter, searchTerm);\n  }, [riskFilter]);\n\n  const getRiskColor = (risk: string) => {\n    switch (risk) {\n      case 'LOW': return 'green';\n      case 'MEDIUM': return 'orange';\n      case 'HIGH': return 'red';\n      case 'CRITICAL': return 'red';\n      default: return 'gray';\n    }\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'PENDING': return 'orange';\n      case 'IN_REVIEW': return 'blue';\n      case 'APPROVED': return 'green';\n      case 'REJECTED': return 'red';\n      default: return 'gray';\n    }\n  };\n\n  const filteredAssessments = assessments.filter(assessment => {\n    const searchTermLower = searchTerm.toLowerCase();\n    const looksLikeCaseId = searchTerm.length > 0 && (/^[0-9a-f-]{8,}$/i.test(searchTerm.trim()) || searchTerm.trim().length >= 8);\n    \n    let matchesSearch = true;\n    if (searchTerm.length > 0 && !looksLikeCaseId) {\n      matchesSearch = assessment.companyName.toLowerCase().includes(searchTermLower) ||\n                     assessment.applicationId.toLowerCase().includes(searchTermLower);\n    }\n    \n    const matchesRisk = riskFilter === \"ALL\" || assessment.riskLevel === riskFilter;\n    return matchesSearch && matchesRisk;\n  });\n\n  const criticalCount = assessments.filter(a => a.riskLevel === 'CRITICAL').length;\n  const highCount = assessments.filter(a => a.riskLevel === 'HIGH').length;\n  const pendingCount = assessments.filter(a => {\n    const isUnknown = a.riskLevel === 'UNKNOWN' || !a.riskLevel;\n    return a.status === 'PENDING' || isUnknown || (a.status === 'IN_REVIEW' && isUnknown);\n  }).length;\n  const approvedCount = assessments.filter(a => a.status === 'APPROVED').length;\n\n  const columns: ColumnConfig<RiskReviewItem>[] = [\n    {\n      field: 'companyName',\n      header: 'Company Name',\n      width: '200px',\n      minWidth: '200px',\n      render: (value, row) => (\n        <Typography fontWeight=\"medium\" color=\"gray.800\">\n          {row.companyName}\n        </Typography>\n      ),\n    },\n    {\n      field: 'applicationId',\n      header: 'Application ID',\n      width: '150px',\n      minWidth: '150px',\n      render: (value, row) => (\n        <Typography color=\"gray.600\" fontSize=\"xs\">\n          {row.applicationId}\n        </Typography>\n      ),\n    },\n    {\n      field: 'entityType',\n      header: 'Entity Type',\n      width: '120px',\n      minWidth: '120px',\n      render: (value, row) => (\n        <Typography color=\"gray.700\">\n          {row.entityType}\n        </Typography>\n      ),\n    },\n    {\n      field: 'riskLevel',\n      header: 'Risk Level',\n      width: '140px',\n      minWidth: '140px',\n      render: (value, row) => (\n        row.riskLevel === 'UNKNOWN' || !row.riskLevel ? (\n          <Tag variant=\"inactive\">Not Assessed</Tag>\n        ) : (\n          <Tag variant={getRiskColor(row.riskLevel) === 'red' ? 'danger' : getRiskColor(row.riskLevel) === 'orange' ? 'warning' : 'info'}>\n            {row.riskLevel}\n          </Tag>\n        )\n      ),\n    },\n    {\n      field: 'status',\n      header: 'Status',\n      width: '120px',\n      minWidth: '120px',\n      render: (value, row) => (\n        <Tag variant={getStatusColor(row.status) === 'green' ? 'success' : getStatusColor(row.status) === 'red' ? 'danger' : getStatusColor(row.status) === 'orange' ? 'warning' : 'info'}>\n          {row.status.replace('_', ' ')}\n        </Tag>\n      ),\n    },\n    {\n      field: 'assignedTo',\n      header: 'Assigned To',\n      width: '140px',\n      minWidth: '140px',\n      render: (value, row) => (\n        <Typography color=\"gray.700\" fontSize=\"xs\">\n          {row.assignedTo}\n        </Typography>\n      ),\n    },\n    {\n      field: 'submittedDate',\n      header: 'Submitted',\n      width: '120px',\n      minWidth: '120px',\n      render: (value, row) => (\n        <Typography color=\"gray.600\" fontSize=\"xs\">\n          {new Date(row.submittedDate).toLocaleDateString()}\n        </Typography>\n      ),\n    },\n    {\n      field: 'riskScore',\n      header: 'Risk Score',\n      width: '120px',\n      minWidth: '120px',\n      render: (value, row) => (\n        row.riskLevel !== 'UNKNOWN' && row.riskLevel && row.riskScore > 0 ? (\n          <HStack gap=\"1\" align=\"center\">\n            <Typography fontSize=\"xs\" color=\"gray.600\" minW=\"35px\">\n              {row.riskScore}%\n            </Typography>\n            <Box flex=\"1\" height=\"6px\" bg=\"gray.200\" borderRadius=\"full\" overflow=\"hidden\">\n              <Box\n                width={`${row.riskScore}%`}\n                height=\"100%\"\n                bg={row.riskScore >= 80 ? 'red.400' : row.riskScore >= 60 ? 'orange.400' : row.riskScore >= 40 ? 'yellow.400' : 'green.400'}\n                borderRadius=\"full\"\n              />\n            </Box>\n          </HStack>\n        ) : (\n          <Typography fontSize=\"xs\" color=\"gray.400\" fontStyle=\"italic\">\n            N/A\n          </Typography>\n        )\n      ),\n    },\n  ];\n\n  const actionColumn = {\n    header: 'Actions',\n    width: '200px',\n    render: (row: RiskReviewItem) => (\n      <HStack gap=\"2\">\n        <Tooltip content=\"Review\">\n          <button\n            onClick={async () => {\n              try {\n                const workItemId = (row as any).workItemId || row.applicationId;\n                router.push(`/review/${workItemId}`);\n              } catch (err) {\n                console.error('Error navigating to review:', err);\n                router.push(`/applications/${row.applicationId}`);\n              }\n            }}\n            style={{\n              padding: '6px 12px',\n              borderRadius: '6px',\n              border: 'none',\n              backgroundColor: '#F05423',\n              color: 'white',\n              cursor: 'pointer',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '6px',\n            }}\n          >\n            <IconWrapper><FiShield size={14} /></IconWrapper>\n            Review\n          </button>\n        </Tooltip>\n        {row.needsAssessment ? (\n          <Tooltip content=\"Create Assessment\">\n            <button\n              onClick={async () => {\n                if (!row.caseProjection) return;\n                setCreatingAssessment(row.caseId);\n                try {\n                  await riskApiService.createRiskAssessment(\n                    row.caseId,\n                    row.caseProjection.partnerId\n                  );\n                  setRefreshKey(prev => prev + 1);\n                } catch (err) {\n                  console.error('Failed to create risk assessment:', err);\n                  alert('Failed to create risk assessment. Please try again.');\n                } finally {\n                  setCreatingAssessment(null);\n                }\n              }}\n              disabled={creatingAssessment === row.caseId}\n              style={{\n                padding: '6px 12px',\n                borderRadius: '6px',\n                border: '1px solid #E5E7EB',\n                backgroundColor: 'white',\n                color: '#111827',\n                cursor: creatingAssessment === row.caseId ? 'not-allowed' : 'pointer',\n                opacity: creatingAssessment === row.caseId ? 0.5 : 1,\n              }}\n            >\n              Create Assessment\n            </button>\n          </Tooltip>\n        ) : (\n          <Tooltip content={row.riskLevel === 'UNKNOWN' || !row.riskLevel ? 'Classify' : 'Update'}>\n            <button\n              onClick={() => {\n                setSelectedAssessment(row);\n                setSelectedRiskLevel(row.riskLevel || '');\n                setJustification('');\n                setClassificationModalOpen(true);\n              }}\n              style={{\n                padding: '6px 12px',\n                borderRadius: '6px',\n                border: '1px solid #E5E7EB',\n                backgroundColor: 'white',\n                color: '#111827',\n                cursor: 'pointer',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '6px',\n              }}\n            >\n              <IconWrapper><FiEdit3 size={14} /></IconWrapper>\n              {row.riskLevel === 'UNKNOWN' || !row.riskLevel ? 'Classify' : 'Update'}\n            </button>\n          </Tooltip>\n        )}\n      </HStack>\n    ),\n  };\n\n  return (\n    <Flex minH=\"100vh\" bg=\"gray.50\">\n      <AdminSidebar />\n      <Box \n        ml={condensed ? \"72px\" : \"280px\"} \n        mt=\"90px\" \n        minH=\"calc(100vh - 90px)\" \n        width={condensed ? \"calc(100% - 72px)\" : \"calc(100% - 280px)\"} \n        bg=\"gray.50\" \n        overflowX=\"hidden\" \n        transition=\"margin-left 0.3s ease, width 0.3s ease\"\n      >\n        <PortalHeader />\n        <Container maxW=\"100%\" px=\"8\" py=\"6\" width=\"full\">\n          <VStack gap=\"4\" align=\"stretch\">\n            {/* Header */}\n            <Flex justify=\"space-between\" align=\"center\" mb=\"4\">\n              <VStack align=\"start\" gap=\"1\">\n                <Typography fontSize=\"3xl\" fontWeight=\"bold\" color=\"gray.800\">\n                  Risk Review\n                </Typography>\n                <Typography color=\"gray.600\">\n                  Manually review and classify application risk levels\n                </Typography>\n              </VStack>\n              \n              <Button\n                variant=\"secondary\"\n                size=\"sm\"\n                onClick={() => {\n                  setRefreshKey(prev => prev + 1);\n                }}\n                className=\"mukuru-primary-button\"\n              >\n                <IconWrapper><FiFilter size={16} /></IconWrapper>\n                Refresh\n              </Button>\n            </Flex>\n\n            {/* Error Alert */}\n            {error && (\n              <AlertBar status=\"error\" title=\"Error loading risk assessments\">\n                {error}\n              </AlertBar>\n            )}\n\n            {/* Manual Review Notice */}\n            <AlertBar status=\"info\" title=\"Manual Risk Review Required\">\n              All risk classifications must be done manually by authorized personnel. No automatic risk scoring or classification is performed.\n            </AlertBar>\n\n            {/* Risk Summary Cards */}\n            <SimpleGrid columns={{ base: 1, md: 4 }} gap=\"4\">\n              <Card bg=\"white\" p=\"4\">\n                <Flex gap=\"4\" align=\"center\">\n                  <Avatar.Root bg=\"red.100\" size=\"md\" display=\"flex\" alignItems=\"center\" justifyContent=\"center\">\n                    <IconWrapper><FiAlertTriangle size={20} color=\"#E53E3E\" /></IconWrapper>\n                  </Avatar.Root>\n                  <VStack align=\"start\" gap=\"0\" flex=\"1\">\n                    <Typography fontSize=\"sm\" color=\"gray.600\">Critical Risk</Typography>\n                    <Typography fontSize=\"30px\" fontWeight=\"bold\" color=\"red.600\" fontFamily=\"Madera, sans-serif\">\n                      {criticalCount}\n                    </Typography>\n                  </VStack>\n                  <ChevronRightIcon />\n                </Flex>\n              </Card>\n              \n              <Card bg=\"white\" p=\"4\">\n                <Flex gap=\"4\" align=\"center\">\n                  <Avatar.Root bg=\"orange.100\" size=\"md\" display=\"flex\" alignItems=\"center\" justifyContent=\"center\">\n                    <IconWrapper><FiFlag size={20} color=\"#DD6B20\" /></IconWrapper>\n                  </Avatar.Root>\n                  <VStack align=\"start\" gap=\"0\" flex=\"1\">\n                    <Typography fontSize=\"sm\" color=\"gray.600\">High Risk</Typography>\n                    <Typography fontSize=\"30px\" fontWeight=\"bold\" color=\"orange.600\" fontFamily=\"Madera, sans-serif\">\n                      {highCount}\n                    </Typography>\n                  </VStack>\n                  <ChevronRightIcon />\n                </Flex>\n              </Card>\n              \n              <Card bg=\"white\" p=\"4\">\n                <Flex gap=\"4\" align=\"center\">\n                  <Avatar.Root bg=\"blue.100\" size=\"md\" display=\"flex\" alignItems=\"center\" justifyContent=\"center\">\n                    <IconWrapper><FiClock size={20} color=\"#3182CE\" /></IconWrapper>\n                  </Avatar.Root>\n                  <VStack align=\"start\" gap=\"0\" flex=\"1\">\n                    <Typography fontSize=\"sm\" color=\"gray.600\">Pending Manual Review</Typography>\n                    <Typography fontSize=\"30px\" fontWeight=\"bold\" color=\"blue.600\" fontFamily=\"Madera, sans-serif\">\n                      {pendingCount}\n                    </Typography>\n                  </VStack>\n                  <ChevronRightIcon />\n                </Flex>\n              </Card>\n              \n              <Card bg=\"white\" p=\"4\">\n                <Flex gap=\"4\" align=\"center\">\n                  <Avatar.Root bg=\"green.100\" size=\"md\" display=\"flex\" alignItems=\"center\" justifyContent=\"center\">\n                    <IconWrapper><FiCheckCircle size={20} color=\"#38A169\" /></IconWrapper>\n                  </Avatar.Root>\n                  <VStack align=\"start\" gap=\"0\" flex=\"1\">\n                    <Typography fontSize=\"sm\" color=\"gray.600\">Approved</Typography>\n                    <Typography fontSize=\"30px\" fontWeight=\"bold\" color=\"green.600\" fontFamily=\"Madera, sans-serif\">\n                      {approvedCount}\n                    </Typography>\n                  </VStack>\n                  <ChevronRightIcon />\n                </Flex>\n              </Card>\n            </SimpleGrid>\n\n            {/* Risk Filter Buttons */}\n            <HStack gap=\"2\" mb=\"2\">\n              {(['ALL', 'CRITICAL', 'HIGH', 'MEDIUM', 'LOW'] as RiskFilter[]).map((filter) => (\n                <Button\n                  key={filter}\n                  variant=\"primary\"\n                  onClick={() => setRiskFilter(filter)}\n                  className=\"mukuru-primary-button\"\n                  style={{ opacity: riskFilter === filter ? 1 : 0.7 }}\n                >\n                  {filter === 'ALL' ? 'All' : filter}\n                </Button>\n              ))}\n            </HStack>\n\n            {/* Search Bar */}\n            <Box width=\"100%\" maxW=\"800px\">\n              <Search\n                placeholder=\"Search by company name or application ID...\"\n                onSearchChange={handleSearchChange}\n              />\n            </Box>\n\n            {/* Risk Assessments Table */}\n            <Box className=\"work-queue-table-wrapper\" width=\"100%\">\n              <DataTable\n                data={filteredAssessments as unknown as Record<string, unknown>[]}\n                columns={columns as unknown as ColumnConfig<Record<string, unknown>>[]}\n                actionColumn={actionColumn as unknown as { header?: string; width?: string; render: (row: Record<string, unknown>, index: number) => React.ReactNode }}\n                loading={loading}\n              />\n            </Box>\n          </VStack>\n        </Container>\n      </Box>\n\n      {/* Manual Risk Classification Modal */}\n      <Modal\n        isOpen={classificationModalOpen}\n        onClose={() => {\n          setClassificationModalOpen(false);\n          setSelectedAssessment(null);\n          setSelectedRiskLevel('');\n          setJustification('');\n        }}\n        title=\"Classify Risk Level\"\n        size=\"small\"\n        closeOnBackdropClick={true}\n        closeOnEsc={true}\n      >\n        <ModalHeader>\n          <HStack gap=\"3\" align=\"center\">\n            <IconWrapper><FiShield size={20} color=\"#FB923C\" /></IconWrapper>\n            <VStack align=\"start\" gap=\"0\">\n              <Typography fontSize=\"lg\" fontWeight=\"700\">\n                Classify Risk Level\n              </Typography>\n              <Typography fontSize=\"sm\" color=\"gray.600\">\n                Manually set the risk classification for this application\n              </Typography>\n            </VStack>\n          </HStack>\n        </ModalHeader>\n        <ModalBody>\n          <VStack gap=\"5\" align=\"stretch\">\n            <Box>\n              <Typography fontSize=\"sm\" fontWeight=\"medium\" color=\"gray.700\" mb=\"2\">\n                Application\n              </Typography>\n              <Typography fontSize=\"sm\" color=\"gray.600\">\n                {selectedAssessment?.companyName || selectedAssessment?.applicationId}\n              </Typography>\n            </Box>\n\n            <Box>\n              <Typography fontSize=\"sm\" fontWeight=\"medium\" color=\"gray.700\" mb=\"2\">\n                Risk Level <Typography as=\"span\" color=\"red.500\">*</Typography>\n              </Typography>\n              <select\n                value={selectedRiskLevel}\n                onChange={(e: React.ChangeEvent<HTMLSelectElement>) => setSelectedRiskLevel(e.target.value)}\n                style={{\n                  width: '100%',\n                  padding: '8px 12px',\n                  fontSize: '14px',\n                  borderRadius: '6px',\n                  border: '1px solid #E2E8F0',\n                  backgroundColor: 'white',\n                  cursor: 'pointer'\n                }}\n              >\n                <option value=\"\">Select risk level</option>\n                <option value=\"LOW\">Low Risk</option>\n                <option value=\"MEDIUM\">Medium Risk</option>\n                <option value=\"HIGH\">High Risk</option>\n                <option value=\"CRITICAL\">Critical Risk</option>\n              </select>\n            </Box>\n\n            <Box>\n              <Typography fontSize=\"sm\" fontWeight=\"medium\" color=\"gray.700\" mb=\"2\">\n                Justification <Typography as=\"span\" color=\"red.500\">*</Typography>\n              </Typography>\n              <Textarea\n                value={justification}\n                onChange={(e) => setJustification(e.target.value)}\n                placeholder=\"Provide justification for this risk classification...\"\n                rows={4}\n                resize=\"vertical\"\n              />\n              <Typography fontSize=\"xs\" color=\"gray.500\" mt=\"1\">\n                This justification will be recorded in the audit trail\n              </Typography>\n            </Box>\n          </VStack>\n        </ModalBody>\n        <ModalFooter>\n          <HStack gap=\"3\" justify=\"flex-end\">\n            <Button\n              variant=\"secondary\"\n              onClick={() => {\n                setClassificationModalOpen(false);\n                setSelectedAssessment(null);\n                setSelectedRiskLevel('');\n                setJustification('');\n              }}\n            >\n              Cancel\n            </Button>\n            <Button\n              variant=\"primary\"\n              className=\"mukuru-primary-button\"\n              onClick={async () => {\n                if (!selectedAssessment || !selectedRiskLevel || !justification.trim()) {\n                  return;\n                }\n                \n                setClassifying(true);\n                try {\n                  await riskApiService.setManualRiskLevel(\n                    selectedAssessment.id,\n                    selectedRiskLevel,\n                    justification\n                  );\n                  setClassificationModalOpen(false);\n                  setSelectedAssessment(null);\n                  setSelectedRiskLevel('');\n                  setJustification('');\n                  setRefreshKey(prev => prev + 1);\n                } catch (err) {\n                  console.error('Failed to classify risk:', err);\n                  alert('Failed to classify risk. Please try again.');\n                } finally {\n                  setClassifying(false);\n                }\n              }}\n              disabled={classifying || !selectedRiskLevel || !justification.trim()}\n            >\n              Classify Risk\n            </Button>\n          </HStack>\n        </ModalFooter>\n      </Modal>\n    </Flex>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}