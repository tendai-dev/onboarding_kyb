;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="6a67de69-c57f-7b56-9294-bd4d96b9c02e")}catch(e){}}();
module.exports=[556704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},832319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},120635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},909270,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored.contexts.AppRouterContext},736313,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored.contexts.HooksClientContext},818341,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored.contexts.ServerInsertedHtml},738783,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored["react-ssr"].ReactServerDOMTurbopackClient},992539,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944);a.i(525985);var e=a.i(862760),f=a.i(676851),g=a.i(508010),h=a.i(201526),i=a.i(438452),j=a.i(327382),k=a.i(535895),l=a.i(804871),m=a.i(585425),n=a.i(883970),o=a.i(247290),p=a.i(173029);function q(){let a=(0,d.usePathname)(),q=(0,d.useRouter)(),{condensed:r,setCondensed:s}=(0,p.useSidebar)(),[t,u]=(0,c.useState)("dashboard");(0,c.useEffect)(()=>{"/dashboard"===a?u("dashboard"):a?.startsWith("/work-queue")?u("work-queue"):a?.startsWith("/applications")?u("applications"):a?.startsWith("/review")||a?.startsWith("/risk-review")||a?.startsWith("/approvals")?u("reviews"):a?.startsWith("/documents")?u("documents"):a?.startsWith("/requirements")?u("requirements"):a?.startsWith("/entity-types")?u("entity-types"):a?.startsWith("/checklists")?u("checklists"):a?.startsWith("/wizard-configurations")?u("wizard-configurations"):a?.startsWith("/rules-and-permissions")?u("rules-and-permissions"):a?.startsWith("/audit-log")?u("audit-log"):a?.startsWith("/messages")?u("messages"):a?.startsWith("/notifications")?u("notifications"):a?.startsWith("/data-migration")?u("data-migration"):a?.startsWith("/refreshes")?u("refreshes"):a?.startsWith("/reports")?u("reports"):a?.startsWith("/profile")?u("profile"):a?.startsWith("/settings")&&u("settings")},[a]);let v=(0,c.useMemo)(()=>[{id:"dashboard",label:"Dashboard",icon:(0,b.jsx)(f.ProductIcon,{width:"20",height:"20"}),onClick:()=>{u("dashboard"),q.push("/dashboard")}},{id:"work-queue",label:"Work Queue",icon:(0,b.jsx)(m.FilterIcon,{width:"20",height:"20"}),onClick:()=>{u("work-queue"),q.push("/work-queue")}},{id:"applications",label:"Applications",icon:(0,b.jsx)(k.AppIcon,{width:"20",height:"20"}),onClick:()=>{u("applications"),q.push("/applications")}},{id:"reviews",label:"Reviews",icon:(0,b.jsx)(h.DocumentIcon,{width:"20",height:"20"}),onClick:()=>{u("reviews"),q.push("/review")},subItems:[{id:"risk-review",label:"Risk Review",onClick:()=>{u("reviews"),q.push("/risk-review")}},{id:"approvals",label:"Approvals",onClick:()=>{u("reviews"),q.push("/approvals")}}]},{id:"documents",label:"Documents",icon:(0,b.jsx)(l.FileOpenIcon,{width:"20",height:"20"}),onClick:()=>{u("documents"),q.push("/documents")}},{id:"configuration",label:"Configuration",icon:(0,b.jsx)(i.SettingsIcon,{width:"20",height:"20"}),onClick:()=>{u("configuration"),q.push("/requirements")},subItems:[{id:"requirements",label:"Requirements",onClick:()=>{u("configuration"),q.push("/requirements")}},{id:"entity-types",label:"Entity Types",onClick:()=>{u("configuration"),q.push("/entity-types")}},{id:"checklists",label:"Checklists",onClick:()=>{u("configuration"),q.push("/checklists")}},{id:"wizard-configurations",label:"Wizard Configurations",onClick:()=>{u("configuration"),q.push("/wizard-configurations")}},{id:"rules-and-permissions",label:"Rules & Permissions",onClick:()=>{u("configuration"),q.push("/rules-and-permissions")}}]},{id:"system",label:"System",icon:(0,b.jsx)(n.WarningIcon,{width:"20",height:"20"}),onClick:()=>{u("system"),q.push("/audit-log")},subItems:[{id:"audit-log",label:"Audit Log",onClick:()=>{u("system"),q.push("/audit-log")}},{id:"messages",label:"Messages",onClick:()=>{u("system"),q.push("/messages")}},{id:"notifications",label:"Notifications",onClick:()=>{u("system"),q.push("/notifications")}},{id:"data-migration",label:"Data Migration",onClick:()=>{u("system"),q.push("/data-migration")}},{id:"refreshes",label:"Refreshes",onClick:()=>{u("system"),q.push("/refreshes")}}]},{id:"reports",label:"Reports",icon:(0,b.jsx)(h.DocumentIcon,{width:"20",height:"20"}),onClick:()=>{u("reports"),q.push("/reports")}},{id:"profile",label:"Profile",icon:(0,b.jsx)(g.UserIcon,{width:"20",height:"20"}),onClick:()=>{u("profile"),q.push("/profile")}}],[q]),w={id:"help-centre",label:"Help Centre",icon:(0,b.jsx)(j.HelpIcon,{width:"20",height:"20"}),onClick:()=>{console.log("Help Centre")}};return(0,b.jsx)(o.Box,{position:"fixed",left:"0",top:"0",height:"100vh",width:r?"72px":"280px",borderRight:"1px solid",borderColor:"rgba(55, 58, 54, 0.15)",zIndex:"1000",className:"sidebar-wrapper",bg:"#F9FAFB",overflowY:"auto",transition:"width 0.3s ease",children:(0,b.jsx)(e.PortalNavigationSidebar,{navigationItems:v,helpCentreItem:w,activeItemId:t,condensed:r,onToggleCollapse:s,onLogoClick:()=>{u("dashboard"),q.push("/dashboard")},expandedWidth:"280px",condensedWidth:"72px"})})}a.s(["default",()=>q])},566701,a=>{"use strict";let{withContext:b,PropsProvider:c}=(0,a.i(472292).createRecipeContext)({key:"container"}),d=b("div");a.s(["Container",()=>d])},305856,a=>{"use strict";var b=a.i(187924),c=a.i(50944),d=a.i(718402);a.i(525985);var e=a.i(376978),f=a.i(138340),g=a.i(247290),h=a.i(688294),i=a.i(397225),j=a.i(394761),k=a.i(727348),l=a.i(173029);function m(){let a=(0,c.useRouter)(),{data:m}=(0,d.useSession)(),{condensed:n,setCondensed:o}=(0,l.useSidebar)(),p=m?.user?.name||"Admin",q=m?.user?.email||"admin@mukuru.com";return p.split(" ")[0]?.toLowerCase(),(0,b.jsx)(g.Box,{position:"fixed",top:"0",left:n?"72px":"280px",right:"0",height:"90px",bg:"white",zIndex:"999",px:"6",py:"4",pl:"6",transition:"left 0.3s ease, width 0.3s ease",className:"portal-header",borderBottom:"1px solid",borderColor:"rgba(55, 58, 54, 0.15)",children:(0,b.jsxs)(i.Flex,{justify:"space-between",align:"center",width:"full",height:"full",children:[(0,b.jsx)(h.HStack,{gap:"4",align:"center",children:(0,b.jsx)(j.Button,{variant:"ghost",onClick:()=>o(!n),p:"2",borderRadius:"full",minW:"40px",h:"40px",bg:"gray.100",_hover:{bg:"gray.200"},"aria-label":"Toggle sidebar",border:"none",_focus:{boxShadow:"none",outline:"none"},_active:{bg:"gray.200"},children:(0,b.jsx)(f.IconWrapper,{children:(0,b.jsx)(k.FiArrowLeft,{size:20,color:"#F05423"})})})}),(0,b.jsx)(h.HStack,{gap:"4",align:"center",children:(0,b.jsx)(e.ProfileMenu,{user:p,menuItems:[{id:0,label:q,value:"email"},{id:1,label:"My Profile",value:"profile",onSelect:()=>a.push("/profile")},{id:2,label:"Settings",value:"settings",onSelect:()=>a.push("/settings")},{id:3,label:"Log Out",value:"logout",onSelect:()=>a.push("/api/auth/logout")}]})})]})})}a.s(["default",()=>m])},740142,a=>{"use strict";var b=a.i(187924),c=a.i(247290),d=a.i(566701),e=a.i(480916),f=a.i(688294),g=a.i(397225),h=a.i(15631);a.i(525985);var i=a.i(492180),j=a.i(790355),k=a.i(831551),l=a.i(200610),m=a.i(259580),n=a.i(138340),o=a.i(652167),p=a.i(937859),q=a.i(238246),r=a.i(727348),s=a.i(572131),t=a.i(992539),u=a.i(305856),v=a.i(173029);a.i(95688);var w=a.i(502868),x=a.i(255145);function y(){let{condensed:a}=(0,v.useSidebar)(),[y,z]=(0,s.useState)([]),[A,B]=(0,s.useState)(!0),[C,D]=(0,s.useState)(null),[E,F]=(0,s.useState)(""),[G,H]=(0,s.useState)("ALL"),[I,J]=(0,s.useState)(!1),K=(0,s.useCallback)(async a=>{try{B(!0),D(null),x.logger.debug("[Applications Page] Loading applications with filters",{status:G,search:a||E});let b=await (0,w.fetchApplications)(1,1e3,a||E||void 0,"ALL"!==G?G:void 0);x.logger.debug("[Applications Page] Applications loaded",{count:b.items.length}),z(b.items)}catch(a){x.logger.error(a,"[Applications Page] Error loading applications",{tags:{error_type:"applications_load_error"}}),D(a instanceof Error?a.message:"Failed to load applications. Please ensure backend services are running."),z([])}finally{B(!1)}},[G,E]),L=(0,s.useCallback)(a=>{F(a)},[]);(0,s.useEffect)(()=>{K()},[G,E,K]);let M=async()=>{try{J(!0);let a=await (0,w.exportApplications)({status:"ALL"!==G?G:void 0,search:E||void 0}),b=window.URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download=`applications_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(b),document.body.removeChild(c)}catch(a){x.logger.error(a,"Error exporting applications",{tags:{error_type:"applications_export_error"}}),D(a instanceof Error?a.message:"Failed to export applications")}finally{J(!1)}},N=y.filter(a=>{let b=a.companyName.toLowerCase().includes(E.toLowerCase())||a.id.toLowerCase().includes(E.toLowerCase()),c="ALL"===G||a.status===G;return b&&c}),O=[{field:"companyName",header:"Company Name",sortable:!0,width:"250px",minWidth:"250px",render:(a,c)=>(0,b.jsx)(k.Typography,{fontWeight:"semibold",color:"gray.800",fontSize:"sm",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"200px"},children:a})},{field:"id",header:"Application ID",sortable:!0,width:"200px",minWidth:"200px",render:a=>(0,b.jsx)(k.Typography,{fontSize:"sm",color:"gray.600",fontFamily:"mono",fontWeight:"medium",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"180px"},children:a})},{field:"status",header:"Status",sortable:!0,width:"140px",minWidth:"140px",render:a=>{let c=a||"SUBMITTED",d=(a=>{switch(a){case"SUBMITTED":return"blue";case"IN_PROGRESS":return"orange";case"RISK_REVIEW":case"DECLINED":return"red";case"COMPLETE":return"green";default:return"gray"}})(c);return(0,b.jsx)(m.Tag,{variant:"green"===d?"success":"red"===d?"danger":"orange"===d?"warning":"info",children:c.replace("_"," ")})}},{field:"assignedTo",header:"Assigned To",sortable:!0,width:"180px",minWidth:"180px",render:(a,d)=>{let e=a||"Unassigned",g="Unassigned"!==e&&e;return(0,b.jsxs)(f.HStack,{gap:"2",children:[(0,b.jsx)(c.Box,{w:"6",h:"6",borderRadius:"full",bg:g?"orange.200":"gray.200",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,children:(0,b.jsx)(n.IconWrapper,{children:(0,b.jsx)(r.FiUser,{size:16,color:g?"#DD6B20":"#9CA3AF"})})}),(0,b.jsx)(k.Typography,{fontSize:"sm",color:g?"gray.700":"gray.500",fontWeight:"medium",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"150px"},children:e})]})}}];return A?(0,b.jsxs)(g.Flex,{minH:"100vh",bg:"gray.50",children:[(0,b.jsx)(t.default,{}),(0,b.jsx)(u.default,{}),(0,b.jsx)(c.Box,{flex:"1",ml:a?"72px":"280px",mt:"90px",minH:"calc(100vh - 90px)",width:a?"calc(100% - 72px)":"calc(100% - 280px)",bg:"gray.50",overflowX:"hidden",children:(0,b.jsx)(g.Flex,{justify:"center",align:"center",h:"400px",children:(0,b.jsxs)(e.VStack,{gap:"4",children:[(0,b.jsx)(h.Spinner,{size:"xl",color:"orange.500"}),(0,b.jsx)(k.Typography,{color:"gray.600",children:"Loading applications..."})]})})})]}):(0,b.jsxs)(g.Flex,{minH:"100vh",bg:"gray.50",children:[(0,b.jsx)(t.default,{}),(0,b.jsx)(u.default,{}),(0,b.jsxs)(c.Box,{flex:"1",ml:a?"72px":"280px",mt:"90px",minH:"calc(100vh - 90px)",width:a?"calc(100% - 72px)":"calc(100% - 280px)",bg:"gray.50",overflowX:"hidden",transition:"margin-left 0.3s ease, width 0.3s ease",children:[(0,b.jsx)(c.Box,{bg:"white",borderBottom:"1px",borderColor:"gray.200",boxShadow:"sm",width:"full",children:(0,b.jsx)(d.Container,{maxW:"100%",px:"8",py:"6",width:"full",children:(0,b.jsxs)(g.Flex,{justify:"space-between",align:"center",mb:"4",children:[(0,b.jsxs)(e.VStack,{align:"start",gap:"2",children:[(0,b.jsx)(k.Typography,{fontSize:"3xl",fontWeight:"bold",color:"gray.900",children:"Applications Management"}),(0,b.jsx)(k.Typography,{fontSize:"md",color:"gray.600",fontWeight:"normal",children:"Manage all partner and customer applications"})]}),(0,b.jsx)(f.HStack,{gap:"3",children:(0,b.jsxs)(i.Button,{variant:"primary",size:"sm",onClick:M,disabled:I,className:"mukuru-primary-button",children:[(0,b.jsx)(n.IconWrapper,{children:(0,b.jsx)(r.FiDownload,{size:16})}),I?"Exporting...":"Export"]})})]})})}),(0,b.jsx)(c.Box,{flex:"1",bg:"gray.50",width:"full",children:(0,b.jsx)(d.Container,{maxW:"100%",px:"8",py:"8",width:"full",children:(0,b.jsxs)(e.VStack,{gap:"4",align:"stretch",width:"full",children:[C&&(0,b.jsx)(o.AlertBar,{status:"error",title:"Error loading applications",description:C}),(0,b.jsxs)(f.HStack,{gap:"2",wrap:"wrap",mb:"2",children:[(0,b.jsx)(i.Button,{size:"sm",variant:"primary",onClick:()=>H("ALL"),borderRadius:"lg",className:"mukuru-primary-button",style:{opacity:"ALL"===G?1:.7},children:"All"}),(0,b.jsx)(i.Button,{size:"sm",variant:"primary",onClick:()=>H("SUBMITTED"),borderRadius:"lg",className:"mukuru-primary-button",style:{opacity:"SUBMITTED"===G?1:.7},children:"Submitted"}),(0,b.jsx)(i.Button,{size:"sm",variant:"primary",onClick:()=>H("IN_PROGRESS"),borderRadius:"lg",className:"mukuru-primary-button",style:{opacity:"IN_PROGRESS"===G?1:.7},children:"In Progress"}),(0,b.jsx)(i.Button,{size:"sm",variant:"primary",onClick:()=>H("RISK_REVIEW"),borderRadius:"lg",className:"mukuru-primary-button",style:{opacity:"RISK_REVIEW"===G?1:.7},children:"Risk Review"}),(0,b.jsx)(i.Button,{size:"sm",variant:"primary",onClick:()=>H("COMPLETE"),borderRadius:"lg",className:"mukuru-primary-button",style:{opacity:"COMPLETE"===G?1:.7},children:"Complete"}),(0,b.jsx)(i.Button,{size:"sm",variant:"primary",onClick:()=>H("DECLINED"),borderRadius:"lg",className:"mukuru-primary-button",style:{opacity:"DECLINED"===G?1:.7},children:"Declined"})]}),(0,b.jsx)(c.Box,{mb:"4",width:"100%",children:(0,b.jsx)(c.Box,{width:"100%",maxW:"800px",children:(0,b.jsx)(j.Search,{placeholder:"Search by company name or application ID...",onSearchChange:L})})}),(0,b.jsx)(c.Box,{bg:"white",borderRadius:"xl",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",border:"1px solid",borderColor:"gray.100",overflow:"hidden",color:"gray.900",className:"work-queue-table-wrapper",width:"100%",children:(0,b.jsx)(l.DataTable,{data:N,columns:O,loading:A,emptyState:{message:0===y.length?"No applications found":"No applications match your search criteria",content:(0,b.jsxs)(e.VStack,{gap:"4",children:[(0,b.jsx)(n.IconWrapper,{children:(0,b.jsx)(r.FiSearch,{size:48,color:"#9CA3AF"})}),(0,b.jsx)(k.Typography,{fontSize:"sm",color:"gray.500",children:0===y.length?"Applications will appear here once they are created":"Try adjusting your search criteria or filters"})]})},showActions:!0,actionColumn:{header:"Actions",width:"150px",render:(a,c)=>(0,b.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center",justifyContent:"flex-end"},children:[(0,b.jsx)(p.Tooltip,{content:"View",showArrow:!0,variant:"light",children:(0,b.jsx)(q.default,{href:`/applications/${a.id}`,style:{textDecoration:"none"},children:(0,b.jsx)("button",{style:{background:"none",border:"none",padding:"8px",cursor:"pointer",color:"#E8590C",display:"flex",alignItems:"center",justifyContent:"center"},"aria-label":"View",children:(0,b.jsx)(n.IconWrapper,{children:(0,b.jsx)(r.FiEye,{size:16})})})})}),(0,b.jsx)(p.Tooltip,{content:"Review",showArrow:!0,variant:"light",children:(0,b.jsx)("button",{style:{background:"none",border:"none",padding:"8px",cursor:"pointer",color:"#E8590C",display:"flex",alignItems:"center",justifyContent:"center"},onClick:async()=>{try{let b=a.workItemId||a.id;window.location.href=`/review/${b}`}catch(b){x.logger.error(b,"Error navigating to review",{tags:{error_type:"navigation_error"}}),window.location.href=`/applications/${a.id}`}},"aria-label":"Review",children:(0,b.jsx)(n.IconWrapper,{children:(0,b.jsx)(r.FiShield,{size:16})})})})]})},onRowClick:a=>{window.location.href=`/applications/${a.id}`}})})]})})})]})]})}a.s(["default",()=>y])},476428,a=>{a.v(b=>Promise.all(["server/chunks/ssr/src_services_utils_csvExport_ts_5ff67e85._.js"].map(b=>a.l(b))).then(()=>b(872194)))},639567,a=>{a.v(a=>Promise.resolve().then(()=>a(292939)))}];

//# debugId=6a67de69-c57f-7b56-9294-bd4d96b9c02e
//# sourceMappingURL=%5Broot-of-the-server%5D__5d4ac9ae._.js.map