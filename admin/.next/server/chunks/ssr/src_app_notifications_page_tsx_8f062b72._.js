;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="6dace5c2-8caa-9dbf-c095-a5ebd9676084")}catch(e){}}();
module.exports=[1116,a=>{"use strict";var b=a.i(187924),c=a.i(247290),d=a.i(566701),e=a.i(480916),f=a.i(688294),g=a.i(332938),h=a.i(397225),i=a.i(15631),j=a.i(154462);a.i(525985);var k=a.i(790355),l=a.i(831551),m=a.i(492180),n=a.i(259580),o=a.i(138340),p=a.i(727348),q=a.i(572131),r=a.i(992539);function s(){let[a,s]=(0,q.useState)([]),[t,u]=(0,q.useState)([]),[v,w]=(0,q.useState)(!0),[x,y]=(0,q.useState)(""),[z,A]=(0,q.useState)("ALL"),[B,C]=(0,q.useState)(null),[D,E]=(0,q.useState)(!1);(0,q.useEffect)(()=>{setTimeout(()=>{s([{id:"NOTIF-001",name:"Application Submitted",type:"EMAIL",trigger:"Application submitted by partner/customer",description:"Notify admin team when new application is submitted",isActive:!0,recipients:["admin@mukuru.com","onboarding@mukuru.com"],template:"New application submitted by {{companyName}} for {{entityType}}",lastSent:"2024-01-15T10:30:00Z",frequency:"IMMEDIATE"},{id:"NOTIF-002",name:"High Risk Alert",type:"EMAIL",trigger:"High risk application detected",description:"Alert senior management for high-risk applications",isActive:!0,recipients:["senior@mukuru.com","risk@mukuru.com"],template:"URGENT: High risk application {{applicationId}} requires immediate review",lastSent:"2024-01-14T15:45:00Z",frequency:"IMMEDIATE"},{id:"NOTIF-003",name:"Overdue Refresh",type:"EMAIL",trigger:"Partner refresh is overdue",description:"Notify assigned admin when partner refresh is overdue",isActive:!0,recipients:["admin@mukuru.com"],template:"Partner {{companyName}} refresh is overdue by {{daysOverdue}} days",frequency:"DAILY"},{id:"NOTIF-004",name:"Data Protection Alert",type:"EMAIL",trigger:"High risk partner requires DP review",description:"Notify Data Protection team for high-risk partners",isActive:!0,recipients:["ddhrp@mukuru.com"],template:"High risk partner {{companyName}} requires Data Protection review",lastSent:"2024-01-13T09:15:00Z",frequency:"IMMEDIATE"},{id:"NOTIF-005",name:"Commercial Manager Update",type:"EMAIL",trigger:"Partner progress update",description:"Weekly update to commercial managers on their partners",isActive:!0,recipients:["commercial@mukuru.com"],template:"Weekly partner progress report for {{managerName}}",frequency:"WEEKLY"}]),u([{id:"RULE-001",name:"Critical Risk Notification",condition:"riskLevel == 'CRITICAL'",action:"Send email to senior management",isActive:!0,priority:"URGENT",lastTriggered:"2024-01-14T15:45:00Z"},{id:"RULE-002",name:"Overdue Application",condition:"applicationAge > 30 days AND status == 'PENDING'",action:"Send reminder to assigned admin",isActive:!0,priority:"HIGH",lastTriggered:"2024-01-15T08:00:00Z"},{id:"RULE-003",name:"Document Missing",condition:"requiredDocuments < totalRequiredDocuments",action:"Send notification to partner",isActive:!0,priority:"MEDIUM",lastTriggered:"2024-01-15T14:20:00Z"}]),w(!1)},1e3)},[]);let F=a=>{switch(a){case"EMAIL":return"blue";case"SYSTEM":return"green";case"SMS":return"purple";default:return"gray"}},G=a=>{switch(a){case"IMMEDIATE":return"red";case"DAILY":return"orange";case"WEEKLY":return"blue";case"MONTHLY":return"green";default:return"gray"}},H=a=>{switch(a){case"URGENT":return"red";case"HIGH":return"orange";case"MEDIUM":return"blue";case"LOW":return"green";default:return"gray"}},I=a.filter(a=>{let b=a.name.toLowerCase().includes(x.toLowerCase())||a.description.toLowerCase().includes(x.toLowerCase()),c="ALL"===z||a.type===z;return b&&c}),J=a.filter(a=>a.isActive).length,K=a.filter(a=>"EMAIL"===a.type).length,L=a.filter(a=>"SYSTEM"===a.type).length,M=a.filter(a=>"IMMEDIATE"===a.frequency).length;return v?(0,b.jsxs)(c.Box,{children:[(0,b.jsx)(r.default,{}),(0,b.jsx)(c.Box,{ml:"240px",p:"8",bg:"gray.50",minH:"100vh",children:(0,b.jsx)(h.Flex,{justify:"center",align:"center",h:"400px",children:(0,b.jsx)(i.Spinner,{size:"xl",color:"orange.500"})})})]}):(0,b.jsxs)(c.Box,{children:[(0,b.jsx)(r.default,{}),(0,b.jsx)(c.Box,{ml:"240px",p:"8",bg:"gray.50",minH:"100vh",children:(0,b.jsx)(d.Container,{maxW:"7xl",children:(0,b.jsxs)(e.VStack,{gap:"6",align:"stretch",children:[(0,b.jsxs)(h.Flex,{justify:"space-between",align:"center",children:[(0,b.jsxs)(e.VStack,{align:"start",gap:"1",children:[(0,b.jsx)(l.Typography,{fontSize:"3xl",fontWeight:"bold",color:"gray.800",children:"Notifications"}),(0,b.jsx)(l.Typography,{color:"gray.600",children:"Manage system notifications and alerts"})]}),(0,b.jsxs)(f.HStack,{gap:"3",children:[(0,b.jsxs)(m.Button,{variant:"primary",size:"sm",children:[(0,b.jsx)(o.IconWrapper,{children:(0,b.jsx)(p.FiPlus,{size:16})}),"New Notification"]}),(0,b.jsxs)(m.Button,{variant:"secondary",size:"sm",children:[(0,b.jsx)(o.IconWrapper,{children:(0,b.jsx)(p.FiSettings,{size:16})}),"Settings"]})]})]}),(0,b.jsxs)(g.SimpleGrid,{columns:{base:1,md:4},gap:"4",children:[(0,b.jsx)(c.Box,{bg:"white",p:"4",borderRadius:"lg",boxShadow:"sm",children:(0,b.jsxs)(e.VStack,{gap:"2",children:[(0,b.jsx)(o.IconWrapper,{children:(0,b.jsx)(p.FiBell,{size:24,color:"#38A169"})}),(0,b.jsx)(l.Typography,{fontSize:"2xl",fontWeight:"bold",color:"green.600",children:J}),(0,b.jsx)(l.Typography,{fontSize:"sm",color:"gray.600",textAlign:"center",children:"Active Notifications"})]})}),(0,b.jsx)(c.Box,{bg:"white",p:"4",borderRadius:"lg",boxShadow:"sm",children:(0,b.jsxs)(e.VStack,{gap:"2",children:[(0,b.jsx)(o.IconWrapper,{children:(0,b.jsx)(p.FiMail,{size:24,color:"#3182CE"})}),(0,b.jsx)(l.Typography,{fontSize:"2xl",fontWeight:"bold",color:"blue.600",children:K}),(0,b.jsx)(l.Typography,{fontSize:"sm",color:"gray.600",textAlign:"center",children:"Email Notifications"})]})}),(0,b.jsx)(c.Box,{bg:"white",p:"4",borderRadius:"lg",boxShadow:"sm",children:(0,b.jsxs)(e.VStack,{gap:"2",children:[(0,b.jsx)(o.IconWrapper,{children:(0,b.jsx)(p.FiBell,{size:24,color:"#805AD5"})}),(0,b.jsx)(l.Typography,{fontSize:"2xl",fontWeight:"bold",color:"purple.600",children:L}),(0,b.jsx)(l.Typography,{fontSize:"sm",color:"gray.600",textAlign:"center",children:"System Notifications"})]})}),(0,b.jsx)(c.Box,{bg:"white",p:"4",borderRadius:"lg",boxShadow:"sm",children:(0,b.jsxs)(e.VStack,{gap:"2",children:[(0,b.jsx)(o.IconWrapper,{children:(0,b.jsx)(p.FiClock,{size:24,color:"#E53E3E"})}),(0,b.jsx)(l.Typography,{fontSize:"2xl",fontWeight:"bold",color:"red.600",children:M}),(0,b.jsx)(l.Typography,{fontSize:"sm",color:"gray.600",textAlign:"center",children:"Immediate Alerts"})]})})]}),(0,b.jsx)(c.Box,{bg:"white",p:"6",borderRadius:"lg",boxShadow:"sm",children:(0,b.jsxs)(f.HStack,{gap:"4",children:[(0,b.jsx)(c.Box,{flex:"1",children:(0,b.jsx)(c.Box,{flex:"1",maxW:"400px",children:(0,b.jsx)(k.Search,{placeholder:"Search notifications...",onSearchChange:a=>y(a)})})}),(0,b.jsxs)("select",{value:z,onChange:a=>A(a.target.value),style:{padding:"8px 12px",borderRadius:"6px",border:"1px solid #E2E8F0",backgroundColor:"white"},children:[(0,b.jsx)("option",{value:"ALL",children:"All Types"}),(0,b.jsx)("option",{value:"EMAIL",children:"Email"}),(0,b.jsx)("option",{value:"SYSTEM",children:"System"}),(0,b.jsx)("option",{value:"SMS",children:"SMS"})]})]})}),(0,b.jsxs)(h.Flex,{gap:"6",height:"600px",children:[(0,b.jsxs)(c.Box,{flex:"1",bg:"white",borderRadius:"lg",boxShadow:"sm",overflow:"hidden",children:[(0,b.jsx)(c.Box,{p:"4",borderBottom:"1px",borderColor:"gray.200",children:(0,b.jsx)(l.Typography,{fontSize:"lg",fontWeight:"semibold",color:"gray.800",children:"Notification Templates"})}),(0,b.jsx)(c.Box,{overflowY:"auto",height:"calc(100% - 60px)",children:I.map(a=>(0,b.jsx)(c.Box,{p:"4",borderBottom:"1px",borderColor:"gray.100",cursor:"pointer",bg:a.id===B?.id?"orange.50":"white",_hover:{bg:a.id===B?.id?"orange.50":"gray.50"},onClick:()=>C(a),children:(0,b.jsxs)(e.VStack,{gap:"2",align:"stretch",children:[(0,b.jsxs)(h.Flex,{justify:"space-between",align:"start",children:[(0,b.jsxs)(e.VStack,{align:"start",gap:"1",children:[(0,b.jsx)(l.Typography,{fontSize:"md",fontWeight:"semibold",color:"gray.800",children:a.name}),(0,b.jsx)(l.Typography,{fontSize:"sm",color:"gray.600",children:a.description})]}),(0,b.jsxs)(e.VStack,{gap:"1",align:"end",children:[(0,b.jsx)(n.Tag,{variant:"blue"===F(a.type)?"info":"green"===F(a.type)?"success":"info",children:a.type}),(0,b.jsx)(n.Tag,{variant:"red"===G(a.frequency)?"danger":"orange"===G(a.frequency)?"warning":"info",children:a.frequency}),(0,b.jsx)(n.Tag,{variant:a.isActive?"success":"inactive",children:a.isActive?"Active":"Inactive"})]})]}),(0,b.jsxs)(l.Typography,{fontSize:"sm",color:"gray.600",children:["Trigger: ",a.trigger]}),(0,b.jsxs)(f.HStack,{justify:"space-between",fontSize:"sm",color:"gray.600",children:[(0,b.jsxs)(l.Typography,{children:["Recipients: ",a.recipients.length]}),a.lastSent&&(0,b.jsxs)(l.Typography,{children:["Last sent: ",new Date(a.lastSent).toLocaleDateString()]})]})]})},a.id))})]}),(0,b.jsx)(c.Box,{flex:"1",bg:"white",borderRadius:"lg",boxShadow:"sm",overflow:"hidden",children:B?(0,b.jsxs)(e.VStack,{gap:"0",align:"stretch",height:"100%",children:[(0,b.jsx)(c.Box,{p:"4",borderBottom:"1px",borderColor:"gray.200",bg:"gray.50",children:(0,b.jsxs)(e.VStack,{gap:"2",align:"stretch",children:[(0,b.jsxs)(h.Flex,{justify:"space-between",align:"start",children:[(0,b.jsxs)(e.VStack,{align:"start",gap:"1",children:[(0,b.jsx)(l.Typography,{fontSize:"lg",fontWeight:"semibold",color:"gray.800",children:B.name}),(0,b.jsx)(l.Typography,{fontSize:"sm",color:"gray.600",children:B.description})]}),(0,b.jsxs)(f.HStack,{gap:"2",children:[(0,b.jsx)(n.Tag,{variant:"blue"===F(B.type)?"info":"green"===F(B.type)?"success":"info",children:B.type}),(0,b.jsx)(n.Tag,{variant:"red"===G(B.frequency)?"danger":"orange"===G(B.frequency)?"warning":"info",children:B.frequency})]})]}),(0,b.jsxs)(f.HStack,{gap:"4",fontSize:"sm",color:"gray.600",children:[(0,b.jsxs)(l.Typography,{children:["Recipients: ",B.recipients.length]}),(0,b.jsxs)(l.Typography,{children:["Status: ",B.isActive?"Active":"Inactive"]}),B.lastSent&&(0,b.jsxs)(l.Typography,{children:["Last sent: ",new Date(B.lastSent).toLocaleDateString()]})]})]})}),(0,b.jsx)(c.Box,{p:"4",flex:"1",overflowY:"auto",children:(0,b.jsxs)(e.VStack,{gap:"4",align:"stretch",children:[(0,b.jsxs)(c.Box,{children:[(0,b.jsx)(l.Typography,{fontSize:"sm",fontWeight:"medium",color:"gray.700",mb:"2",children:"Trigger Condition:"}),(0,b.jsx)(l.Typography,{fontSize:"sm",color:"gray.600",p:"3",bg:"gray.50",borderRadius:"md",children:B.trigger})]}),(0,b.jsxs)(c.Box,{children:[(0,b.jsx)(l.Typography,{fontSize:"sm",fontWeight:"medium",color:"gray.700",mb:"2",children:"Email Template:"}),(0,b.jsx)(j.Textarea,{value:B.template,readOnly:!0,rows:4,fontSize:"sm",bg:"gray.50"})]}),(0,b.jsxs)(c.Box,{children:[(0,b.jsx)(l.Typography,{fontSize:"sm",fontWeight:"medium",color:"gray.700",mb:"2",children:"Recipients:"}),(0,b.jsx)(e.VStack,{gap:"1",align:"stretch",children:B.recipients.map((a,c)=>(0,b.jsx)(l.Typography,{fontSize:"sm",color:"gray.600",p:"2",bg:"gray.50",borderRadius:"md",children:a},c))})]})]})}),(0,b.jsx)(c.Box,{p:"4",borderTop:"1px",borderColor:"gray.200",bg:"gray.50",children:(0,b.jsxs)(f.HStack,{justify:"space-between",children:[(0,b.jsxs)(f.HStack,{gap:"2",children:[(0,b.jsx)(c.Box,{as:"button",w:"12",h:"6",bg:B.isActive?"#FF6B35":"gray.300",borderRadius:"full",position:"relative",transition:"all 0.2s",onClick:()=>{s(a=>a.map(a=>a.id===B.id?{...a,isActive:!a.isActive}:a)),C(a=>a?{...a,isActive:!a.isActive}:null)},children:(0,b.jsx)(c.Box,{w:"5",h:"5",bg:"white",borderRadius:"full",position:"absolute",top:"0.5",left:B.isActive?"6.5":"0.5",transition:"all 0.2s",boxShadow:"sm"})}),(0,b.jsx)(l.Typography,{fontSize:"sm",color:"gray.700",children:B.isActive?"Active":"Inactive"})]}),(0,b.jsxs)(f.HStack,{gap:"2",children:[(0,b.jsxs)(m.Button,{size:"sm",variant:"secondary",onClick:()=>E(!0),children:[(0,b.jsx)(o.IconWrapper,{children:(0,b.jsx)(p.FiEdit,{size:16})}),"Edit"]}),(0,b.jsxs)(m.Button,{size:"sm",variant:"secondary",children:[(0,b.jsx)(o.IconWrapper,{children:(0,b.jsx)(p.FiTrash2,{size:16})}),"Delete"]})]})]})})]}):(0,b.jsx)(h.Flex,{justify:"center",align:"center",height:"100%",children:(0,b.jsxs)(e.VStack,{gap:"4",children:[(0,b.jsx)(o.IconWrapper,{children:(0,b.jsx)(p.FiBell,{size:48,color:"#9CA3AF"})}),(0,b.jsx)(l.Typography,{fontSize:"lg",color:"gray.600",children:"Select a notification to view details"})]})})})]}),(0,b.jsx)(c.Box,{bg:"white",p:"6",borderRadius:"lg",boxShadow:"sm",children:(0,b.jsxs)(e.VStack,{gap:"4",align:"stretch",children:[(0,b.jsxs)(h.Flex,{justify:"space-between",align:"center",children:[(0,b.jsx)(l.Typography,{fontSize:"lg",fontWeight:"semibold",color:"gray.800",children:"Notification Rules"}),(0,b.jsxs)(m.Button,{variant:"secondary",size:"sm",children:[(0,b.jsx)(o.IconWrapper,{children:(0,b.jsx)(p.FiPlus,{size:16})}),"New Rule"]})]}),(0,b.jsx)(g.SimpleGrid,{columns:{base:1,lg:2},gap:"4",children:t.map(a=>(0,b.jsx)(c.Box,{p:"4",border:"1px",borderColor:"gray.200",borderRadius:"lg",bg:"gray.50",children:(0,b.jsxs)(e.VStack,{gap:"3",align:"stretch",children:[(0,b.jsxs)(h.Flex,{justify:"space-between",align:"start",children:[(0,b.jsxs)(e.VStack,{align:"start",gap:"1",children:[(0,b.jsx)(l.Typography,{fontSize:"md",fontWeight:"semibold",color:"gray.800",children:a.name}),(0,b.jsx)(l.Typography,{fontSize:"sm",color:"gray.600",children:a.action})]}),(0,b.jsxs)(e.VStack,{gap:"1",align:"end",children:[(0,b.jsx)(n.Tag,{variant:"red"===H(a.priority)?"danger":"orange"===H(a.priority)?"warning":"info",children:a.priority}),(0,b.jsx)(n.Tag,{variant:a.isActive?"success":"inactive",children:a.isActive?"Active":"Inactive"})]})]}),(0,b.jsxs)(c.Box,{children:[(0,b.jsx)(l.Typography,{fontSize:"sm",fontWeight:"medium",color:"gray.700",mb:"1",children:"Condition:"}),(0,b.jsx)(l.Typography,{fontSize:"sm",color:"gray.600",p:"2",bg:"white",borderRadius:"md",children:a.condition})]}),(0,b.jsxs)(f.HStack,{justify:"space-between",fontSize:"sm",color:"gray.600",children:[(0,b.jsxs)(l.Typography,{children:["Rule ID: ",a.id]}),a.lastTriggered&&(0,b.jsxs)(l.Typography,{children:["Last triggered: ",new Date(a.lastTriggered).toLocaleDateString()]})]}),(0,b.jsxs)(f.HStack,{justify:"space-between",children:[(0,b.jsx)(c.Box,{as:"button",w:"10",h:"5",bg:a.isActive?"#FF6B35":"gray.300",borderRadius:"full",position:"relative",transition:"all 0.2s",onClick:()=>{u(b=>b.map(b=>b.id===a.id?{...b,isActive:!b.isActive}:b))},children:(0,b.jsx)(c.Box,{w:"4",h:"4",bg:"white",borderRadius:"full",position:"absolute",top:"0.5",left:a.isActive?"5.5":"0.5",transition:"all 0.2s",boxShadow:"sm"})}),(0,b.jsxs)(f.HStack,{gap:"1",children:[(0,b.jsxs)(m.Button,{size:"sm",variant:"ghost",children:[(0,b.jsx)(o.IconWrapper,{children:(0,b.jsx)(p.FiEdit,{size:14})}),"Edit"]}),(0,b.jsxs)(m.Button,{size:"sm",variant:"ghost",children:[(0,b.jsx)(o.IconWrapper,{children:(0,b.jsx)(p.FiTrash2,{size:14})}),"Delete"]})]})]})]})},a.id))})]})})]})})})]})}a.s(["default",()=>s])}];

//# debugId=6dace5c2-8caa-9dbf-c095-a5ebd9676084
//# sourceMappingURL=src_app_notifications_page_tsx_8f062b72._.js.map