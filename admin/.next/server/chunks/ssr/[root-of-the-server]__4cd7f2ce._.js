;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="75c8f13d-be9c-8115-283f-e8f7a5eeb982")}catch(e){}}();
module.exports=[556704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},832319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},120635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},909270,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored.contexts.AppRouterContext},736313,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored.contexts.HooksClientContext},818341,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored.contexts.ServerInsertedHtml},566701,a=>{"use strict";let{withContext:b,PropsProvider:c}=(0,a.i(472292).createRecipeContext)({key:"container"}),d=b("div");a.s(["Container",()=>d])},240777,a=>{"use strict";var b=a.i(187924),c=a.i(247290),d=a.i(566701),e=a.i(480916),f=a.i(688294),g=a.i(397225),h=a.i(15631),i=a.i(394761),j=a.i(827220);a.i(598851);var k=a.i(831551),l=a.i(368613),m=a.i(346271),n=a.i(718402),o=a.i(50944),p=a.i(572131),q=a.i(727348);let r=(0,m.motion)(c.Box);function s(){let{data:a,status:m}=(0,n.useSession)(),s=(0,o.useRouter)(),[t,u]=(0,p.useState)(!1),[v,w]=(0,p.useState)(null);(0,p.useEffect)(()=>{let b=new URLSearchParams(window.location.search).get("callbackUrl"),c="/dashboard";if(b)try{let a=decodeURIComponent(b);if(a.startsWith("http://")||a.startsWith("https://")){let b=new URL(a);c=b.pathname+b.search}else a.startsWith("/"),c=a}catch(a){console.error("Error parsing callbackUrl:",a),c="/dashboard"}if(b){if(console.log("CallbackUrl detected after Azure AD auth, redirecting...",{callbackUrl:b,redirectPath:c,status:m}),"authenticated"===m&&a){console.log("Session authenticated, redirecting to:",c),window.location.replace(c);return}if((0,n.getSession)().then(a=>{console.log("Session check result:",{hasSession:!!a,status:m}),a&&(console.log("Session found via getSession, redirecting to:",c),window.location.replace(c))}).catch(a=>{console.error("Error checking session:",a)}),"loading"===m){console.log("Status is loading, waiting for session...");let a=setTimeout(()=>{(0,n.getSession)().then(a=>{a?console.log("Session found after wait, redirecting to:",c):console.log("No session found but callbackUrl present, attempting redirect anyway"),window.location.replace(c)})},500);return()=>clearTimeout(a)}return void("unauthenticated"===m&&(console.log("Status unauthenticated but callbackUrl present, redirecting anyway"),setTimeout(()=>{window.location.replace(c)},100)))}if("authenticated"===m&&a){console.log("Authenticated, redirecting to:",c),window.location.pathname!==c.split("?")[0]&&window.location.replace(c);return}},[m,a,s]);let x=async()=>{try{u(!0),w(null),await (0,n.signIn)("azure-ad",{callbackUrl:"/dashboard",redirect:!0})}catch(a){w("Failed to sign in. Please try again."),u(!1)}};return"loading"===m?(0,b.jsx)(c.Box,{minH:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bg:"gray.50",children:(0,b.jsx)(h.Spinner,{size:"xl",color:"orange.500"})}):"authenticated"===m?null:(0,b.jsxs)(c.Box,{minH:"100vh",bg:"gray.50",position:"relative",children:[(0,b.jsx)(r,{position:"absolute",top:"0",right:"0",width:"50%",height:"100%",bg:"linear-gradient(135deg, #F05423 0%, #DD4A1F 100%)",clipPath:"polygon(30% 0%, 100% 0%, 100% 100%, 0% 100%)",initial:{opacity:0,x:100},animate:{opacity:1,x:0},transition:{duration:.8}}),(0,b.jsx)(d.Container,{maxW:"7xl",minH:"100vh",display:"flex",alignItems:"center",children:(0,b.jsxs)(g.Flex,{width:"100%",alignItems:"center",gap:"12",children:[(0,b.jsxs)(r,{flex:"1",maxW:"500px",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},children:[(0,b.jsx)(c.Box,{mb:"8",children:(0,b.jsx)(l.MukuruLogo,{height:"60px"})}),(0,b.jsx)(r,{bg:"white",boxShadow:"2xl",borderRadius:"2xl",overflow:"hidden",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:(0,b.jsx)(c.Box,{p:"10",children:(0,b.jsxs)(e.VStack,{gap:"6",align:"stretch",children:[(0,b.jsxs)(e.VStack,{gap:"2",align:"start",children:[(0,b.jsx)(k.Typography,{as:"h1",fontSize:"3xl",fontWeight:"bold",color:"gray.800",children:"Admin Access"}),(0,b.jsx)(k.Typography,{color:"gray.600",mt:"2",children:"Secure administrative portal with Azure AD authentication"})]}),v&&(0,b.jsx)(c.Box,{p:"3",bg:"red.50",border:"1px",borderColor:"red.200",borderRadius:"md",color:"red.700",children:(0,b.jsx)(k.Typography,{fontSize:"sm",children:v})}),(0,b.jsxs)(e.VStack,{gap:"4",align:"stretch",children:[(0,b.jsx)(i.Button,{onClick:x,width:"100%",disabled:t,bg:"#F05423",color:"white",size:"md",fontWeight:"semibold",fontSize:"md",_hover:{bg:"#DD4A1F"},_active:{bg:"#CA401B"},loading:t,loadingText:"Signing in...",children:(0,b.jsxs)(f.HStack,{gap:"2",children:[(0,b.jsx)(j.Icon,{as:q.FiShield,boxSize:"20px",color:"white"}),(0,b.jsx)(k.Typography,{color:"white",fontWeight:"semibold",children:"Sign in with Microsoft"})]})}),(0,b.jsx)(k.Typography,{color:"gray.500",fontSize:"sm",textAlign:"center",mt:"2",children:"Use your Microsoft account to access the admin portal"})]}),(0,b.jsx)(e.VStack,{gap:"4",mt:"4",children:(0,b.jsx)(k.Typography,{color:"gray.500",fontSize:"sm",textAlign:"center",children:"Authorized personnel only"})})]})})})]}),(0,b.jsx)(r,{flex:"1",color:"white",zIndex:"10",position:"relative",display:"flex",alignItems:"center",justifyContent:"flex-end",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.6,delay:.6},children:(0,b.jsxs)(e.VStack,{gap:"8",align:"start",maxW:"400px",pr:"8",ml:"8",children:[(0,b.jsx)(k.Typography,{as:"h2",fontSize:"4xl",fontWeight:"bold",lineHeight:"1.2",color:"white",children:"Administrative Portal"}),(0,b.jsx)(k.Typography,{as:"p",fontSize:"xl",opacity:"0.9",lineHeight:"1.6",color:"white",children:"Secure access to manage applications, monitor compliance, and oversee the digital onboarding process."}),(0,b.jsxs)(e.VStack,{gap:"4",align:"start",children:[(0,b.jsxs)(f.HStack,{gap:"3",children:[(0,b.jsx)(c.Box,{width:"32px",height:"32px",borderRadius:"50%",bg:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",children:(0,b.jsx)(j.Icon,{as:q.FiLock,boxSize:"18px",color:"white"})}),(0,b.jsx)(k.Typography,{fontSize:"lg",color:"white",children:"Azure AD authentication"})]}),(0,b.jsxs)(f.HStack,{gap:"3",children:[(0,b.jsx)(c.Box,{width:"32px",height:"32px",borderRadius:"50%",bg:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",children:(0,b.jsx)(j.Icon,{as:q.FiBarChart2,boxSize:"18px",color:"white"})}),(0,b.jsx)(k.Typography,{fontSize:"lg",color:"white",children:"Application management"})]}),(0,b.jsxs)(f.HStack,{gap:"3",children:[(0,b.jsx)(c.Box,{width:"32px",height:"32px",borderRadius:"50%",bg:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",children:(0,b.jsx)(j.Icon,{as:q.FiZap,boxSize:"18px",color:"white"})}),(0,b.jsx)(k.Typography,{fontSize:"lg",color:"white",children:"Real-time monitoring"})]})]})]})})]})})]})}a.s(["default",()=>s])}];

//# debugId=75c8f13d-be9c-8115-283f-e8f7a5eeb982
//# sourceMappingURL=%5Broot-of-the-server%5D__4cd7f2ce._.js.map