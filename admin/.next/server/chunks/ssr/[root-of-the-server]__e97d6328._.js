;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="deff2971-5f96-9909-42cf-add767e6aaaf")}catch(e){}}();
module.exports=[556704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},832319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},120635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},909270,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored.contexts.AppRouterContext},736313,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored.contexts.HooksClientContext},818341,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored.contexts.ServerInsertedHtml},992539,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944);a.i(525985);var e=a.i(862760),f=a.i(676851),g=a.i(508010),h=a.i(201526),i=a.i(438452),j=a.i(327382),k=a.i(535895),l=a.i(804871),m=a.i(585425),n=a.i(883970),o=a.i(247290),p=a.i(173029);function q(){let a=(0,d.usePathname)(),q=(0,d.useRouter)(),{condensed:r,setCondensed:s}=(0,p.useSidebar)(),[t,u]=(0,c.useState)("dashboard");(0,c.useEffect)(()=>{"/dashboard"===a?u("dashboard"):a?.startsWith("/work-queue")?u("work-queue"):a?.startsWith("/applications")?u("applications"):a?.startsWith("/review")||a?.startsWith("/risk-review")||a?.startsWith("/approvals")?u("reviews"):a?.startsWith("/documents")?u("documents"):a?.startsWith("/requirements")?u("requirements"):a?.startsWith("/entity-types")?u("entity-types"):a?.startsWith("/checklists")?u("checklists"):a?.startsWith("/wizard-configurations")?u("wizard-configurations"):a?.startsWith("/rules-and-permissions")?u("rules-and-permissions"):a?.startsWith("/audit-log")?u("audit-log"):a?.startsWith("/messages")?u("messages"):a?.startsWith("/notifications")?u("notifications"):a?.startsWith("/data-migration")?u("data-migration"):a?.startsWith("/refreshes")?u("refreshes"):a?.startsWith("/reports")?u("reports"):a?.startsWith("/profile")?u("profile"):a?.startsWith("/settings")&&u("settings")},[a]);let v=(0,c.useMemo)(()=>[{id:"dashboard",label:"Dashboard",icon:(0,b.jsx)(f.ProductIcon,{width:"20",height:"20"}),onClick:()=>{u("dashboard"),q.push("/dashboard")}},{id:"work-queue",label:"Work Queue",icon:(0,b.jsx)(m.FilterIcon,{width:"20",height:"20"}),onClick:()=>{u("work-queue"),q.push("/work-queue")}},{id:"applications",label:"Applications",icon:(0,b.jsx)(k.AppIcon,{width:"20",height:"20"}),onClick:()=>{u("applications"),q.push("/applications")}},{id:"reviews",label:"Reviews",icon:(0,b.jsx)(h.DocumentIcon,{width:"20",height:"20"}),onClick:()=>{u("reviews"),q.push("/review")},subItems:[{id:"risk-review",label:"Risk Review",onClick:()=>{u("reviews"),q.push("/risk-review")}},{id:"approvals",label:"Approvals",onClick:()=>{u("reviews"),q.push("/approvals")}}]},{id:"documents",label:"Documents",icon:(0,b.jsx)(l.FileOpenIcon,{width:"20",height:"20"}),onClick:()=>{u("documents"),q.push("/documents")}},{id:"configuration",label:"Configuration",icon:(0,b.jsx)(i.SettingsIcon,{width:"20",height:"20"}),onClick:()=>{u("configuration"),q.push("/requirements")},subItems:[{id:"requirements",label:"Requirements",onClick:()=>{u("configuration"),q.push("/requirements")}},{id:"entity-types",label:"Entity Types",onClick:()=>{u("configuration"),q.push("/entity-types")}},{id:"checklists",label:"Checklists",onClick:()=>{u("configuration"),q.push("/checklists")}},{id:"wizard-configurations",label:"Wizard Configurations",onClick:()=>{u("configuration"),q.push("/wizard-configurations")}},{id:"rules-and-permissions",label:"Rules & Permissions",onClick:()=>{u("configuration"),q.push("/rules-and-permissions")}}]},{id:"system",label:"System",icon:(0,b.jsx)(n.WarningIcon,{width:"20",height:"20"}),onClick:()=>{u("system"),q.push("/audit-log")},subItems:[{id:"audit-log",label:"Audit Log",onClick:()=>{u("system"),q.push("/audit-log")}},{id:"messages",label:"Messages",onClick:()=>{u("system"),q.push("/messages")}},{id:"notifications",label:"Notifications",onClick:()=>{u("system"),q.push("/notifications")}},{id:"data-migration",label:"Data Migration",onClick:()=>{u("system"),q.push("/data-migration")}},{id:"refreshes",label:"Refreshes",onClick:()=>{u("system"),q.push("/refreshes")}}]},{id:"reports",label:"Reports",icon:(0,b.jsx)(h.DocumentIcon,{width:"20",height:"20"}),onClick:()=>{u("reports"),q.push("/reports")}},{id:"profile",label:"Profile",icon:(0,b.jsx)(g.UserIcon,{width:"20",height:"20"}),onClick:()=>{u("profile"),q.push("/profile")}}],[q]),w={id:"help-centre",label:"Help Centre",icon:(0,b.jsx)(j.HelpIcon,{width:"20",height:"20"}),onClick:()=>{console.log("Help Centre")}};return(0,b.jsx)(o.Box,{position:"fixed",left:"0",top:"0",height:"100vh",width:r?"72px":"280px",borderRight:"1px solid",borderColor:"rgba(55, 58, 54, 0.15)",zIndex:"1000",className:"sidebar-wrapper",bg:"#F9FAFB",overflowY:"auto",transition:"width 0.3s ease",children:(0,b.jsx)(e.PortalNavigationSidebar,{navigationItems:v,helpCentreItem:w,activeItemId:t,condensed:r,onToggleCollapse:s,onLogoClick:()=>{u("dashboard"),q.push("/dashboard")},expandedWidth:"280px",condensedWidth:"72px"})})}a.s(["default",()=>q])},332938,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(644246),e=a.i(276699),f=a.i(912939);let g=(0,c.forwardRef)(function(a,c){var g,h,i;let{columns:j,minChildWidth:k,...l}=a,m=(0,d.useChakraContext)(),n=k?(g=k,h=m,(0,e.mapObject)(g,a=>{let b=h.tokens.getVar(`sizes.${a}`,"number"==typeof a?`${a}px`:a);return null===a?null:`repeat(auto-fit, minmax(${b}, 1fr))`})):(i=j,(0,e.mapObject)(i,a=>null===a?null:`repeat(${a}, minmax(0, 1fr))`));return(0,b.jsx)(f.Grid,{ref:c,templateColumns:n,...l})});a.s(["SimpleGrid",()=>g])},255145,a=>{"use strict";var b=a.i(865524);let c=new class{isDevelopment=!1;isProduction=!0;debug(a,...b){this.isDevelopment&&console.debug(`[DEBUG] ${a}`,...b)}info(a,...c){this.isDevelopment&&console.info(`[INFO] ${a}`,...c),this.isProduction&&(0,b.addBreadcrumb)(a,"info","info",{args:c})}warn(a,c){console.warn(`[WARN] ${a}`),this.isProduction&&(0,b.reportWarning)(a,{tags:c?.tags,extra:c?.extra})}error(a,c,d){let e=c||(a instanceof Error?a.message:String(a));console.error(`[ERROR] ${e}`,a);let f=d?.level==="warn"?"warning":d?.level==="error"?"error":d?.level==="info"?"info":"error";(0,b.reportError)(a,{tags:d?.tags,extra:d?.extra,level:f})}log(a,c,d="info"){if(this.isDevelopment&&console.log(`[${d.toUpperCase()}] ${a}`,c||""),this.isProduction&&"debug"!==d){let e="warn"===d?"warning":"error"===d?"error":"info";(0,b.addBreadcrumb)(a,"log",e,c)}}};a.s(["logger",0,c])},292939,a=>{"use strict";function b(a){return{id:a.workItemNumber||a.id,workItemId:a.id,legalName:a.applicantName,entityType:a.entityType,country:a.country,status:({New:"SUBMITTED",Assigned:"IN PROGRESS",InProgress:"IN PROGRESS",PendingApproval:"RISK REVIEW",Approved:"COMPLETE",Completed:"COMPLETE",Declined:"DECLINED",Cancelled:"DECLINED",DueForRefresh:"IN PROGRESS"})[a.status]||"IN PROGRESS",backendStatus:a.status,created:a.createdAt,updated:a.updatedAt||a.createdAt,submittedBy:a.assignedToName||a.assignedTo||"Unknown",riskScore:({Low:25,Medium:50,High:75,Critical:95})[a.riskLevel]||50,workItemNumber:a.workItemNumber,applicationId:a.applicationId,priority:a.priority,riskLevel:a.riskLevel,assignedTo:a.assignedTo,assignedToName:a.assignedToName,assignedAt:a.assignedAt,requiresApproval:a.requiresApproval,approvedBy:a.approvedBy,approvedByName:a.approvedByName,approvedAt:a.approvedAt,rejectionReason:a.rejectionReason,dueDate:a.dueDate,isOverdue:a.isOverdue,nextRefreshDate:a.nextRefreshDate,lastRefreshedAt:a.lastRefreshedAt,refreshCount:a.refreshCount}}function c(a){return a.map(b)}a.s(["mapWorkItemToApplication",()=>b,"mapWorkItemsToApplications",()=>c])},95688,257759,502868,457628,775424,a=>{"use strict";async function b(a=1,c=20,d,e){let f=new URLSearchParams({page:a.toString(),pageSize:c.toString()});d&&f.append("searchTerm",d),e&&f.append("status",e);let g=await fetch(`http://localhost:3001/api/applications?${f.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!g.ok)throw Error(`Failed to fetch applications: ${g.status} ${g.statusText}`);let h=await g.json();return{items:h.items||h.data||[],totalCount:h.total_count||h.totalCount||h.total||0,page:h.page||a,pageSize:h.page_size||h.pageSize||c}}let c="http://localhost:3001";async function d(a){let b=new URLSearchParams;a&&b.append("partnerId",a);let d=await fetch(`${c}/api/entity-type-distribution?${b.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!d.ok)throw Error(`Failed to fetch entity type distribution: ${d.status} ${d.statusText}`);let e=await d.json();return Array.isArray(e)?e:e.items||e.data||[]}async function e(a=7,b){let d=new URLSearchParams({days:a.toString()});b&&d.append("partnerId",b);let f=await fetch(`${c}/api/trends?${d.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!f.ok)throw Error(`Failed to fetch application trends: ${f.status} ${f.statusText}`);let g=await f.json();return Array.isArray(g)?g:g.items||g.data||[]}async function f(a){let b=new URLSearchParams;a&&b.append("partnerId",a);let d=await fetch(`${c}/api/dashboard?${b.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!d.ok)throw Error(`Failed to fetch dashboard projection: ${d.status} ${d.statusText}`);return d.json()}async function g(){return{"Content-Type":"application/json"}}async function h(a,b){let c=a;a.startsWith("?")?c=a:a.startsWith("/")||(c=`/${a}`);let d=`http://localhost:3001/api/workqueue${c}`,e=await g(),f=await fetch(d,{...b,headers:{...e,...b?.headers}});if(!f.ok){let a=`Work Queue API request failed: ${f.status} ${f.statusText}`;try{let b=await f.json();a=b.message||b.error||a}catch{}throw Error(a)}let h=await f.text();return h&&""!==h.trim()?JSON.parse(h):null}async function i(a){let b=new URLSearchParams;a?.status&&"ALL"!==a.status&&b.append("status",a.status),a?.searchTerm&&b.append("searchTerm",a.searchTerm),a?.country&&b.append("country",a.country),a?.riskLevel&&b.append("riskLevel",a.riskLevel);let c=a?.page||1,d=a?.pageSize||100;b.append("page",c.toString()),b.append("pageSize",d.toString());let e=await h(`?${b.toString()}`);return{items:e.items||e.data||[],totalCount:e.totalCount||e.total_count||0,page:c,pageSize:d}}async function j(a){try{return await h(`/${a}`)}catch(a){if(a instanceof Error&&a.message.includes("404"))return null;throw a}}async function k(a=1,b=20){let c=new URLSearchParams({page:a.toString(),pageSize:b.toString()}),d=await h(`/my-items?${c.toString()}`);return{items:d.items||d.data||[],totalCount:d.totalCount||d.total_count||0,page:a,pageSize:b}}async function l(a=1,b=20){let c=new URLSearchParams({page:a.toString(),pageSize:b.toString()}),d=await h(`/pending-approvals?${c.toString()}`);return{items:d.items||d.data||[],totalCount:d.totalCount||d.total_count||0,page:a,pageSize:b}}async function m(a=1,b=100,c){let d=new URLSearchParams({page:a.toString(),pageSize:b.toString()});return c&&d.append("asOfDate",c.toISOString()),await h(`/due-for-refresh?${d.toString()}`)}async function n(a,b,c){let d;if(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(b))d=b;else{let a=0;for(let c=0;c<b.length;c++)a=(a<<5)-a+b.charCodeAt(c),a&=a;let c=Math.abs(a).toString(16).padStart(32,"0");d=`${c.substring(0,8)}-${c.substring(8,12)}-${c.substring(12,16)}-${c.substring(16,20)}-${c.substring(20,32)}`}await h(`/${a}/assign`,{method:"POST",body:JSON.stringify({AssignedToUserId:d,AssignedToUserName:c})})}async function o(a){await h(`/${a}/unassign`,{method:"POST"})}async function p(a){await h(`/${a}/start-review`,{method:"POST"})}async function q(a,b){await h(`/${a}/submit-for-approval`,{method:"POST",body:JSON.stringify({notes:b||""})})}async function r(a,b){await h(`/${a}/approve`,{method:"POST",body:JSON.stringify({notes:b||""})})}async function s(a,b){await h(`/${a}/decline`,{method:"POST",body:JSON.stringify({reason:b})})}async function t(a,b){await h(`/${a}/complete`,{method:"POST",body:JSON.stringify({notes:b||""})})}async function u(a){await h(`/${a}/mark-for-refresh`,{method:"POST"})}async function v(a,b){await h(`/${a}/comments`,{method:"POST",body:JSON.stringify({text:b})})}async function w(a){return await h(`/${a}/comments`)}async function x(a){return await h(`/${a}/history`)}function y(a){let b=a.businessLegalName||`${a.applicantFirstName} ${a.applicantLastName}`.trim()||"Unknown",c=a.businessCountryOfRegistration||a.applicantCountry||"Unknown",d=a.type||(a.businessLegalName?"Business":"Individual")||"Unknown",e=a.assignedToName||a.assignedTo||"Unassigned",f=a.submittedAt||a.createdAt,g=Math.round(a.progressPercentage||0);return{id:a.caseId||a.id,companyName:b,entityType:d,status:({Draft:"IN_PROGRESS",InProgress:"IN_PROGRESS",PendingReview:"RISK_REVIEW",Submitted:"SUBMITTED",Approved:"COMPLETE",Rejected:"DECLINED",Cancelled:"DECLINED"})[a.status]||"IN_PROGRESS",submittedDate:f,assignedTo:e,riskLevel:({Low:"LOW",MediumLow:"LOW",Medium:"MEDIUM",MediumHigh:"HIGH",High:"HIGH"})[a.riskLevel]||"MEDIUM",country:c,progress:g}}a.s(["addComment",()=>v,"approveWorkItem",()=>r,"assignWorkItem",()=>n,"completeWorkItem",()=>t,"declineWorkItem",()=>s,"getItemsDueForRefresh",()=>m,"getMyWorkItems",()=>k,"getPendingApprovals",()=>l,"getWorkItemById",()=>j,"getWorkItemComments",()=>w,"getWorkItemHistory",()=>x,"getWorkItems",()=>i,"markForRefresh",()=>u,"startReview",()=>p,"submitForApproval",()=>q,"unassignWorkItem",()=>o],257759);var z=a.i(292939);async function A(a=1,c=20,d,e){let f=await b(a,c,d,e);return{items:f.items.map(y),totalCount:f.totalCount,page:f.page,pageSize:f.pageSize}}async function B(b){let c=await A(1,1e4,b?.search,b?.status),{escapeCsvField:d,createCsvBlob:e}=await a.A(476428);return e(["Application ID","Company Name","Entity Type","Country","Status","Risk Level","Assigned To","Progress","Submitted Date"],c.items.map(a=>[d(a.id),d(a.companyName),d(a.entityType),d(a.country),d(a.status),d(a.riskLevel),d(a.assignedTo),d(`${a.progress}%`),d(new Date(a.submittedDate).toLocaleDateString())]))}async function C(a){let b=await f(a);return{totalApplications:b.cases.totalCases,pendingReview:b.cases.pendingReviewCases,riskReview:b.risk.casesRequiringManualReview,completed:b.cases.completedCases,incomplete:b.cases.activeCases-b.cases.pendingReviewCases,declined:b.cases.rejectedCases,avgProcessingTime:Number(b.performance.averageCompletionTimeHours/24),successRate:Number(b.performance.completionRate)}}async function D(a){return(await d(a)).map(a=>({type:a.name,count:a.value}))}async function E(a=7,b){return e(a,b)}async function F(a){return f(a)}function G(a){return({SUBMITTED:"New","IN PROGRESS":"InProgress","RISK REVIEW":"PendingApproval",COMPLETE:"Completed",DECLINED:"Declined"})[a]||a}async function H(a){let b=a?{...a,status:a.status&&"ALL"!==a.status?G(a.status):void 0}:void 0,c=await i(b);return{items:(0,z.mapWorkItemsToApplications)(c.items),totalCount:c.totalCount,page:c.page,pageSize:c.pageSize}}async function I(a=1,b=20){let c=await k(a,b);return{items:(0,z.mapWorkItemsToApplications)(c.items),totalCount:c.totalCount,page:c.page,pageSize:c.pageSize}}async function J(a=1,b=20){return l(a,b)}async function K(a=1,b=100,c){return m(a,b,c)}async function L(a,b,c){if(!a)throw Error("Work item ID is required");if(!b)throw Error("User ID is required");if(!c)throw Error("User name is required");await n(a,b,c)}async function M(a){if(!a)throw Error("Work item ID is required");await o(a)}async function N(a){if(!a)throw Error("Work item ID is required");await p(a)}async function O(a,b){if(!a)throw Error("Work item ID is required");await q(a,b)}async function P(a,b){if(!a)throw Error("Work item ID is required");await r(a,b)}async function Q(a,b){if(!a)throw Error("Work item ID is required");if(!b||0===b.trim().length)throw Error("Rejection reason is required");await s(a,b)}async function R(a,b){if(!a)throw Error("Work item ID is required");await t(a,b)}async function S(a){if(!a)throw Error("Work item ID is required");await u(a)}async function T(a,b){if(!a)throw Error("Work item ID is required");if(!b||0===b.trim().length)throw Error("Comment text is required");await v(a,b)}async function U(a){if(!a)throw Error("Work item ID is required");return w(a)}async function V(a){if(!a)throw Error("Work item ID is required");return x(a)}async function W(b){let c=b?{...b,status:b.status&&"ALL"!==b.status?G(b.status):void 0}:void 0,d=await i({...c,page:1,pageSize:1e4}),{escapeCsvField:e,createCsvBlob:f}=await a.A(476428),{mapWorkItemToApplication:g}=await a.A(639567);return f(["Application ID","Work Item Number","Legal Name","Entity Type","Country","Status","Priority","Risk Level","Assigned To","Created Date","Updated Date"],d.items.map(a=>{let b=g(a);return[e(b.id),e(a.workItemNumber),e(b.legalName),e(b.entityType),e(b.country),e(b.status),e(a.priority),e(a.riskLevel),e(a.assignedToName||a.assignedTo),e(new Date(b.created).toLocaleDateString()),e(new Date(b.updated).toLocaleDateString())]}))}a.s(["exportApplications",()=>B,"fetchApplications",()=>A],502868),a.s(["fetchApplicationTrends",()=>E,"fetchDashboardProjection",()=>F,"fetchDashboardStats",()=>C,"fetchEntityTypeDistribution",()=>D],457628),a.s(["addCommentUseCase",()=>T,"approveWorkItemUseCase",()=>P,"assignWorkItemUseCase",()=>L,"completeWorkItemUseCase",()=>R,"declineWorkItemUseCase",()=>Q,"exportWorkItems",()=>W,"fetchItemsDueForRefresh",()=>K,"fetchMyWorkItems",()=>I,"fetchPendingApprovals",()=>J,"fetchWorkItemComments",()=>U,"fetchWorkItemHistory",()=>V,"fetchWorkItems",()=>H,"markForRefreshUseCase",()=>S,"startReviewUseCase",()=>N,"submitForApprovalUseCase",()=>O,"unassignWorkItemUseCase",()=>M],775424),a.s([],95688)}];

//# debugId=deff2971-5f96-9909-42cf-add767e6aaaf
//# sourceMappingURL=%5Broot-of-the-server%5D__e97d6328._.js.map