{
  "version": 3,
  "sources": [],
  "debugId": "a727725e-dcf3-bf6a-ad31-0dbabc05d5ef",
  "sections": [
    {"offset": {"line": 1, "column": 0}, "map": {"version":3,"sources":["../../../../src/app/audit-log/page.tsx","../../../../src/services/auditLogApi.ts"],"sourcesContent":["\"use client\";\n\nimport { \n  Box, \n  VStack, \n  HStack,\n  SimpleGrid,\n  Flex,\n  Spinner\n} from \"@chakra-ui/react\";\nimport { Search, Typography, Input, IconWrapper } from \"@/lib/mukuruImports\";\nimport { useState, useEffect, useCallback } from \"react\";\nimport AdminSidebar from \"../../components/AdminSidebar\";\nimport { FiSearch, FiTrendingUp, FiShield, FiAlertCircle } from \"react-icons/fi\";\nimport { auditLogApiService, AuditLogEntryDto } from \"../../services/auditLogApi\";\n\nexport default function AuditLogPage() {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [auditEvents, setAuditEvents] = useState<AuditLogEntryDto[]>([]);\n  const [auditSummary, setAuditSummary] = useState({\n    totalEvents: 0,\n    created: 0,\n    updated: 0,\n    approved: 0\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  // Calculate summary statistics from audit events\n  const calculateSummary = useCallback((events: AuditLogEntryDto[]) => {\n    const totalEvents = events.length;\n    const created = events.filter(e => \n      e.action.toUpperCase().includes('CREATE') || \n      e.action.toUpperCase() === 'CREATE'\n    ).length;\n    const updated = events.filter(e => \n      e.action.toUpperCase().includes('UPDATE') || \n      e.action.toUpperCase() === 'UPDATE'\n    ).length;\n    const approved = events.filter(e => \n      e.action.toUpperCase().includes('APPROVE') || \n      e.action.toUpperCase() === 'APPROVE'\n    ).length;\n\n    return { totalEvents, created, updated, approved };\n  }, []);\n\n  // Fetch audit logs from API\n  const fetchAuditLogs = useCallback(async (searchQuery?: string) => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      let result;\n      \n      if (searchQuery && searchQuery.trim()) {\n        // Use search endpoint with search term\n        const searchLower = searchQuery.toLowerCase();\n        result = await auditLogApiService.searchAuditLogs({\n          skip: 0,\n          take: 1000, // Get a large batch for filtering\n        });\n        \n        // Client-side filtering for better UX (backend search can be enhanced later)\n        const filtered = result.entries.filter(entry => \n          entry.action.toLowerCase().includes(searchLower) ||\n          entry.entityType.toLowerCase().includes(searchLower) ||\n          entry.entityId.toLowerCase().includes(searchLower) ||\n          entry.userId.toLowerCase().includes(searchLower) ||\n          entry.description.toLowerCase().includes(searchLower)\n        );\n        result.entries = filtered;\n        result.totalCount = filtered.length;\n      } else {\n        // Get all audit logs\n        result = await auditLogApiService.getAllAuditLogs(0, 1000);\n      }\n\n      // Sort by timestamp descending (newest first)\n      const sortedEvents = result.entries.sort((a, b) => \n        new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime()\n      );\n\n      setAuditEvents(sortedEvents);\n      setAuditSummary(calculateSummary(sortedEvents));\n    } catch (err) {\n      console.error('Error fetching audit logs:', err);\n      setError(err instanceof Error ? err.message : 'Failed to load audit logs. Please ensure the audit log service is running.');\n      setAuditEvents([]);\n      setAuditSummary({ totalEvents: 0, created: 0, updated: 0, approved: 0 });\n    } finally {\n      setLoading(false);\n    }\n  }, [calculateSummary]);\n\n  // Initial load\n  useEffect(() => {\n    fetchAuditLogs();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Search changes are handled by Search component's onSearchChange callback\n  // No need for manual debouncing - Search component handles it internally\n\n  // Helper function to get action color based on action type\n  const getActionColor = (action: string) => {\n    const actionUpper = action.toUpperCase();\n    if (actionUpper.includes('CREATE')) return { bg: 'green.100', color: 'green.700' };\n    if (actionUpper.includes('UPDATE')) return { bg: 'blue.100', color: 'blue.700' };\n    if (actionUpper.includes('APPROVE')) return { bg: 'purple.100', color: 'purple.700' };\n    if (actionUpper.includes('DELETE')) return { bg: 'red.100', color: 'red.700' };\n    return { bg: 'gray.100', color: 'gray.700' };\n  };\n\n  // Format user display name (use userId if userName not available)\n  const getUserDisplayName = (entry: AuditLogEntryDto) => {\n    return entry.userId || 'System';\n  };\n\n\n  return (\n    <Flex minH=\"100vh\" bg=\"gray.50\">\n      {/* Left Sidebar */}\n      <AdminSidebar />\n\n      {/* Main Content */}\n      <Box flex=\"1\" ml=\"240px\">\n        {/* Top Header */}\n        <Box bg=\"white\" borderBottom=\"1px\" borderColor=\"gray.200\" py=\"4\" px=\"6\" boxShadow=\"sm\">\n          <Typography fontSize=\"xl\" fontWeight=\"bold\" color=\"gray.900\">Audit Log</Typography>\n        </Box>\n\n        {/* Main Content Area */}\n        <Box p=\"6\" bg=\"gray.50\">\n          <VStack gap=\"6\" align=\"stretch\">\n            {/* Audit Trail Section */}\n            <Box>\n              <Flex justify=\"space-between\" align=\"start\" mb=\"4\">\n                <VStack align=\"start\" gap=\"2\">\n                  <HStack gap=\"2\">\n                    <FiShield size={20} color=\"#374151\" />\n                    <Typography fontSize=\"xl\" fontWeight=\"bold\" color=\"gray.900\">Audit Trail</Typography>\n                  </HStack>\n                  <Typography fontSize=\"md\" color=\"gray.600\" fontWeight=\"medium\">Complete history of all system activities and changes</Typography>\n                </VStack>\n                \n                {/* Search Bar */}\n                <Box width=\"300px\">\n                  <Search\n                    placeholder=\"Search audit events...\"\n                    onSearchChange={(query) => {\n                      setSearchTerm(query);\n                      fetchAuditLogs(query);\n                    }}\n                  />\n                </Box>\n              </Flex>\n              \n              <SimpleGrid columns={{ base: 1, md: 2, lg: 4 }} gap=\"6\">\n                <Box \n                  bg=\"white\" \n                  p=\"6\" \n                  borderRadius=\"xl\" \n                  boxShadow=\"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)\" \n                  border=\"1px\" \n                  borderColor=\"gray.100\"\n                  _hover={{ boxShadow: \"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)\" }}\n                  transition=\"all 0.2s\"\n                >\n                  <VStack align=\"start\" gap=\"4\">\n                    <HStack gap=\"3\">\n                      <Box p=\"2\" bg=\"blue.50\" borderRadius=\"lg\">\n                        <FiTrendingUp size={20} color=\"#3182ce\" />\n                      </Box>\n                      <VStack align=\"start\" gap=\"1\">\n                        <Typography fontSize=\"3xl\" fontWeight=\"bold\" color=\"gray.900\">{auditSummary.totalEvents}</Typography>\n                        <Typography fontSize=\"sm\" color=\"gray.600\" fontWeight=\"medium\">Total Events</Typography>\n                      </VStack>\n                    </HStack>\n                  </VStack>\n                </Box>\n\n                <Box \n                  bg=\"white\" \n                  p=\"6\" \n                  borderRadius=\"xl\" \n                  boxShadow=\"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)\" \n                  border=\"1px\" \n                  borderColor=\"gray.100\"\n                  _hover={{ boxShadow: \"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)\" }}\n                  transition=\"all 0.2s\"\n                >\n                  <VStack align=\"start\" gap=\"4\">\n                    <HStack gap=\"3\">\n                      <Box p=\"2\" bg=\"green.50\" borderRadius=\"lg\">\n                        <FiTrendingUp size={20} color=\"#38a169\" />\n                      </Box>\n                      <VStack align=\"start\" gap=\"1\">\n                        <Typography fontSize=\"3xl\" fontWeight=\"bold\" color=\"green.500\">{auditSummary.created}</Typography>\n                        <Typography fontSize=\"sm\" color=\"gray.600\" fontWeight=\"medium\">Created</Typography>\n                      </VStack>\n                    </HStack>\n                  </VStack>\n                </Box>\n\n                <Box \n                  bg=\"white\" \n                  p=\"6\" \n                  borderRadius=\"xl\" \n                  boxShadow=\"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)\" \n                  border=\"1px\" \n                  borderColor=\"gray.100\"\n                  _hover={{ boxShadow: \"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)\" }}\n                  transition=\"all 0.2s\"\n                >\n                  <VStack align=\"start\" gap=\"4\">\n                    <HStack gap=\"3\">\n                      <Box p=\"2\" bg=\"orange.50\" borderRadius=\"lg\">\n                        <FiTrendingUp size={20} color=\"#dd6b20\" />\n                      </Box>\n                      <VStack align=\"start\" gap=\"1\">\n                        <Typography fontSize=\"3xl\" fontWeight=\"bold\" color=\"orange.500\">{auditSummary.updated}</Typography>\n                        <Typography fontSize=\"sm\" color=\"gray.600\" fontWeight=\"medium\">Updated</Typography>\n                      </VStack>\n                    </HStack>\n                  </VStack>\n                </Box>\n\n                <Box \n                  bg=\"white\" \n                  p=\"6\" \n                  borderRadius=\"xl\" \n                  boxShadow=\"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)\" \n                  border=\"1px\" \n                  borderColor=\"gray.100\"\n                  _hover={{ boxShadow: \"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)\" }}\n                  transition=\"all 0.2s\"\n                >\n                  <VStack align=\"start\" gap=\"4\">\n                    <HStack gap=\"3\">\n                      <Box p=\"2\" bg=\"purple.50\" borderRadius=\"lg\">\n                        <FiTrendingUp size={20} color=\"#805ad5\" />\n                      </Box>\n                      <VStack align=\"start\" gap=\"1\">\n                        <Typography fontSize=\"3xl\" fontWeight=\"bold\" color=\"purple.500\">{auditSummary.approved}</Typography>\n                        <Typography fontSize=\"sm\" color=\"gray.600\" fontWeight=\"medium\">Approved</Typography>\n                      </VStack>\n                    </HStack>\n                  </VStack>\n                </Box>\n              </SimpleGrid>\n            </Box>\n\n            {/* Activity Log Section */}\n            <Box>\n              <VStack align=\"start\" gap=\"2\" mb=\"6\">\n                <Typography fontSize=\"2xl\" fontWeight=\"bold\" color=\"gray.800\">Activity Log</Typography>\n                <Typography fontSize=\"lg\" color=\"gray.600\">Append-only record of all actions performed in the system</Typography>\n              </VStack>\n              \n              <Box bg=\"white\" borderRadius=\"lg\" boxShadow=\"sm\" border=\"1px\" borderColor=\"gray.200\" overflow=\"hidden\">\n                {/* Table Header */}\n                <Box bg=\"gray.50\" p=\"4\" borderBottom=\"1px\" borderColor=\"gray.200\">\n                  <HStack gap=\"4\" fontSize=\"sm\" fontWeight=\"medium\" color=\"gray.600\">\n                    <Box width=\"200px\">Timestamp</Box>\n                    <Box width=\"200px\">Actor</Box>\n                    <Box width=\"150px\">Action</Box>\n                    <Box width=\"100px\">Entity</Box>\n                    <Box width=\"100px\">Entity ID</Box>\n                  </HStack>\n                </Box>\n                \n                {/* Table Body */}\n                {loading ? (\n                  <Box p=\"8\" display=\"flex\" justifyContent=\"center\">\n                    <VStack gap=\"2\">\n                      <Spinner size=\"md\" color=\"orange.500\" />\n                      <Typography color=\"gray.600\" fontSize=\"sm\">Loading audit logs...</Typography>\n                    </VStack>\n                  </Box>\n                ) : error ? (\n                  <Box p=\"8\">\n                    <Box \n                      bg=\"red.50\" \n                      border=\"1px\" \n                      borderColor=\"red.200\" \n                      borderRadius=\"md\" \n                      p=\"4\"\n                    >\n                      <HStack gap=\"2\">\n                        <IconWrapper><FiAlertCircle size={20} color=\"#E53E3E\" /></IconWrapper>\n                        <VStack align=\"start\" gap=\"1\" flex=\"1\">\n                          <Typography fontWeight=\"semibold\" color=\"red.700\">Error loading audit logs</Typography>\n                          <Typography fontSize=\"sm\" color=\"red.600\">{error}</Typography>\n                        </VStack>\n                      </HStack>\n                    </Box>\n                  </Box>\n                ) : auditEvents.length === 0 ? (\n                  <Box p=\"8\" textAlign=\"center\">\n                    <Typography color=\"gray.500\">No audit log entries found.</Typography>\n                  </Box>\n                ) : (\n                  <VStack gap=\"0\" align=\"stretch\">\n                    {auditEvents.map((event, index) => {\n                      const actionColors = getActionColor(event.action);\n                      return (\n                        <Box \n                          key={event.id}\n                          p=\"4\" \n                          borderBottom={index < auditEvents.length - 1 ? \"1px\" : \"none\"} \n                          borderColor=\"gray.100\"\n                          _hover={{ bg: \"gray.50\" }}\n                        >\n                          <HStack gap=\"4\" fontSize=\"sm\">\n                            <Box width=\"200px\">\n                              <Typography color=\"gray.600\">\n                                {new Date(event.timestamp).toLocaleString()}\n                              </Typography>\n                            </Box>\n                            <Box width=\"200px\">\n                              <Typography color=\"gray.800\" fontWeight=\"medium\">\n                                {getUserDisplayName(event)}\n                              </Typography>\n                              {event.userRole && (\n                                <Typography color=\"gray.500\" fontSize=\"xs\">\n                                  {event.userRole}\n                                </Typography>\n                              )}\n                            </Box>\n                            <Box width=\"150px\">\n                              <Box\n                                bg={actionColors.bg}\n                                color={actionColors.color}\n                                fontSize=\"xs\"\n                                fontWeight=\"medium\"\n                                px=\"2\"\n                                py=\"1\"\n                                borderRadius=\"sm\"\n                                display=\"inline-block\"\n                              >\n                                {event.action}\n                              </Box>\n                            </Box>\n                            <Box width=\"100px\">\n                              <Typography color=\"gray.600\">{event.entityType}</Typography>\n                            </Box>\n                            <Box width=\"100px\">\n                              <Typography color=\"gray.600\" fontFamily=\"mono\" fontSize=\"xs\">\n                                {event.entityId}\n                              </Typography>\n                            </Box>\n                          </HStack>\n                        </Box>\n                      );\n                    })}\n                  </VStack>\n                )}\n              </Box>\n            </Box>\n          </VStack>\n        </Box>\n      </Box>\n    </Flex>\n  );\n}\n","import { getSession } from 'next-auth/react';\n\nconst AUDIT_LOG_API_BASE_URL = process.env.NEXT_PUBLIC_AUDIT_LOG_API_BASE_URL || 'http://localhost:8011';\n\n// Types matching the backend DTOs\nexport interface AuditLogEntryDto {\n  id: string;\n  eventType: string;\n  entityType: string;\n  entityId: string;\n  caseId?: string;\n  partnerId?: string;\n  userId: string;\n  userRole: string;\n  action: string;\n  description: string;\n  oldValues?: string;\n  newValues?: string;\n  ipAddress: string;\n  userAgent: string;\n  timestamp: string;\n  correlationId?: string;\n  severity: string;\n  complianceCategory: string;\n  hash: string;\n  integrityVerified: boolean;\n}\n\nexport interface AuditLogSearchRequest {\n  eventType?: string;\n  entityType?: string;\n  entityId?: string;\n  caseId?: string;\n  partnerId?: string;\n  userId?: string;\n  action?: string;\n  severity?: string;\n  complianceCategory?: string;\n  fromDate?: string;\n  toDate?: string;\n  skip?: number;\n  take?: number;\n}\n\nexport interface AuditLogSearchResult {\n  entries: AuditLogEntryDto[];\n  totalCount: number;\n  skip: number;\n  take: number;\n}\n\nclass AuditLogApiService {\n  private async getAuthHeaders(): Promise<HeadersInit> {\n    const session = await getSession();\n    const headers: HeadersInit = {\n      'Content-Type': 'application/json',\n    };\n\n    // DO NOT send accessToken - API proxy will inject it from Redis\n    // Add user identification headers for backend\n    if (session?.user?.email) {\n      headers['X-User-Email'] = session.user.email;\n    }\n    if (session?.user?.name) {\n      headers['X-User-Name'] = session.user.name;\n    }\n\n    return headers;\n  }\n\n  private async request<T>(endpoint: string, options?: RequestInit): Promise<T> {\n    const url = `${AUDIT_LOG_API_BASE_URL}${endpoint}`;\n    const headers = await this.getAuthHeaders();\n\n    try {\n      // Create a timeout promise\n      const timeoutPromise = new Promise<never>((_, reject) => {\n        setTimeout(() => reject(new Error('Request timeout')), 10000);\n      });\n\n      const fetchPromise = fetch(url, {\n        ...options,\n        headers: {\n          ...headers,\n          ...options?.headers,\n        },\n      });\n\n      const response = await Promise.race([fetchPromise, timeoutPromise]);\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        let errorMessage = `Audit Log API request failed: ${response.status} ${response.statusText}`;\n        \n        // Try to parse error message from JSON response\n        try {\n          const errorJson = JSON.parse(errorText);\n          if (errorJson.message) {\n            errorMessage = errorJson.message;\n          } else if (errorJson.error) {\n            errorMessage = errorJson.error;\n          }\n        } catch {\n          // If not JSON, use the text as is\n          if (errorText && errorText.trim().length > 0) {\n            errorMessage = errorText.length > 200 ? errorText.substring(0, 200) + '...' : errorText;\n          }\n        }\n        \n        throw new Error(errorMessage);\n      }\n\n      // Handle 204 No Content responses\n      if (response.status === 204) {\n        return null as T;\n      }\n\n      return response.json();\n    } catch (error) {\n      if (error instanceof TypeError || (error instanceof Error && error.message.includes('timeout'))) {\n        throw new Error('Unable to connect to Audit Log service');\n      }\n      throw error;\n    }\n  }\n\n  /**\n   * Get audit log entry by ID\n   */\n  async getAuditLogEntry(id: string): Promise<AuditLogEntryDto> {\n    return this.request<AuditLogEntryDto>(`/api/v1/audit-logs/${id}`);\n  }\n\n  /**\n   * Get audit logs for a specific entity\n   */\n  async getAuditLogsByEntity(entityType: string, entityId: string): Promise<AuditLogEntryDto[]> {\n    return this.request<AuditLogEntryDto[]>(`/api/v1/audit-logs/entity/${encodeURIComponent(entityType)}/${encodeURIComponent(entityId)}`);\n  }\n\n  /**\n   * Get audit logs for a specific case\n   */\n  async getAuditLogsByCase(caseId: string): Promise<AuditLogEntryDto[]> {\n    return this.request<AuditLogEntryDto[]>(`/api/v1/audit-logs/case/${encodeURIComponent(caseId)}`);\n  }\n\n  /**\n   * Search audit logs with criteria\n   */\n  async searchAuditLogs(criteria: AuditLogSearchRequest): Promise<AuditLogSearchResult> {\n    return this.request<AuditLogSearchResult>('/api/v1/audit-logs/search', {\n      method: 'POST',\n      body: JSON.stringify(criteria),\n    });\n  }\n\n  /**\n   * Get all audit logs (using search with no filters)\n   */\n  async getAllAuditLogs(skip: number = 0, take: number = 100): Promise<AuditLogSearchResult> {\n    return this.searchAuditLogs({ skip, take });\n  }\n}\n\nexport const auditLogApiService = new AuditLogApiService();\n\n"],"names":[],"mappings":"0DAEA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,OAQA,EAAA,CAAA,CAAA,QAAA,IAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QCbA,EAAA,EAAA,CAAA,CAAA,QAqKO,IAAM,EAAqB,IAlHlC,AAkHsC,MAlHhC,AACJ,MAAc,gBAAuC,CACnD,IAAM,EAAU,MAAM,CAAA,EAAA,EAAA,UAAA,AAAU,IAC1B,EAAuB,CAC3B,eAAgB,kBAClB,EAWA,OAPI,GAAS,MAAM,OAAO,CACxB,CAAO,CAAC,eAAe,CAAG,EAAQ,IAAI,CAAC,KAAA,AAAK,EAE1C,GAAS,MAAM,MAAM,CACvB,CAAO,CAAC,cAAc,CAAG,EAAQ,IAAI,CAAC,IAAI,AAAJ,EAGjC,CACT,CAEA,MAAc,QAAW,CAAgB,CAAE,CAAqB,CAAc,CAC5E,IAAM,EAAM,GAAG,qBAAyB,GAAU,CAC5C,EAAU,MAAM,IAAI,CAAC,cAAc,GAEzC,GAAI,CAEF,IAAM,EAAiB,IAAI,QAAe,CAAC,EAAG,KAC5C,WAAW,IAAM,EAAO,AAAI,MAAM,oBAAqB,IACzD,GAEM,EAAe,MAAM,EAAK,CAC9B,GAAG,CAAO,CACV,QAAS,CACP,GAAG,CAAO,CACV,GAAG,GAAS,OAAO,AACrB,CACF,GAEM,EAAW,MAAM,QAAQ,IAAI,CAAC,CAAC,EAAc,EAAe,EAElE,GAAI,CAAC,EAAS,EAAE,CAAE,CAChB,IAAM,EAAY,MAAM,EAAS,IAAI,GACjC,EAAe,CAAC,8BAA8B,EAAE,EAAS,MAAM,CAAC,CAAC,EAAE,EAAS,UAAU,CAAA,CAAE,CAG5F,GAAI,CACF,IAAM,EAAY,KAAK,KAAK,CAAC,GACzB,EAAU,OAAO,CACnB,CADqB,CACN,EAAU,OAAO,CACvB,EAAU,KAAK,EAAE,CAC1B,EAAe,EAAU,KAAA,AAAK,CAElC,CAAE,KAAM,CAEF,GAAa,EAAU,IAAI,GAAG,MAAM,CAAG,GAAG,CAC5C,EAAe,EAAU,MAAM,CAAG,IAAM,EAAU,SAAS,CAAC,EAAG,KAAO,MAAQ,CAAA,CAElF,CAEA,MAAM,AAAI,MAAM,EAClB,CAGA,GAAwB,KAAK,CAAzB,EAAS,MAAM,CACjB,OAAO,KAGT,OAAO,EAAS,IAAI,EACtB,CAAE,MAAO,EAAO,CACd,GAAI,aAAiB,WAAc,aAAiB,OAAS,EAAM,OAAO,CAAC,QAAQ,CAAC,WAClF,CAD+F,KACzF,AAAI,MAAM,yCAElB,OAAM,CACR,CACF,CAKA,MAAM,iBAAiB,CAAU,CAA6B,CAC5D,OAAO,IAAI,CAAC,OAAO,CAAmB,CAAC,mBAAmB,EAAE,EAAA,CAAI,CAClE,CAKA,MAAM,qBAAqB,CAAkB,CAAE,CAAgB,CAA+B,CAC5F,OAAO,IAAI,CAAC,OAAO,CAAqB,CAAC,0BAA0B,EAAE,mBAAmB,GAAY,CAAC,EAAE,mBAAmB,GAAA,CAAW,CACvI,CAKA,MAAM,mBAAmB,CAAc,CAA+B,CACpE,OAAO,IAAI,CAAC,OAAO,CAAqB,CAAC,wBAAwB,EAAE,mBAAmB,GAAA,CAAS,CACjG,CAKA,MAAM,gBAAgB,CAA+B,CAAiC,CACpF,OAAO,IAAI,CAAC,OAAO,CAAuB,4BAA6B,CACrE,OAAQ,OACR,KAAM,KAAK,SAAS,CAAC,EACvB,EACF,CAKA,MAAM,gBAAgB,EAAe,CAAC,CAAE,EAAe,GAAG,CAAiC,CACzF,OAAO,IAAI,CAAC,eAAe,CAAC,MAAE,OAAM,CAAK,EAC3C,CACF,EDnJe,SAAS,IACtB,GAAM,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,IACvC,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAqB,EAAE,EAC/D,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CAC/C,YAAa,EACb,QAAS,EACT,QAAS,EACT,SAAU,CACZ,GACM,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAG5C,EAAmB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,AAAC,IACpC,IAAM,EAAc,EAAO,MAAM,CAC3B,EAAU,EAAO,MAAM,CAAC,GAC5B,EAAE,MAAM,CAAC,WAAW,GAAG,QAAQ,CAAC,WACL,WAA3B,EAAE,MAAM,CAAC,WAAW,IACpB,MAAM,CAUR,MAAO,aAAE,UAAa,EAAS,QATf,EAAO,MAAM,CAAC,GAC5B,EAAE,MAAM,CAAC,WAAW,GAAG,QAAQ,CAAC,WACL,WAA3B,EAAE,MAAM,CAAC,WAAW,IACpB,MAAM,CAMgC,SALvB,EAAO,MAAM,CAAC,GAC7B,EAAE,MAAM,CAAC,WAAW,GAAG,QAAQ,CAAC,YACL,YAA3B,EAAE,MAAM,CAAC,WAAW,IACpB,MAAM,AAEyC,CACnD,EAAG,EAAE,EAGC,EAAiB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,MAAO,IACxC,GAAW,GACX,EAAS,MAET,GAAI,KACE,EAEJ,GAAI,GAAe,EAAY,IAAI,GAAI,CAErC,IAAM,EAAc,EAAY,WAAW,GAOrC,EAAW,CANjB,EAAS,MAAM,EAAmB,eAAe,CAAC,CAChD,KAAM,EACN,KAAM,GACR,EAAA,EAGwB,OAAO,CAAC,MAAM,CAAC,GACrC,EAAM,MAAM,CAAC,WAAW,GAAG,QAAQ,CAAC,IACpC,EAAM,UAAU,CAAC,WAAW,GAAG,QAAQ,CAAC,IACxC,EAAM,QAAQ,CAAC,WAAW,GAAG,QAAQ,CAAC,IACtC,EAAM,MAAM,CAAC,WAAW,GAAG,QAAQ,CAAC,IACpC,EAAM,WAAW,CAAC,WAAW,GAAG,QAAQ,CAAC,GAE3C,GAAO,OAAO,CAAG,EACjB,EAAO,UAAU,CAAG,EAAS,MAAM,AACrC,MAEE,CAFK,CAEI,MAAM,EAAmB,eAAe,CAAC,EAAG,KAIvD,IAAM,EAAe,EAAO,OAAO,CAAC,IAAI,CAAC,CAAC,EAAG,IAC3C,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO,GAAK,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO,IAGjE,EAAe,GACf,EAAgB,EAAiB,GACnC,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,6BAA8B,GAC5C,EAAS,aAAe,MAAQ,EAAI,OAAO,CAAG,8EAC9C,EAAe,EAAE,EACjB,EAAgB,CAAE,YAAa,EAAG,QAAS,EAAG,QAAS,EAAG,SAAU,CAAE,EACxE,QAAU,CACR,GAAW,EACb,CACF,EAAG,CAAC,EAAiB,QAGrB,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAEF,EAAG,EAAE,EAsBH,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,KAAK,QAAQ,GAAG,oBAEpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAY,CAAA,CAAA,GAGb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,GAAG,CAAA,CAAC,KAAK,IAAI,GAAG,kBAEf,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,GAAG,QAAQ,aAAa,MAAM,YAAY,WAAW,GAAG,IAAI,GAAG,IAAI,UAAU,cAChF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,SAAS,KAAK,WAAW,OAAO,MAAM,oBAAW,gBAI/D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,EAAE,IAAI,GAAG,mBACZ,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,IAAI,IAAI,MAAM,oBAEpB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,GAAG,CAAA,WACF,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,QAAQ,gBAAgB,MAAM,QAAQ,GAAG,cAC7C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,MAAM,QAAQ,IAAI,cACxB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,IAAI,cACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,KAAM,GAAI,MAAM,YAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,SAAS,KAAK,WAAW,OAAO,MAAM,oBAAW,mBAE/D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,SAAS,KAAK,MAAM,WAAW,WAAW,kBAAS,6DAIjE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,MAAM,iBACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,YAAY,yBACZ,eAAgB,AAAC,IACf,EAAc,GACd,EAAe,EACjB,SAKN,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,CAAC,QAAS,CAAE,KAAM,EAAG,GAAI,EAAG,GAAI,CAAE,EAAG,IAAI,cAClD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CACF,GAAG,QACH,EAAE,IACF,aAAa,KACb,UAAU,kEACV,OAAO,MACP,YAAY,WACZ,OAAQ,CAAE,UAAW,uEAAwE,EAC7F,WAAW,oBAEX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,MAAM,QAAQ,IAAI,aACxB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,IAAI,cACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,EAAE,IAAI,GAAG,UAAU,aAAa,cACnC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,KAAM,GAAI,MAAM,cAEhC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,MAAM,QAAQ,IAAI,cACxB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,SAAS,MAAM,WAAW,OAAO,MAAM,oBAAY,EAAa,WAAW,GACvF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,SAAS,KAAK,MAAM,WAAW,WAAW,kBAAS,2BAMvE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CACF,GAAG,QACH,EAAE,IACF,aAAa,KACb,UAAU,kEACV,OAAO,MACP,YAAY,WACZ,OAAQ,CAAE,UAAW,uEAAwE,EAC7F,WAAW,oBAEX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,MAAM,QAAQ,IAAI,aACxB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,IAAI,cACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,EAAE,IAAI,GAAG,WAAW,aAAa,cACpC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,KAAM,GAAI,MAAM,cAEhC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,MAAM,QAAQ,IAAI,cACxB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,SAAS,MAAM,WAAW,OAAO,MAAM,qBAAa,EAAa,OAAO,GACpF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,SAAS,KAAK,MAAM,WAAW,WAAW,kBAAS,sBAMvE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CACF,GAAG,QACH,EAAE,IACF,aAAa,KACb,UAAU,kEACV,OAAO,MACP,YAAY,WACZ,OAAQ,CAAE,UAAW,uEAAwE,EAC7F,WAAW,oBAEX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,MAAM,QAAQ,IAAI,aACxB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,IAAI,cACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,EAAE,IAAI,GAAG,YAAY,aAAa,cACrC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,KAAM,GAAI,MAAM,cAEhC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,MAAM,QAAQ,IAAI,cACxB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,SAAS,MAAM,WAAW,OAAO,MAAM,sBAAc,EAAa,OAAO,GACrF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,SAAS,KAAK,MAAM,WAAW,WAAW,kBAAS,sBAMvE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CACF,GAAG,QACH,EAAE,IACF,aAAa,KACb,UAAU,kEACV,OAAO,MACP,YAAY,WACZ,OAAQ,CAAE,UAAW,uEAAwE,EAC7F,WAAW,oBAEX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,MAAM,QAAQ,IAAI,aACxB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,IAAI,cACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,EAAE,IAAI,GAAG,YAAY,aAAa,cACrC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,KAAM,GAAI,MAAM,cAEhC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,MAAM,QAAQ,IAAI,cACxB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,SAAS,MAAM,WAAW,OAAO,MAAM,sBAAc,EAAa,QAAQ,GACtF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,SAAS,KAAK,MAAM,WAAW,WAAW,kBAAS,6BAS3E,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,GAAG,CAAA,WACF,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,MAAM,QAAQ,IAAI,IAAI,GAAG,cAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,SAAS,MAAM,WAAW,OAAO,MAAM,oBAAW,iBAC9D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,SAAS,KAAK,MAAM,oBAAW,iEAG7C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,GAAG,CAAA,CAAC,GAAG,QAAQ,aAAa,KAAK,UAAU,KAAK,OAAO,MAAM,YAAY,WAAW,SAAS,mBAE5F,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,GAAG,UAAU,EAAE,IAAI,aAAa,MAAM,YAAY,oBACrD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,IAAI,IAAI,SAAS,KAAK,WAAW,SAAS,MAAM,qBACtD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,MAAM,iBAAQ,cACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,MAAM,iBAAQ,UACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,MAAM,iBAAQ,WACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,MAAM,iBAAQ,WACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,MAAM,iBAAQ,mBAKtB,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,EAAE,IAAI,QAAQ,OAAO,eAAe,kBACvC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,IAAI,cACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,KAAK,KAAK,MAAM,eACzB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,WAAW,SAAS,cAAK,+BAG7C,EACF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,EAAE,aACL,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CACF,GAAG,SACH,OAAO,MACP,YAAY,UACZ,aAAa,KACb,EAAE,aAEF,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,IAAI,cACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UAAC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,KAAM,GAAI,MAAM,cAC5C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,MAAM,QAAQ,IAAI,IAAI,KAAK,cACjC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,WAAW,WAAW,MAAM,mBAAU,6BAClD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,SAAS,KAAK,MAAM,mBAAW,cAK1B,IAAvB,EAAY,MAAM,CACpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,EAAE,IAAI,UAAU,kBACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,oBAAW,kCAG/B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,IAAI,IAAI,MAAM,mBACnB,EAAY,GAAG,CAAC,CAAC,EAAO,KACvB,MAAM,EAtMpB,CADE,EAAc,AAuMkC,EAAM,MAAM,CAvMvC,CAuMY,UAvMD,IACtB,QAAQ,CAAC,UAAkB,CAAP,AAAS,GAAI,YAAa,MAAO,WAAY,EAC7E,EAAY,QAAQ,CAAC,UAAkB,CAAP,AAAS,GAAI,WAAY,MAAO,UAAW,EAC3E,EAAY,QAAQ,CAAC,WAAmB,CAAP,AAAS,GAAI,aAAc,MAAO,YAAa,EAChF,EAAY,QAAQ,CAAC,UAAkB,CAAP,AAAS,GAAI,UAAW,MAAO,SAAU,EACtE,CAAE,GAAI,WAAY,MAAO,UAAW,EAmMzB,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAEF,EAAE,IACF,aAAc,EAAQ,EAAY,MAAM,CAAG,EAAI,MAAQ,OACvD,YAAY,WACZ,OAAQ,CAAE,GAAI,SAAU,WAExB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,IAAI,IAAI,SAAS,eACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,MAAM,iBACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,oBACf,IAAI,KAAK,EAAM,SAAS,EAAE,cAAc,OAG7C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,GAAG,CAAA,CAAC,MAAM,kBACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,WAAW,WAAW,kBA7M3D,AA8MyC,CAAnB,CA9MhB,MAAM,EAAI,WAgNI,EAAM,QAAQ,EACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,WAAW,SAAS,cACnC,EAAM,QAAQ,MAIrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,MAAM,iBACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CACF,GAAI,EAAa,EAAE,CACnB,MAAO,EAAa,KAAK,CACzB,SAAS,KACT,WAAW,SACX,GAAG,IACH,GAAG,IACH,aAAa,KACb,QAAQ,wBAEP,EAAM,MAAM,KAGjB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,MAAM,iBACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,oBAAY,EAAM,UAAU,KAEhD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,MAAM,iBACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,WAAW,WAAW,OAAO,SAAS,cACrD,EAAM,QAAQ,SAzChB,EAAM,EAAE,CA+CnB,qBAUpB"}}]
}