;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="0296ce40-88fb-2a8d-ac83-8793d8cd63c0")}catch(e){}}();
module.exports=[649846,a=>{"use strict";var b=a.i(187924),c=a.i(247290),d=a.i(480916),e=a.i(688294),f=a.i(332938),g=a.i(397225),h=a.i(15631),i=a.i(601167);a.i(525985);var j=a.i(831551),k=a.i(898799),l=a.i(652167),m=a.i(138340),n=a.i(155668),o=a.i(201526),p=a.i(883970),q=a.i(572131),r=a.i(718402),s=a.i(992539),t=a.i(305856),u=a.i(173029),v=a.i(727348),w=a.i(314232);a.i(95688);var x=a.i(457628),y=a.i(255145);function z(){let{data:a,status:z}=(0,r.useSession)(),{condensed:A}=(0,u.useSidebar)();(0,q.useEffect)(()=>{},[a,z]);let B=a?.user?.name||a?.user?.email||"Admin",C="admin";if(B.includes("@")){let a=B.split("@")[0];C=a.split(".")[0]?.toLowerCase()||a.toLowerCase()}else C=B.split(" ")[0]?.toLowerCase()||"admin";let[D,E]=(0,q.useState)({totalApplications:0,pendingReview:0,riskReview:0,completed:0,incomplete:0,declined:0,avgProcessingTime:0,successRate:0}),[F,G]=(0,q.useState)([]),[H,I]=(0,q.useState)([]),[J,K]=(0,q.useState)(!0),[L,M]=(0,q.useState)(null),[N,O]=(0,q.useState)(null);(0,q.useEffect)(()=>{P()},[]);let P=async()=>{try{K(!0),M(null);let[a,b,c,d]=await Promise.allSettled([(0,x.fetchDashboardStats)(),(0,x.fetchEntityTypeDistribution)(),(0,x.fetchApplicationTrends)(7),(0,x.fetchDashboardProjection)()]);"fulfilled"===a.status?E(a.value):(y.logger.error(a.reason,"Failed to load dashboard stats",{tags:{error_type:"dashboard_stats_error"}}),M(a.reason?.message||"Failed to load dashboard statistics")),"fulfilled"===b.status?G(b.value):y.logger.error(b.reason,"Failed to load entity types",{tags:{error_type:"entity_types_error"}}),"fulfilled"===c.status?I(c.value):y.logger.error(c.reason,"Failed to load trends",{tags:{error_type:"trends_error"}}),"fulfilled"===d.status?O(d.value):console.error("Failed to load full dashboard:",d.reason)}catch(a){console.error("Failed to load dashboard data:",a),M(a instanceof Error?a.message:"Failed to load dashboard data. Please ensure the backend services are running.")}finally{K(!1)}},Q=[{name:"Pending Review",value:D.pendingReview,color:"#3182ce"},{name:"Completed",value:D.completed,color:"#38a169"},{name:"Incomplete",value:D.incomplete,color:"#dd6b20"},{name:"Risk Review",value:D.riskReview,color:"#e53e3e"},{name:"Declined",value:D.declined,color:"#718096"}].filter(a=>a.value>0);return"loading"===z?(0,b.jsxs)(g.Flex,{minH:"100vh",bg:"gray.50",children:[(0,b.jsx)(s.default,{}),(0,b.jsx)(t.default,{}),(0,b.jsx)(c.Box,{flex:"1",ml:A?"72px":"280px",mt:"90px",display:"flex",alignItems:"center",justifyContent:"center",transition:"margin-left 0.3s ease",children:(0,b.jsxs)(d.VStack,{gap:"4",children:[(0,b.jsx)(h.Spinner,{size:"xl",color:"orange.500"}),(0,b.jsx)(j.Typography,{color:"gray.600",children:"Loading session..."})]})})]}):J?(0,b.jsxs)(g.Flex,{minH:"100vh",bg:"gray.50",children:[(0,b.jsx)(s.default,{}),(0,b.jsx)(t.default,{}),(0,b.jsx)(c.Box,{flex:"1",ml:A?"72px":"280px",mt:"90px",display:"flex",alignItems:"center",justifyContent:"center",transition:"margin-left 0.3s ease",children:(0,b.jsxs)(d.VStack,{gap:"4",children:[(0,b.jsx)(h.Spinner,{size:"xl",color:"orange.500"}),(0,b.jsx)(j.Typography,{color:"gray.600",children:"Loading dashboard..."})]})})]}):(0,b.jsxs)(g.Flex,{minH:"100vh",bg:"gray.50",children:[(0,b.jsx)(s.default,{}),(0,b.jsx)(t.default,{}),(0,b.jsx)(c.Box,{flex:"1",ml:A?"72px":"280px",mt:"90px",minH:"calc(100vh - 90px)",width:A?"calc(100% - 72px)":"calc(100% - 280px)",bg:"gray.50",overflowX:"hidden",transition:"margin-left 0.3s ease, width 0.3s ease",children:(0,b.jsx)(c.Box,{width:"full",px:"6",py:"8",children:(0,b.jsxs)(d.VStack,{gap:"8",align:"stretch",width:"full",children:[L&&(0,b.jsx)(l.AlertBar,{status:"error",title:"API request failed",description:L}),(0,b.jsx)(c.Box,{mb:"6",children:(0,b.jsxs)(d.VStack,{align:"start",gap:"2",children:[(0,b.jsxs)(j.Typography,{fontSize:"3xl",fontWeight:"bold",color:"#111827",children:["Hello ",C]}),(0,b.jsx)(j.Typography,{fontSize:"md",color:"#374151",children:"Here you'll find everything you need to manage your services, teams and partners"})]})}),(0,b.jsx)(c.Box,{width:"full",children:(0,b.jsxs)(f.SimpleGrid,{columns:{base:1,sm:2,md:3,lg:4,xl:6},gap:"4",width:"full",mb:"6",children:[(0,b.jsxs)(k.Card,{width:"full",bg:"white",children:[(0,b.jsxs)(g.Flex,{alignItems:"center",justifyContent:"space-between",w:"100%",h:"100%",mb:"4",children:[(0,b.jsxs)(g.Flex,{alignItems:"center",gap:"12px",my:"auto",children:[(0,b.jsx)(i.Avatar.Root,{bg:"mukuru.orange.100/20",height:"36px",width:"36px",display:"flex",alignItems:"center",justifyContent:"center",children:(0,b.jsx)(m.IconWrapper,{children:(0,b.jsx)(o.DocumentIcon,{color:"#F05423",height:"24px",width:"24px"})})}),(0,b.jsx)(j.Typography,{color:"gray.800",fontSize:"16px",fontWeight:"black",lineHeight:"24px",children:"Total Applications"})]}),(0,b.jsx)(c.Box,{justifySelf:"flex-end",children:(0,b.jsx)(n.ChevronRightIcon,{color:"#F05423",width:"20px",height:"20px"})})]}),(0,b.jsx)(j.Typography,{color:"gray.800",fontFamily:"Madera",fontSize:"30px",fontWeight:"black",letterSpacing:"0%",lineHeight:"40px",children:D.totalApplications.toLocaleString()})]}),(0,b.jsxs)(k.Card,{width:"full",bg:"white",children:[(0,b.jsxs)(g.Flex,{alignItems:"center",justifyContent:"space-between",w:"100%",h:"100%",mb:"4",children:[(0,b.jsxs)(g.Flex,{alignItems:"center",gap:"12px",my:"auto",children:[(0,b.jsx)(i.Avatar.Root,{bg:"blue.100",height:"36px",width:"36px",display:"flex",alignItems:"center",justifyContent:"center",children:(0,b.jsx)(m.IconWrapper,{children:(0,b.jsx)(v.FiClock,{size:24,color:"#3182CE"})})}),(0,b.jsx)(j.Typography,{color:"gray.800",fontSize:"16px",fontWeight:"black",lineHeight:"24px",children:"Pending Review"})]}),(0,b.jsx)(c.Box,{justifySelf:"flex-end",children:(0,b.jsx)(n.ChevronRightIcon,{color:"#F05423",width:"20px",height:"20px"})})]}),(0,b.jsx)(j.Typography,{color:"blue.600",fontFamily:"Madera",fontSize:"30px",fontWeight:"black",letterSpacing:"0%",lineHeight:"40px",children:D.pendingReview.toLocaleString()})]}),(0,b.jsxs)(k.Card,{width:"full",bg:"white",children:[(0,b.jsxs)(g.Flex,{alignItems:"center",justifyContent:"space-between",w:"100%",h:"100%",mb:"4",children:[(0,b.jsxs)(g.Flex,{alignItems:"center",gap:"12px",my:"auto",children:[(0,b.jsx)(i.Avatar.Root,{bg:"mukuru.orange.100/20",height:"36px",width:"36px",display:"flex",alignItems:"center",justifyContent:"center",children:(0,b.jsx)(m.IconWrapper,{children:(0,b.jsx)(p.WarningIcon,{color:"#F05423",height:"24px",width:"24px"})})}),(0,b.jsx)(j.Typography,{color:"gray.800",fontSize:"16px",fontWeight:"black",lineHeight:"24px",children:"Risk Review"})]}),(0,b.jsx)(c.Box,{justifySelf:"flex-end",children:(0,b.jsx)(n.ChevronRightIcon,{color:"#F05423",width:"20px",height:"20px"})})]}),(0,b.jsx)(j.Typography,{color:"orange.600",fontFamily:"Madera",fontSize:"30px",fontWeight:"black",letterSpacing:"0%",lineHeight:"40px",children:D.riskReview.toLocaleString()})]}),(0,b.jsxs)(k.Card,{width:"full",bg:"white",children:[(0,b.jsxs)(g.Flex,{alignItems:"center",justifyContent:"space-between",w:"100%",h:"100%",mb:"4",children:[(0,b.jsxs)(g.Flex,{alignItems:"center",gap:"12px",my:"auto",children:[(0,b.jsx)(i.Avatar.Root,{bg:"green.100",height:"36px",width:"36px",display:"flex",alignItems:"center",justifyContent:"center",children:(0,b.jsx)(m.IconWrapper,{children:(0,b.jsx)(v.FiCheckCircle,{size:24,color:"#38A169"})})}),(0,b.jsx)(j.Typography,{color:"gray.800",fontSize:"16px",fontWeight:"black",lineHeight:"24px",children:"Completed"})]}),(0,b.jsx)(c.Box,{justifySelf:"flex-end",children:(0,b.jsx)(n.ChevronRightIcon,{color:"#F05423",width:"20px",height:"20px"})})]}),(0,b.jsx)(j.Typography,{color:"green.600",fontFamily:"Madera",fontSize:"30px",fontWeight:"black",letterSpacing:"0%",lineHeight:"40px",children:D.completed.toLocaleString()})]}),(0,b.jsxs)(k.Card,{width:"full",bg:"white",children:[(0,b.jsxs)(g.Flex,{alignItems:"center",justifyContent:"space-between",w:"100%",h:"100%",mb:"4",children:[(0,b.jsxs)(g.Flex,{alignItems:"center",gap:"12px",my:"auto",children:[(0,b.jsx)(i.Avatar.Root,{bg:"mukuru.orange.100/20",height:"36px",width:"36px",display:"flex",alignItems:"center",justifyContent:"center",children:(0,b.jsx)(m.IconWrapper,{children:(0,b.jsx)(o.DocumentIcon,{color:"#F05423",height:"24px",width:"24px"})})}),(0,b.jsx)(j.Typography,{color:"gray.800",fontSize:"16px",fontWeight:"black",lineHeight:"24px",children:"Incomplete"})]}),(0,b.jsx)(c.Box,{justifySelf:"flex-end",children:(0,b.jsx)(n.ChevronRightIcon,{color:"#F05423",width:"20px",height:"20px"})})]}),(0,b.jsx)(j.Typography,{color:"orange.600",fontFamily:"Madera",fontSize:"30px",fontWeight:"black",letterSpacing:"0%",lineHeight:"40px",children:D.incomplete.toLocaleString()})]}),(0,b.jsxs)(k.Card,{width:"full",bg:"white",children:[(0,b.jsxs)(g.Flex,{alignItems:"center",justifyContent:"space-between",w:"100%",h:"100%",mb:"4",children:[(0,b.jsxs)(g.Flex,{alignItems:"center",gap:"12px",my:"auto",children:[(0,b.jsx)(i.Avatar.Root,{bg:"red.100",height:"36px",width:"36px",display:"flex",alignItems:"center",justifyContent:"center",children:(0,b.jsx)(m.IconWrapper,{children:(0,b.jsx)(v.FiXCircle,{size:24,color:"#E53E3E"})})}),(0,b.jsx)(j.Typography,{color:"gray.800",fontSize:"16px",fontWeight:"black",lineHeight:"24px",children:"Declined"})]}),(0,b.jsx)(c.Box,{justifySelf:"flex-end",children:(0,b.jsx)(n.ChevronRightIcon,{color:"#F05423",width:"20px",height:"20px"})})]}),(0,b.jsx)(j.Typography,{color:"red.600",fontFamily:"Madera",fontSize:"30px",fontWeight:"black",letterSpacing:"0%",lineHeight:"40px",children:D.declined.toLocaleString()})]})]})}),(0,b.jsx)(c.Box,{width:"full",children:(0,b.jsxs)(f.SimpleGrid,{columns:{base:1,sm:2,md:2,lg:4},gap:"4",width:"full",children:[(0,b.jsxs)(k.Card,{width:"full",bg:"white",children:[(0,b.jsxs)(g.Flex,{alignItems:"center",justifyContent:"space-between",w:"100%",h:"100%",mb:"4",children:[(0,b.jsxs)(g.Flex,{alignItems:"center",gap:"12px",my:"auto",children:[(0,b.jsx)(i.Avatar.Root,{bg:"gray.100",height:"36px",width:"36px",display:"flex",alignItems:"center",justifyContent:"center",children:(0,b.jsx)(m.IconWrapper,{children:(0,b.jsx)(v.FiClock,{size:24,color:"#9CA3AF"})})}),(0,b.jsx)(j.Typography,{color:"gray.800",fontSize:"16px",fontWeight:"black",lineHeight:"24px",children:"Avg Processing Time"})]}),(0,b.jsx)(c.Box,{justifySelf:"flex-end",children:(0,b.jsx)(n.ChevronRightIcon,{color:"#F05423",width:"20px",height:"20px"})})]}),(0,b.jsx)(j.Typography,{color:"gray.800",fontFamily:"Madera",fontSize:"30px",fontWeight:"black",letterSpacing:"0%",lineHeight:"40px",children:D.avgProcessingTime>0?`${D.avgProcessingTime.toFixed(1)} days`:"N/A"})]}),(0,b.jsxs)(k.Card,{width:"full",bg:"white",children:[(0,b.jsxs)(g.Flex,{alignItems:"center",justifyContent:"space-between",w:"100%",h:"100%",mb:"4",children:[(0,b.jsxs)(g.Flex,{alignItems:"center",gap:"12px",my:"auto",children:[(0,b.jsx)(i.Avatar.Root,{bg:"green.100",height:"36px",width:"36px",display:"flex",alignItems:"center",justifyContent:"center",children:(0,b.jsx)(m.IconWrapper,{children:(0,b.jsx)(v.FiTrendingUp,{size:24,color:"#38A169"})})}),(0,b.jsx)(j.Typography,{color:"gray.800",fontSize:"16px",fontWeight:"black",lineHeight:"24px",children:"Success Rate"})]}),(0,b.jsx)(c.Box,{justifySelf:"flex-end",children:(0,b.jsx)(n.ChevronRightIcon,{color:"#F05423",width:"20px",height:"20px"})})]}),(0,b.jsx)(j.Typography,{color:"green.600",fontFamily:"Madera",fontSize:"30px",fontWeight:"black",letterSpacing:"0%",lineHeight:"40px",children:D.successRate>0?`${(100*D.successRate).toFixed(1)}%`:"0%"})]}),(0,b.jsxs)(k.Card,{width:"full",bg:"white",children:[(0,b.jsxs)(g.Flex,{alignItems:"center",justifyContent:"space-between",w:"100%",h:"100%",mb:"4",children:[(0,b.jsxs)(g.Flex,{alignItems:"center",gap:"12px",my:"auto",children:[(0,b.jsx)(i.Avatar.Root,{bg:"blue.100",height:"36px",width:"36px",display:"flex",alignItems:"center",justifyContent:"center",children:(0,b.jsx)(m.IconWrapper,{children:(0,b.jsx)(v.FiZap,{size:24,color:"#3182CE"})})}),(0,b.jsx)(j.Typography,{color:"gray.800",fontSize:"16px",fontWeight:"black",lineHeight:"24px",children:"New This Month"})]}),(0,b.jsx)(c.Box,{justifySelf:"flex-end",children:(0,b.jsx)(n.ChevronRightIcon,{color:"#F05423",width:"20px",height:"20px"})})]}),(0,b.jsx)(j.Typography,{color:"blue.600",fontFamily:"Madera",fontSize:"30px",fontWeight:"black",letterSpacing:"0%",lineHeight:"40px",children:N?.cases?.newCasesThisMonth?.toLocaleString()||"0"}),N?.cases?.newCasesGrowthPercentage!==void 0&&(0,b.jsxs)(e.HStack,{gap:"1",mt:"2",children:[(0,b.jsx)(v.FiTrendingUp,{size:14,color:N.cases.newCasesGrowthPercentage>=0?"#38A169":"#E53E3E"}),(0,b.jsxs)(j.Typography,{fontSize:"xs",color:N.cases.newCasesGrowthPercentage>=0?"green.600":"red.600",children:[N.cases.newCasesGrowthPercentage>=0?"+":"",N.cases.newCasesGrowthPercentage.toFixed(1),"% vs last month"]})]})]}),(0,b.jsxs)(k.Card,{width:"full",bg:"white",children:[(0,b.jsxs)(g.Flex,{alignItems:"center",justifyContent:"space-between",w:"100%",h:"100%",mb:"4",children:[(0,b.jsxs)(g.Flex,{alignItems:"center",gap:"12px",my:"auto",children:[(0,b.jsx)(i.Avatar.Root,{bg:"green.100",height:"36px",width:"36px",display:"flex",alignItems:"center",justifyContent:"center",children:(0,b.jsx)(m.IconWrapper,{children:(0,b.jsx)(v.FiBarChart,{size:24,color:"#38A169"})})}),(0,b.jsx)(j.Typography,{color:"gray.800",fontSize:"16px",fontWeight:"black",lineHeight:"24px",children:"Approval Rate"})]}),(0,b.jsx)(c.Box,{justifySelf:"flex-end",children:(0,b.jsx)(n.ChevronRightIcon,{color:"#F05423",width:"20px",height:"20px"})})]}),(0,b.jsx)(j.Typography,{color:"green.600",fontFamily:"Madera",fontSize:"30px",fontWeight:"black",letterSpacing:"0%",lineHeight:"40px",children:N?.performance?.approvalRate?`${(100*N.performance.approvalRate).toFixed(1)}%`:D.totalApplications>0?`${(D.completed/D.totalApplications*100).toFixed(1)}%`:"0%"})]})]})}),(0,b.jsxs)(f.SimpleGrid,{columns:{base:1,lg:2},gap:"6",width:"full",children:[(0,b.jsx)(k.Card,{width:"full",bg:"white",style:{width:"100%",height:"auto"},children:(0,b.jsxs)(d.VStack,{align:"start",gap:"6",width:"full",p:"6",children:[(0,b.jsxs)(d.VStack,{align:"start",gap:"1",width:"full",children:[(0,b.jsx)(j.Typography,{fontSize:"lg",fontWeight:"semibold",color:"gray.900",children:"Application Status Distribution"}),(0,b.jsx)(j.Typography,{fontSize:"sm",color:"gray.600",children:"Current status breakdown of all applications"})]}),Q.length>0?(0,b.jsx)(c.Box,{width:"100%",height:"320px",style:{minWidth:"300px",minHeight:"320px"},children:(0,b.jsx)(w.StatusPieChart,{data:Q})}):(0,b.jsx)(c.Box,{width:"100%",height:"320px",display:"flex",alignItems:"center",justifyContent:"center",bg:"gray.50",borderRadius:"md",children:(0,b.jsxs)(d.VStack,{gap:"2",children:[(0,b.jsx)(m.IconWrapper,{children:(0,b.jsx)(v.FiFileText,{size:32,color:"#9CA3AF"})}),(0,b.jsx)(j.Typography,{color:"gray.500",fontSize:"sm",children:"No application status data available"})]})})]})}),(0,b.jsx)(k.Card,{width:"full",bg:"white",style:{width:"100%",height:"auto"},children:(0,b.jsxs)(d.VStack,{align:"start",gap:"6",width:"full",p:"6",children:[(0,b.jsxs)(d.VStack,{align:"start",gap:"1",width:"full",children:[(0,b.jsx)(j.Typography,{fontSize:"lg",fontWeight:"semibold",color:"gray.900",children:"Applications by Entity Type"}),(0,b.jsx)(j.Typography,{fontSize:"sm",color:"gray.600",children:"Distribution across business types"})]}),F.length>0?(0,b.jsx)(c.Box,{width:"100%",height:"320px",style:{minWidth:"300px",minHeight:"320px"},children:(0,b.jsx)(w.EntityTypeChart,{data:F,height:320})}):(0,b.jsx)(c.Box,{width:"100%",height:"320px",display:"flex",alignItems:"center",justifyContent:"center",bg:"gray.50",borderRadius:"md",children:(0,b.jsxs)(d.VStack,{gap:"2",children:[(0,b.jsx)(m.IconWrapper,{children:(0,b.jsx)(v.FiBarChart,{size:32,color:"#9CA3AF"})}),(0,b.jsx)(j.Typography,{color:"gray.500",fontSize:"sm",children:"No entity type data available"})]})})]})})]}),(0,b.jsx)(k.Card,{width:"full",bg:"white",style:{width:"100%",height:"auto"},children:(0,b.jsxs)(d.VStack,{align:"start",gap:"6",width:"full",p:"6",children:[(0,b.jsxs)(d.VStack,{align:"start",gap:"1",width:"full",children:[(0,b.jsx)(j.Typography,{fontSize:"lg",fontWeight:"semibold",color:"gray.900",children:"Application Trend"}),(0,b.jsx)(j.Typography,{fontSize:"sm",color:"gray.600",children:"New applications over the last 7 days"})]}),H.length>0?(0,b.jsxs)(c.Box,{width:"100%",height:"300px",style:{minWidth:"300px",minHeight:"300px"},children:[(0,b.jsx)(w.ApplicationTrendsChart,{data:H}),(0,b.jsx)(c.Box,{mt:"4",children:(0,b.jsx)(w.ChartLegend,{items:[{name:"Applications",color:"#dd6b20"},{name:"Completed",color:"#38a169"}]})})]}):(0,b.jsx)(c.Box,{width:"100%",height:"300px",display:"flex",alignItems:"center",justifyContent:"center",bg:"gray.50",borderRadius:"md",children:(0,b.jsxs)(d.VStack,{gap:"2",children:[(0,b.jsx)(m.IconWrapper,{children:(0,b.jsx)(v.FiTrendingUp,{size:32,color:"#9CA3AF"})}),(0,b.jsx)(j.Typography,{color:"gray.500",fontSize:"sm",children:"No trend data available"})]})})]})})]})})})]})}a.s(["default",()=>z])}];

//# debugId=0296ce40-88fb-2a8d-ac83-8793d8cd63c0
//# sourceMappingURL=src_app_dashboard_page_tsx_196c74b5._.js.map